{"ast":null,"code":"import _slicedToArray from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport React, { useMemo, useEffect, memo, useRef, Suspense, useState, forwardRef, useLayoutEffect } from 'react';\nimport { useThree, addEffect, addAfterEffect, addTail, useFrame, Canvas } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport { MathUtils } from 'three';\nimport create from 'zustand';\nimport { styled } from '@stitches/react';\nimport { PauseIcon, TriangleDownIcon, TriangleUpIcon, LayersIcon, ImageIcon, RocketIcon, EyeOpenIcon, EyeNoneIcon, ButtonIcon, CubeIcon, VercelLogoIcon, ActivityLogIcon, LightningBoltIcon, RulerHorizontalIcon, LapTimerIcon, TextAlignJustifyIcon, BarChartIcon, MarginIcon, MinusIcon, DotIcon, DropdownMenuIcon } from '@radix-ui/react-icons';\nimport { Text } from '@react-three/drei';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { createRoot } from 'react-dom/client';\nimport { estimateBytesUsed } from 'three-stdlib';\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar GLPerf = /*#__PURE__*/function () {\n  function GLPerf() {\n    var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, GLPerf);\n    this.names = [''];\n    this.finished = [];\n    this.gl = void 0;\n    this.extension = void 0;\n    this.query = void 0;\n    this.paused = false;\n    this.queryHasResult = false;\n    this.queryCreated = false;\n    this.isWebGL2 = true;\n    this.memAccums = [];\n    this.gpuAccums = [];\n    this.activeAccums = [];\n    this.chart = [];\n    this.gpuChart = [];\n    this.memChart = [];\n    this.paramLogger = function () {};\n    this.glFinish = function () {};\n    this.chartLogger = function () {};\n    this.chartLen = 60;\n    this.maxMemory = 1500;\n    this.chartHz = 10;\n    this.chartFrame = 0;\n    this.gpuTimeProcess = 0;\n    this.chartTime = 0;\n    this.activeQueries = 0;\n    this.circularId = 0;\n    this.detected = 0;\n    this.frameId = 0;\n    this.rafId = 0;\n    this.checkQueryId = 0;\n    this.uuid = undefined;\n    this.currentMem = 0;\n    this.paramFrame = 0;\n    this.paramTime = 0;\n    this.now = function () {};\n    this.t0 = 0;\n    window.GLPerf = window.GLPerf || {};\n    Object.assign(this, settings);\n    this.chart = new Array(this.chartLen).fill(0);\n    this.gpuChart = new Array(this.chartLen).fill(0);\n    this.memChart = new Array(this.chartLen).fill(0);\n    this.now = function () {\n      return window.performance && window.performance.now ? window.performance.now() : Date.now();\n    };\n    this.initGpu();\n    this.is120hz();\n  }\n  _createClass(GLPerf, [{\n    key: \"initGpu\",\n    value: function initGpu() {\n      this.uuid = MathUtils.generateUUID();\n      if (this.gl) {\n        this.isWebGL2 = true;\n        if (!this.extension) {\n          this.extension = this.gl.getExtension('EXT_disjoint_timer_query_webgl2');\n        }\n        if (this.extension === null) {\n          this.isWebGL2 = false;\n        }\n      }\n    }\n  }, {\n    key: \"is120hz\",\n    value: function is120hz() {\n      var _this = this;\n      var n = 0;\n      var loop = function loop(t) {\n        if (++n < 20) {\n          _this.rafId = window.requestAnimationFrame(loop);\n        } else {\n          _this.detected = Math.ceil(1e3 * n / (t - _this.t0) / 70);\n          window.cancelAnimationFrame(_this.rafId);\n        }\n        if (!_this.t0) _this.t0 = t;\n      };\n      this.rafId = window.requestAnimationFrame(loop);\n    }\n  }, {\n    key: \"addUI\",\n    value: function addUI(name) {\n      if (this.names.indexOf(name) === -1) {\n        this.names.push(name);\n        this.gpuAccums.push(0);\n        this.activeAccums.push(false);\n      }\n    }\n  }, {\n    key: \"nextFrame\",\n    value: function nextFrame(now) {\n      var _this2 = this;\n      this.frameId++;\n      var t = now || this.now();\n      var duration = t - this.paramTime;\n      var gpu = 0;\n      if (this.frameId <= 1) {\n        this.paramFrame = this.frameId;\n        this.paramTime = t;\n      } else {\n        if (t >= this.paramTime + 200) {\n          this.maxMemory = window.performance.memory ? window.performance.memory.jsHeapSizeLimit / 1048576 : 0;\n          var frameCount = this.frameId - this.paramFrame;\n          var fps = frameCount * 1000 / duration;\n          var _loop = function _loop(i) {\n            gpu = _this2.isWebGL2 ? _this2.gpuAccums[i] : _this2.gpuAccums[i] / duration;\n            _this2.currentMem = Math.round(window.performance && window.performance.memory ? window.performance.memory.usedJSHeapSize / 1048576 : 0);\n            _this2.paramLogger({\n              gpu: gpu,\n              i: i,\n              mem: _this2.currentMem,\n              maxMemory: _this2.maxMemory,\n              fps: fps,\n              duration: Math.round(duration),\n              frameCount: frameCount\n            });\n            if (_this2.isWebGL2) {\n              _this2.gpuAccums[i] = 0;\n            } else {\n              Promise.all(_this2.finished).then(function () {\n                _this2.gpuAccums[i] = 0;\n                _this2.finished = [];\n              });\n            }\n          };\n          for (var i = 0; i < this.names.length; i++) {\n            _loop(i);\n          }\n          this.paramFrame = this.frameId;\n          this.paramTime = t;\n        }\n      }\n      if (!this.detected || !this.chartFrame) {\n        this.chartFrame = this.frameId;\n        this.chartTime = t;\n        this.circularId = 0;\n      } else {\n        var timespan = t - this.chartTime;\n        var hz = this.chartHz * timespan / 1e3;\n        while (--hz > 0 && this.detected) {\n          var _frameCount = this.frameId - this.chartFrame;\n          var _fps = _frameCount / timespan * 1e3;\n          this.chart[this.circularId % this.chartLen] = _fps;\n          var memS = 1000 / this.currentMem;\n          var gpuS = (this.isWebGL2 ? this.gpuAccums[1] * 2 : Math.round(this.gpuAccums[1] / duration * 100)) + 4;\n          if (gpuS > 0) {\n            this.gpuChart[this.circularId % this.chartLen] = gpuS;\n          }\n          if (memS > 0) {\n            this.memChart[this.circularId % this.chartLen] = memS;\n          }\n          for (var _i = 0; _i < this.names.length; _i++) {\n            this.chartLogger({\n              i: _i,\n              data: {\n                fps: this.chart,\n                gpu: this.gpuChart,\n                mem: this.memChart\n              },\n              circularId: this.circularId\n            });\n          }\n          this.circularId++;\n          this.chartFrame = this.frameId;\n          this.chartTime = t;\n        }\n      }\n    }\n  }, {\n    key: \"startGpu\",\n    value: function startGpu() {\n      var _this3 = this;\n      var gl = this.gl;\n      var ext = this.extension;\n      if (!gl || !ext) return;\n      if (this.isWebGL2) {\n        var available = false;\n        var disjoint, ns;\n        if (this.query) {\n          this.queryHasResult = false;\n          var query = this.query;\n          available = gl.getQueryParameter(query, gl.QUERY_RESULT_AVAILABLE);\n          disjoint = gl.getParameter(ext.GPU_DISJOINT_EXT);\n          if (available && !disjoint) {\n            ns = gl.getQueryParameter(this.query, gl.QUERY_RESULT);\n            var ms = ns * 1e-6;\n            if (available && ms > 0) {\n              if (!disjoint) {\n                this.activeAccums.forEach(function (_active, i) {\n                  _this3.gpuAccums[i] = ms;\n                });\n              }\n            }\n          }\n        }\n        if (available || !this.query) {\n          this.queryCreated = true;\n          this.query = gl.createQuery();\n          gl.beginQuery(ext.TIME_ELAPSED_EXT, this.query);\n        }\n      }\n    }\n  }, {\n    key: \"endGpu\",\n    value: function endGpu() {\n      var ext = this.extension;\n      var gl = this.gl;\n      if (this.isWebGL2 && this.queryCreated && gl.getQuery(ext.TIME_ELAPSED_EXT, gl.CURRENT_QUERY)) {\n        gl.endQuery(ext.TIME_ELAPSED_EXT);\n      }\n    }\n  }, {\n    key: \"begin\",\n    value: function begin(name) {\n      this.startGpu();\n      this.updateAccums(name);\n    }\n  }, {\n    key: \"end\",\n    value: function end(name) {\n      this.endGpu();\n      this.updateAccums(name);\n    }\n  }, {\n    key: \"updateAccums\",\n    value: function updateAccums(name) {\n      var nameId = this.names.indexOf(name);\n      if (nameId === -1) {\n        nameId = this.names.length;\n        this.addUI(name);\n      }\n      var t = this.now();\n      this.activeAccums[nameId] = !this.activeAccums[nameId];\n      this.t0 = t;\n    }\n  }]);\n  return GLPerf;\n}();\nvar countGeoDrawCalls = function countGeoDrawCalls(programs) {\n  programs.forEach(function (program, _pkey) {\n    var meshes = program.meshes;\n    if (!meshes) {\n      return;\n    }\n    var drawCounts = {\n      total: 0,\n      type: 'Triangle',\n      data: []\n    };\n    Object.keys(meshes).forEach(function (key) {\n      var mesh = meshes[key];\n      var geometry = mesh.geometry,\n        material = mesh.material;\n      var index = geometry.index;\n      var position = geometry.attributes.position;\n      if (!position) return;\n      var rangeFactor = 1;\n      if (material.wireframe === true) {\n        rangeFactor = 0;\n      }\n      var dataCount = index !== null ? index.count : position.count;\n      var rangeStart = geometry.drawRange.start * rangeFactor;\n      var rangeCount = geometry.drawRange.count * rangeFactor;\n      var drawStart = rangeStart;\n      var drawEnd = Math.min(dataCount, rangeStart + rangeCount) - 1;\n      var countInstanceRatio = 1;\n      var instanceCount = mesh.count || 1;\n      var type = 'Triangle';\n      var mostDrawCalls = 0;\n      if (mesh.isMesh) {\n        if (material.wireframe === true) {\n          type = 'Line';\n          countInstanceRatio = countInstanceRatio / 2;\n        } else {\n          type = 'Triangle';\n          countInstanceRatio = countInstanceRatio / 3;\n        }\n      } else if (mesh.isLine) {\n        type = 'Line';\n        if (mesh.isLineSegments) {\n          countInstanceRatio = countInstanceRatio / 2;\n        } else if (mesh.isLineLoop) {\n          countInstanceRatio = countInstanceRatio;\n        } else {\n          countInstanceRatio = countInstanceRatio - 1;\n        }\n      } else if (mesh.isPoints) {\n        type = 'Point';\n        countInstanceRatio = countInstanceRatio;\n      } else if (mesh.isSprite) {\n        type = 'Triangle';\n        countInstanceRatio = countInstanceRatio / 3;\n      }\n      var drawCount = Math.round(Math.max(0, drawEnd - drawStart + 1) * (countInstanceRatio * instanceCount));\n      if (drawCount > mostDrawCalls) {\n        mostDrawCalls = drawCount;\n        drawCounts.type = type;\n      }\n      drawCounts.total += drawCount;\n      drawCounts.data.push({\n        drawCount: drawCount,\n        type: type\n      });\n      mesh.userData.drawCount = {\n        type: type,\n        count: drawCount\n      };\n    });\n    program.drawCounts = drawCounts;\n  });\n};\nvar updateMatrixWorldTemp = THREE.Object3D.prototype.updateMatrixWorld;\nvar updateWorldMatrixTemp = THREE.Object3D.prototype.updateWorldMatrix;\nvar updateMatrixTemp = THREE.Object3D.prototype.updateMatrix;\nvar matriceWorldCount = {\n  value: 0\n};\nvar matriceCount = {\n  value: 0\n};\nvar isUUID = function isUUID(uuid) {\n  var s = '' + uuid;\n  s = s.match('^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$');\n  if (s === null) {\n    return false;\n  }\n  return true;\n};\nvar addMuiPerfID = function addMuiPerfID(material, currentObjectWithMaterials) {\n  if (!material.defines) {\n    material.defines = {};\n  }\n  if (material.defines && !material.defines.muiPerf) {\n    material.defines = Object.assign(material.defines || {}, {\n      muiPerf: material.uuid\n    });\n  }\n  var uuid = material.uuid;\n  if (!currentObjectWithMaterials[uuid]) {\n    currentObjectWithMaterials[uuid] = {\n      meshes: {},\n      material: material\n    };\n    material.needsUpdate = true;\n  }\n  material.needsUpdate = false;\n  return uuid;\n};\nvar getMUIIndex = function getMUIIndex(muid) {\n  return muid === 'muiPerf';\n};\nvar usePerfStore = create(function (set) {\n  return {\n    log: null,\n    paused: false,\n    triggerProgramsUpdate: 0,\n    customData: 0,\n    chart: {\n      data: {\n        fps: [],\n        gpu: [],\n        mem: []\n      },\n      circularId: 0\n    },\n    gl: undefined,\n    objectWithMaterials: null,\n    scene: undefined,\n    programs: new Map(),\n    sceneLength: undefined,\n    tab: 'infos'\n  };\n});\nvar setCustomData = function setCustomData(customData) {\n  usePerfStore.setState({\n    customData: customData\n  });\n};\nvar getCustomData = function getCustomData() {\n  return usePerfStore.getState().customData;\n};\nvar usePerfFunc = function usePerfFunc() {\n  var _usePerfStore;\n  return {\n    log: usePerfStore(function (state) {\n      return state.log;\n    }),\n    gl: (_usePerfStore = usePerfStore(function (state) {\n      return state.gl;\n    })) === null || _usePerfStore === void 0 ? void 0 : _usePerfStore.info,\n    programs: usePerfStore(function (state) {\n      return state.programs;\n    })\n  };\n};\nvar Headless = function Headless(_ref2) {\n  var trackCPU = _ref2.trackCPU,\n    chart = _ref2.chart,\n    deepAnalyze = _ref2.deepAnalyze,\n    matrixUpdate = _ref2.matrixUpdate;\n  var _useThree = useThree(),\n    gl = _useThree.gl,\n    scene = _useThree.scene;\n  usePerfStore.setState({\n    gl: gl,\n    scene: scene\n  });\n  var PerfLib = useMemo(function () {\n    var PerfLib = new GLPerf({\n      trackGPU: true,\n      chartLen: chart ? chart.length : 120,\n      chartHz: chart ? chart.hz : 60,\n      gl: gl.getContext(),\n      chartLogger: function chartLogger(chart) {\n        usePerfStore.setState({\n          chart: chart\n        });\n      },\n      paramLogger: function paramLogger(logger) {\n        usePerfStore.setState({\n          log: {\n            maxMemory: logger.maxMemory,\n            gpu: logger.gpu,\n            mem: logger.mem,\n            fps: logger.fps,\n            totalTime: logger.duration,\n            frameCount: logger.frameCount\n          }\n        });\n      }\n    });\n    var callbacks = new Map();\n    var callbacksAfter = new Map();\n    Object.defineProperty(THREE.Scene.prototype, 'onBeforeRender', {\n      get: function get() {\n        var _this4 = this;\n        return function () {\n          var _callbacks$get;\n          if (PerfLib) {\n            PerfLib.begin('profiler');\n          }\n          (_callbacks$get = callbacks.get(_this4)) === null || _callbacks$get === void 0 ? void 0 : _callbacks$get.apply(void 0, arguments);\n        };\n      },\n      set: function set(callback) {\n        callbacks.set(this, callback);\n      },\n      configurable: true\n    });\n    Object.defineProperty(THREE.Scene.prototype, 'onAfterRender', {\n      get: function get() {\n        var _this5 = this;\n        return function () {\n          var _callbacksAfter$get;\n          if (PerfLib) {\n            PerfLib.end('profiler');\n          }\n          (_callbacksAfter$get = callbacksAfter.get(_this5)) === null || _callbacksAfter$get === void 0 ? void 0 : _callbacksAfter$get.apply(void 0, arguments);\n        };\n      },\n      set: function set(callback) {\n        callbacksAfter.set(this, callback);\n      },\n      configurable: true\n    });\n    return PerfLib;\n  }, []);\n  useEffect(function () {\n    if (matrixUpdate) {\n      THREE.Object3D.prototype.updateMatrixWorld = function () {\n        if (this.matrixWorldNeedsUpdate || arguments[0]) {\n          matriceWorldCount.value++;\n        }\n        updateMatrixWorldTemp.apply(this, arguments);\n      };\n      THREE.Object3D.prototype.updateWorldMatrix = function () {\n        matriceWorldCount.value++;\n        updateWorldMatrixTemp.apply(this, arguments);\n      };\n      THREE.Object3D.prototype.updateMatrix = function () {\n        matriceCount.value++;\n        updateMatrixTemp.apply(this, arguments);\n      };\n    }\n    gl.info.autoReset = false;\n    var effectSub = null;\n    var afterEffectSub = null;\n    if (!gl.info) return;\n    effectSub = addEffect(function preRafR3FPerf() {\n      if (usePerfStore.getState().paused) {\n        usePerfStore.setState({\n          paused: false\n        });\n      }\n      matriceCount.value -= 1;\n      matriceWorldCount.value = 0;\n      matriceCount.value = 0;\n      if (gl.info) {\n        gl.info.reset();\n      }\n    });\n    afterEffectSub = addAfterEffect(function postRafR3FPerf() {\n      if (PerfLib && !PerfLib.paused) {\n        PerfLib.nextFrame(window.performance.now());\n      }\n      if (deepAnalyze) {\n        var _gl$info, _gl$info$programs;\n        var currentObjectWithMaterials = {};\n        var programs = new Map();\n        scene.traverse(function deepAnalyzeR3FPerf(object) {\n          if (object instanceof THREE.Mesh || object instanceof THREE.Points) {\n            if (object.material) {\n              var uuid = object.material.uuid;\n              var isTroika = Array.isArray(object.material) && object.material.length > 1;\n              if (isTroika) {\n                uuid = addMuiPerfID(object.material[1], currentObjectWithMaterials);\n              } else {\n                uuid = addMuiPerfID(object.material, currentObjectWithMaterials);\n              }\n              currentObjectWithMaterials[uuid].meshes[object.uuid] = object;\n            }\n          }\n        });\n        gl === null || gl === void 0 ? void 0 : (_gl$info = gl.info) === null || _gl$info === void 0 ? void 0 : (_gl$info$programs = _gl$info.programs) === null || _gl$info$programs === void 0 ? void 0 : _gl$info$programs.forEach(function (program) {\n          var cacheKeySplited = program.cacheKey.split(',');\n          var muiPerfTracker = cacheKeySplited[cacheKeySplited.findIndex(getMUIIndex) + 1];\n          if (isUUID(muiPerfTracker) && currentObjectWithMaterials[muiPerfTracker]) {\n            var _currentObjectWithMat = currentObjectWithMaterials[muiPerfTracker],\n              material = _currentObjectWithMat.material,\n              meshes = _currentObjectWithMat.meshes;\n            programs.set(muiPerfTracker, {\n              program: program,\n              material: material,\n              meshes: meshes,\n              drawCounts: {\n                total: 0,\n                type: 'triangle',\n                data: []\n              },\n              expand: false,\n              visible: true\n            });\n          }\n        });\n        if (programs.size !== usePerfStore.getState().programs.size) {\n          countGeoDrawCalls(programs);\n          usePerfStore.setState({\n            programs: programs,\n            triggerProgramsUpdate: usePerfStore.getState().triggerProgramsUpdate++\n          });\n        }\n      }\n    });\n    return function () {\n      if (PerfLib) {\n        window.cancelAnimationFrame(PerfLib.rafId);\n        window.cancelAnimationFrame(PerfLib.checkQueryId);\n      }\n      if (matrixUpdate) {\n        THREE.Object3D.prototype.updateMatrixWorld = updateMatrixTemp;\n      }\n      effectSub();\n      afterEffectSub();\n    };\n  }, [PerfLib, gl, trackCPU, chart, matrixUpdate]);\n  useEffect(function () {\n    var unsub = addTail(function postRafTailR3FPerf() {\n      if (PerfLib) {\n        PerfLib.paused = true;\n        matriceCount.value = 0;\n        matriceWorldCount.value = 0;\n        usePerfStore.setState({\n          paused: true,\n          log: {\n            maxMemory: 0,\n            gpu: 0,\n            mem: 0,\n            fps: 0,\n            totalTime: 0,\n            frameCount: 0\n          }\n        });\n      }\n      return false;\n    });\n    return function () {\n      unsub();\n    };\n  }, []);\n  return null;\n};\nvar PerfS = styled('div', {\n  position: 'fixed',\n  top: 0,\n  right: 0,\n  zIndex: 9999,\n  fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\\n    sans-serif\",\n  backgroundColor: 'rgba(36, 36, 36, .9)',\n  color: '#fff',\n  margin: 0,\n  minHeight: '100px',\n  padding: '4px 0',\n  '-webkit-font-smoothing': 'antialiased',\n  '-moz-osx-font-smoothing': 'grayscale',\n  userSelect: 'none',\n  '&.top-left': {\n    right: 'initial',\n    left: 0\n  },\n  '&.bottom-left': {\n    right: 'initial',\n    top: 'initial',\n    bottom: 0,\n    left: 0,\n    '.__perf_toggle': {\n      top: '-20px',\n      bottom: 'initial'\n    }\n  },\n  '&.bottom-right': {\n    top: 'initial',\n    bottom: 0,\n    '.__perf_toggle': {\n      top: '-20px',\n      bottom: 'initial'\n    }\n  },\n  '&.minimal': {\n    backgroundColor: 'rgba(36, 36, 36, .75)'\n  },\n  '*': {\n    margin: '0',\n    padding: '0',\n    border: '0',\n    fontSize: '100%',\n    lineHeight: '1',\n    verticalAlign: 'baseline'\n  }\n});\nvar PerfSmallI = styled('small', {\n  position: 'absolute',\n  right: 0,\n  fontSize: '10px'\n});\nvar PerfI = styled('div', {\n  display: 'inline-flex',\n  fontStyle: 'normal',\n  padding: 0,\n  lineHeight: '13px',\n  fontSize: '14px',\n  width: '62px',\n  position: 'relative',\n  pointerEvents: 'auto',\n  cursor: 'default',\n  fontWeight: 500,\n  letterSpacing: '0px',\n  textAlign: 'left',\n  height: '29px',\n  whiteSpace: 'nowrap',\n  justifyContent: 'space-evenly',\n  fontVariantNumeric: 'tabular-nums',\n  small: {\n    paddingLeft: '12px'\n  },\n  svg: {\n    padding: 0,\n    color: 'rgba(145, 145, 145, 0.3)',\n    fontSize: '40px',\n    position: 'absolute',\n    zIndex: 1,\n    maxHeight: '20px',\n    left: ' 50%',\n    marginLeft: '-23px',\n    top: '4px'\n  }\n});\nvar PerfB = styled('span', {\n  verticalAlign: 'bottom',\n  position: 'absolute',\n  bottom: '5px',\n  color: 'rgba(101, 197, 188, 1)',\n  textAlign: 'right',\n  letterSpacing: '1px',\n  fontSize: '8px',\n  fontWeight: '500',\n  width: '60px'\n});\nvar PerfIContainer = styled('div', {\n  display: 'flex'\n});\nvar ProgramHeader = styled('div', {\n  backgroundColor: '#404040',\n  padding: '6px',\n  display: 'block',\n  fontSize: '12px',\n  marginBottom: '6px',\n  cursor: 'pointer',\n  '*': {\n    cursor: 'pointer !important'\n  },\n  '> span': {},\n  small: {\n    fontSize: '9px'\n  },\n  '> b': {\n    marginRight: '4px',\n    cursor: 'pointer'\n  }\n});\nvar Graph = styled('div', {\n  height: '66px',\n  overflow: 'hidden',\n  position: 'absolute',\n  pointerEvents: 'none',\n  display: 'flex',\n  top: '0px',\n  justifyContent: 'center',\n  width: '100%',\n  minWidth: '310px',\n  margin: '0 auto',\n  canvas: {\n    background: 'transparent !important',\n    position: 'absolute !important'\n  }\n});\nvar Graphpc = styled('div', {\n  textAlign: 'center',\n  fontWeight: 700,\n  fontSize: '12px',\n  lineHeight: '12px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  verticalAlign: 'middle',\n  color: '#f1f1f1',\n  padding: '7px',\n  width: '100%',\n  backgroundColor: 'rgba(36, 36, 37, 0.8)',\n  zIndex: 1,\n  position: 'absolute',\n  height: '100%'\n});\nvar Toggle = styled('div', {\n  pointerEvents: 'auto',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  backgroundColor: 'rgb(41, 43, 45)',\n  marginTop: '6px',\n  width: 'auto',\n  margin: '0',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  padding: '4px 6px',\n  '&.__perf_toggle_tab_active': {\n    backgroundColor: 'rgb(31 31 31)'\n  },\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nvar ToggleVisible = styled('div', {\n  pointerEvents: 'auto',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  float: 'right',\n  backgroundColor: 'rgb(41, 43, 45)',\n  width: 'auto',\n  margin: '0',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  padding: '4px 6px',\n  '&.__perf_toggle_tab_active': {\n    backgroundColor: 'rgb(31 31 31)'\n  },\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nvar ProgramGeo = styled('div', {\n  padding: '4px 6px',\n  fontSize: '12px',\n  pointerEvents: 'auto'\n});\nvar ProgramTitle = styled('span', {\n  fontWeight: 'bold',\n  letterSpacing: '0.08em',\n  maxWidth: '145px',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  fontSize: '11px',\n  marginRight: '10px'\n});\nvar ContainerScroll = styled('div', {\n  maxHeight: '50vh',\n  overflowY: 'auto',\n  marginTop: '38px'\n});\nvar ProgramsContainer = styled('div', {\n  marginTop: '0'\n});\nvar ProgramsULHeader = styled('div', {\n  display: 'flex',\n  position: 'relative',\n  fontWeight: 'bold',\n  color: '#fff',\n  lineHeight: '14px',\n  svg: {\n    marginRight: '4px',\n    display: 'inline-block'\n  }\n});\nvar ProgramsUL = styled('ul', {\n  display: 'block',\n  position: 'relative',\n  paddingLeft: '10px',\n  margin: '6px 6px',\n  img: {\n    maxHeight: '60px',\n    maxWidth: '100%',\n    margin: '6px auto',\n    display: 'block'\n  },\n  '&:after': {\n    content: '',\n    position: 'absolute',\n    left: '0px',\n    top: '0px',\n    width: '1px',\n    height: '100%',\n    backgroundColor: 'grey',\n    transform: 'translateX(-50%)',\n    maxHeight: '50vh',\n    overflowY: 'auto'\n  },\n  li: {\n    borderBottom: '1px solid #313131',\n    display: 'block',\n    padding: '4px',\n    margin: 0,\n    lineHeight: 1,\n    verticalAlign: 'middle',\n    height: '24px'\n  },\n  b: {\n    fontWeight: 'bold'\n  },\n  small: {\n    textAlign: 'revert',\n    letterSpacing: '1px',\n    fontSize: '10px',\n    fontWeight: '500',\n    marginLeft: '2px',\n    color: 'rgb(101, 197, 188)'\n  }\n});\nvar ProgramConsole = styled('button', {\n  fontWeight: 'bold',\n  letterSpacing: '0.02em',\n  backgroundColor: 'rgb(41, 43, 45)',\n  color: 'rgb(211, 211, 211)',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  cursor: 'pointer',\n  display: 'block',\n  verticalAlign: 'middle',\n  fontSize: '11px',\n  padding: '5px',\n  margin: '4px auto'\n});\nvar ToggleContainer = styled('div', {\n  display: 'flex',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  backgroundColor: 'rgb(41, 43, 45)',\n  marginTop: '6px',\n  width: 'auto',\n  margin: '0 auto',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  position: 'absolute',\n  right: 0,\n  bottom: ' -20px',\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nvar ProgramsGeoLi = styled('li', {\n  display: 'flex !important',\n  height: 'auto !important',\n  span: {\n    height: '40px',\n    display: 'block',\n    position: 'relative'\n  },\n  b: {\n    paddingLeft: '12px'\n  }\n});\nvar TextHighHZ = memo(function (_ref3) {\n  var isPerf = _ref3.isPerf,\n    color = _ref3.color,\n    customData = _ref3.customData,\n    isMemory = _ref3.isMemory,\n    isShadersInfo = _ref3.isShadersInfo,\n    metric = _ref3.metric,\n    fontSize = _ref3.fontSize,\n    _ref3$offsetY = _ref3.offsetY,\n    _offsetY = _ref3$offsetY === void 0 ? 0 : _ref3$offsetY,\n    offsetX = _ref3.offsetX,\n    round = _ref3.round,\n    hasInstance = _ref3.hasInstance;\n  var _useThree2 = useThree(function (s) {\n      return s.viewport;\n    }),\n    w = _useThree2.width,\n    h = _useThree2.height;\n  var fpsRef = useRef(null);\n  var fpsInstanceRef = useRef(null);\n  useFrame(function updateR3FPerfText() {\n    var gl = usePerfStore.getState().gl;\n    var log = usePerfStore.getState().log;\n    if (!log || !fpsRef.current) return;\n    if (customData) {\n      fpsRef.current.text = usePerfStore.getState().customData;\n    }\n    if (!metric) return;\n    var info = log[metric];\n    if (isShadersInfo) {\n      var _gl$info$programs;\n      info = (_gl$info$programs = gl.info.programs) === null || _gl$info$programs === void 0 ? void 0 : _gl$info$programs.length;\n    } else if (metric === 'matriceCount') {\n      info = matriceCount.value;\n    } else if (!isPerf && gl.info.render) {\n      var infos = isMemory ? gl.info.memory : gl.info.render;\n      info = infos[metric];\n    }\n    fpsRef.current.text = (metric === 'maxMemory' ? '/' : '') + (Math.round(info * Math.pow(10, round)) / Math.pow(10, round)).toFixed(round);\n    if (hasInstance) {\n      var infosInstance = gl.info.instance;\n      if (typeof infosInstance === 'undefined' && metric !== 'matriceCount') {\n        return;\n      }\n      var infoInstance;\n      if (metric === 'matriceCount') {\n        infoInstance = matriceWorldCount.value;\n      } else {\n        infoInstance = infosInstance[metric];\n      }\n      if (infoInstance > 0) {\n        fpsRef.current.fontSize = fontSize / 1.15;\n        fpsInstanceRef.current.fontSize = info > 0 ? fontSize / 1.4 : fontSize;\n        fpsRef.current.position.y = h / 2 - _offsetY - fontSize / 1.9;\n        fpsInstanceRef.current.text = ' ±\t' + (Math.round(infoInstance * Math.pow(10, round)) / Math.pow(10, round)).toFixed(round);\n      } else {\n        fpsRef.current.position.y = h / 2 - _offsetY - fontSize;\n        fpsRef.current.fontSize = fontSize;\n      }\n    }\n    matriceCount.value -= 1;\n    fpsRef.current.updateMatrix();\n    fpsRef.current.matrixWorld.copy(fpsRef.current.matrix);\n  });\n  return jsxs(Suspense, {\n    fallback: null,\n    children: [jsx(Text, {\n      textAlign: \"justify\",\n      matrixAutoUpdate: false,\n      ref: fpsRef,\n      fontSize: fontSize,\n      position: [-w / 2 + offsetX + fontSize, h / 2 - _offsetY - fontSize, 0],\n      color: color,\n      characters: \"0123456789\",\n      onUpdate: function onUpdate(self) {\n        self.updateMatrix();\n        matriceCount.value -= 1;\n        self.matrixWorld.copy(self.matrix);\n      },\n      children: \"0\"\n    }), hasInstance && jsx(Text, {\n      textAlign: \"justify\",\n      matrixAutoUpdate: false,\n      ref: fpsInstanceRef,\n      fontSize: 8,\n      position: [-w / 2 + offsetX + fontSize, h / 2 - _offsetY - fontSize * 1.15, 0],\n      color: 'lightgrey',\n      characters: \"0123456789\",\n      onUpdate: function onUpdate(self) {\n        self.updateMatrix();\n        matriceCount.value -= 1;\n        self.matrixWorld.copy(self.matrix);\n      }\n    })]\n  });\n});\nvar TextsHighHZ = function TextsHighHZ(_ref4) {\n  var colorBlind = _ref4.colorBlind,\n    customData = _ref4.customData,\n    minimal = _ref4.minimal,\n    matrixUpdate = _ref4.matrixUpdate;\n  var fontSize = 14;\n  return jsxs(Fragment, {\n    children: [jsx(TextHighHZ, {\n      color: \"rgb(\".concat(colorsGraph(colorBlind).fps.toString(), \")\"),\n      isPerf: true,\n      metric: \"fps\",\n      fontSize: fontSize,\n      offsetX: 140,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: '',\n      isPerf: true,\n      metric: \"mem\",\n      fontSize: fontSize,\n      offsetX: 80,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: '',\n      isPerf: true,\n      metric: \"maxMemory\",\n      fontSize: 8,\n      offsetX: 112,\n      offsetY: 10,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: \"rgb(\".concat(colorsGraph(colorBlind).gpu.toString(), \")\"),\n      isPerf: true,\n      metric: \"gpu\",\n      fontSize: fontSize,\n      offsetX: 10,\n      round: 3\n    }), !minimal ? jsxs(Fragment, {\n      children: [jsx(TextHighHZ, {\n        metric: \"calls\",\n        fontSize: fontSize,\n        offsetX: 200,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        metric: \"triangles\",\n        fontSize: fontSize,\n        offsetX: 260,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        isMemory: true,\n        metric: \"geometries\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 0,\n        round: 0\n      }), jsx(TextHighHZ, {\n        isMemory: true,\n        metric: \"textures\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 80,\n        round: 0\n      }), jsx(TextHighHZ, {\n        isShadersInfo: true,\n        metric: \"programs\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 140,\n        round: 0\n      }), jsx(TextHighHZ, {\n        metric: \"lines\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 200,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        metric: \"points\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 260,\n        round: 0,\n        hasInstance: true\n      }), matrixUpdate && jsx(TextHighHZ, {\n        isPerf: true,\n        metric: \"matriceCount\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 320,\n        round: 0,\n        hasInstance: true\n      })]\n    }) : null, customData && jsx(TextHighHZ, {\n      color: \"rgb(\".concat(colorsGraph(colorBlind).custom.toString(), \")\"),\n      customData: customData,\n      fontSize: fontSize,\n      offsetY: 0,\n      offsetX: minimal ? 200 : 320,\n      round: 0\n    })]\n  });\n};\nvar ChartCurve = function ChartCurve(_ref5) {\n  var colorBlind = _ref5.colorBlind,\n    minimal = _ref5.minimal,\n    _ref5$chart = _ref5.chart,\n    _chart = _ref5$chart === void 0 ? {\n      length: 30,\n      hz: 15\n    } : _ref5$chart;\n  var curves = useMemo(function () {\n    return {\n      fps: new Float32Array(_chart.length * 3),\n      mem: new Float32Array(_chart.length * 3),\n      gpu: new Float32Array(_chart.length * 3)\n    };\n  }, [_chart]);\n  var fpsRef = useRef(null);\n  var gpuRef = useRef(null);\n  var memRef = useRef(null);\n  var dummyVec3 = useMemo(function () {\n    return new THREE.Vector3(0, 0, 0);\n  }, []);\n  var updatePoints = function updatePoints(element) {\n    var factor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var ref = arguments.length > 2 ? arguments[2] : undefined;\n    var viewport = arguments.length > 3 ? arguments[3] : undefined;\n    var maxVal = 0;\n    var w = viewport.width,\n      h = viewport.height;\n    var chart = usePerfStore.getState().chart.data[element];\n    if (!chart || chart.length === 0) {\n      return;\n    }\n    var padding = minimal ? 2 : 6;\n    var paddingTop = minimal ? 12 : 50;\n    var len = chart.length;\n    for (var i = 0; i < len; i++) {\n      var id = (usePerfStore.getState().chart.circularId + i + 1) % len;\n      if (chart[id] !== undefined) {\n        if (chart[id] > maxVal) {\n          maxVal = chart[id] * factor;\n        }\n        dummyVec3.set(padding + i / (len - 1) * (w - padding * 2) - w / 2, Math.min(100, chart[id]) * factor / 100 * (h - padding * 2 - paddingTop) - h / 2, 0);\n        dummyVec3.toArray(ref.attributes.position.array, i * 3);\n      }\n    }\n    ref.attributes.position.needsUpdate = true;\n  };\n  var _useState = useState(window.performance.memory),\n    _useState2 = _slicedToArray(_useState, 1),\n    supportMemory = _useState2[0];\n  useFrame(function updateChartCurve(_ref6) {\n    var viewport = _ref6.viewport;\n    updatePoints('fps', 1, fpsRef.current, viewport);\n    updatePoints('gpu', 5, gpuRef.current, viewport);\n    if (supportMemory) {\n      updatePoints('mem', 1, memRef.current, viewport);\n    }\n  });\n  return jsxs(Fragment, {\n    children: [jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: fpsRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.fps,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: \"rgb(\".concat(colorsGraph(colorBlind).fps.toString(), \")\"),\n        transparent: true,\n        opacity: 0.5\n      })]\n    }), jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: gpuRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.gpu,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: \"rgb(\".concat(colorsGraph(colorBlind).gpu.toString(), \")\"),\n        transparent: true,\n        opacity: 0.5\n      })]\n    }), supportMemory && jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: memRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.mem,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: \"rgb(\".concat(colorsGraph(colorBlind).mem.toString(), \")\"),\n        transparent: true,\n        opacity: 0.5\n      })]\n    })]\n  });\n};\nvar ChartUI = function ChartUI(_ref7) {\n  var colorBlind = _ref7.colorBlind,\n    chart = _ref7.chart,\n    customData = _ref7.customData,\n    matrixUpdate = _ref7.matrixUpdate,\n    _ref7$showGraph = _ref7.showGraph,\n    _showGraph = _ref7$showGraph === void 0 ? true : _ref7$showGraph,\n    _ref7$antialias = _ref7.antialias,\n    _antialias = _ref7$antialias === void 0 ? true : _ref7$antialias,\n    minimal = _ref7.minimal;\n  var canvas = useRef(undefined);\n  var paused = usePerfStore(function (state) {\n    return state.paused;\n  });\n  return jsxs(Graph, {\n    style: {\n      display: 'flex',\n      position: 'absolute',\n      height: \"\".concat(minimal ? 37 : _showGraph ? 100 : 60, \"px\"),\n      minWidth: \"\".concat(minimal ? '100px' : customData ? '370px' : '310px')\n    },\n    children: [jsx(Canvas, {\n      ref: canvas,\n      orthographic: true,\n      dpr: _antialias ? [1, 2] : 1,\n      gl: {\n        antialias: true,\n        alpha: true,\n        stencil: false,\n        depth: false\n      },\n      onCreated: function onCreated(_ref8) {\n        var scene = _ref8.scene;\n        scene.traverse(function (obj) {\n          obj.matrixWorldAutoUpdate = false;\n          obj.matrixAutoUpdate = false;\n        });\n      },\n      flat: true,\n      style: {\n        marginBottom: \"-42px\",\n        position: 'relative',\n        pointerEvents: 'none',\n        background: 'transparent !important',\n        height: \"\".concat(minimal ? 37 : _showGraph ? 100 : 60, \"px\")\n      },\n      children: !paused ? jsxs(Fragment, {\n        children: [jsx(Renderer, {}), jsx(TextsHighHZ, {\n          customData: customData,\n          minimal: minimal,\n          matrixUpdate: matrixUpdate\n        }), _showGraph && jsx(ChartCurve, {\n          colorBlind: colorBlind,\n          minimal: minimal,\n          chart: chart\n        })]\n      }) : null\n    }), paused && jsxs(Graphpc, {\n      children: [jsx(PauseIcon, {}), \" PAUSED\"]\n    })]\n  });\n};\nvar Renderer = function Renderer() {\n  useFrame(function updateR3FPerf(_ref9) {\n    var gl = _ref9.gl,\n      scene = _ref9.scene,\n      camera = _ref9.camera;\n    camera.updateMatrix();\n    matriceCount.value -= 1;\n    camera.matrixWorld.copy(camera.matrix);\n    camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n    gl.render(scene, camera);\n    matriceWorldCount.value = 0;\n    matriceCount.value = 0;\n  }, Infinity);\n  return null;\n};\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar _excluded = [\"portal\", \"className\", \"children\"];\nvar Html = forwardRef(function (_ref, ref) {\n  var portal = _ref.portal,\n    className = _ref.className,\n    children = _ref.children,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var gl = useThree(function (state) {\n    return state.gl;\n  });\n  var group = useRef(null);\n  var rootRef = useRef(null);\n  var target = (portal === null || portal === void 0 ? void 0 : portal.current) != null ? portal.current : gl.domElement.parentNode;\n  useLayoutEffect(function () {\n    if (!group.current || !target) return;\n    var el = document.createElement('div');\n    var root = rootRef.current = createRoot(el);\n    target.appendChild(el);\n    return function () {\n      root.unmount();\n      rootRef.current = null;\n      target.removeChild(el);\n    };\n  }, [target]);\n  useLayoutEffect(function () {\n    var root = rootRef.current;\n    if (!root) return;\n    root.render(jsx(\"div\", {\n      ref: ref,\n      className: className,\n      children: children\n    }));\n  });\n  return jsx(\"group\", _objectSpread2(_objectSpread2({}, props), {}, {\n    ref: group\n  }));\n});\nvar addTextureUniforms = function addTextureUniforms(id, texture) {\n  var repeatType = function repeatType(wrap) {\n    switch (wrap) {\n      case 1000:\n        return 'RepeatWrapping';\n      case 1001:\n        return 'ClampToEdgeWrapping';\n      case 1002:\n        return 'MirroredRepeatWrapping';\n      default:\n        return 'ClampToEdgeWrapping';\n    }\n  };\n  var encodingType = function encodingType(encoding) {\n    switch (encoding) {\n      case 3000:\n        return 'LinearEncoding';\n      case 3001:\n        return 'sRGBEncoding';\n      case 3002:\n        return 'RGBEEncoding';\n      case 3003:\n        return 'LogLuvEncoding';\n      case 3004:\n        return 'RGBM7Encoding';\n      case 3005:\n        return 'RGBM16Encoding';\n      case 3006:\n        return 'RGBDEncoding';\n      case 3007:\n        return 'GammaEncoding';\n      default:\n        return 'ClampToEdgeWrapping';\n    }\n  };\n  return {\n    name: id,\n    url: texture.image.currentSrc,\n    encoding: encodingType(texture.encoding),\n    wrapT: repeatType(texture.image.wrapT),\n    flipY: texture.flipY.toString()\n  };\n};\nvar UniformsGL = function UniformsGL(_ref10) {\n  var program = _ref10.program,\n    material = _ref10.material,\n    setTexNumber = _ref10.setTexNumber;\n  var gl = usePerfStore(function (state) {\n    return state.gl;\n  });\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    uniforms = _useState4[0],\n    set = _useState4[1];\n  useEffect(function () {\n    if (gl) {\n      var data = program === null || program === void 0 ? void 0 : program.getUniforms();\n      var TexCount = 0;\n      var format = new Map();\n      data.seq.forEach(function (e) {\n        if (!e.id.includes('uTroika') && e.id !== 'isOrthographic' && e.id !== 'uvTransform' && e.id !== 'lightProbe' && e.id !== 'projectionMatrix' && e.id !== 'viewMatrix' && e.id !== 'normalMatrix' && e.id !== 'modelMatrix' && e.id !== 'modelViewMatrix') {\n          var values = [];\n          var _data = {\n            name: e.id\n          };\n          if (e.cache) {\n            e.cache.forEach(function (v) {\n              if (typeof v !== 'undefined') {\n                values.push(v.toString().substring(0, 4));\n              }\n            });\n            _data.value = values.join();\n            if (material[e.id] && material[e.id].image) {\n              if (material[e.id].image) {\n                TexCount++;\n                _data.value = addTextureUniforms(e.id, material[e.id]);\n              }\n            }\n            if (!_data.value) {\n              _data.value = 'empty';\n            }\n            format.set(e.id, _data);\n          }\n        }\n      });\n      if (material.uniforms) {\n        Object.keys(material.uniforms).forEach(function (key) {\n          var uniform = material.uniforms[key];\n          if (uniform.value) {\n            var value = uniform.value;\n            var _data2 = {\n              name: key\n            };\n            if (key.includes('uTroika')) {\n              return;\n            }\n            if (value instanceof THREE.Texture) {\n              TexCount++;\n              _data2.value = addTextureUniforms(key, value);\n            } else {\n              var sb = JSON.stringify(value);\n              try {\n                sb = JSON.stringify(value);\n              } catch (_err) {\n                sb = value.toString();\n              }\n              _data2.value = sb;\n            }\n            format.set(key, _data2);\n          }\n        });\n      }\n      if (TexCount > 0) {\n        setTexNumber(TexCount);\n      }\n      set(format);\n    }\n  }, []);\n  return jsx(ProgramsUL, {\n    children: uniforms && Array.from(uniforms.values()).map(function (uniform) {\n      return jsx(\"span\", {\n        children: typeof uniform.value === 'string' ? jsx(\"li\", {\n          children: jsxs(\"span\", {\n            children: [uniform.name, \" :\", ' ', jsxs(\"b\", {\n              children: [uniform.value.substring(0, 30), uniform.value.length > 30 ? '...' : '']\n            })]\n          })\n        }) : jsxs(Fragment, {\n          children: [jsx(\"li\", {\n            children: jsxs(\"b\", {\n              children: [uniform.value.name, \":\"]\n            })\n          }), jsxs(\"div\", {\n            children: [Object.keys(uniform.value).map(function (key) {\n              return key !== 'name' ? jsx(\"div\", {\n                children: key === 'url' ? jsx(\"a\", {\n                  href: uniform.value[key],\n                  target: \"_blank\",\n                  children: jsx(\"img\", {\n                    src: uniform.value[key]\n                  })\n                }) : jsxs(\"li\", {\n                  children: [key, \": \", jsx(\"b\", {\n                    children: uniform.value[key]\n                  })]\n                })\n              }, key) : null;\n            }), jsxs(ProgramConsole, {\n              onClick: function onClick() {\n                var _material$uniforms$un;\n                console.info(material[uniform.value.name] || (material === null || material === void 0 ? void 0 : (_material$uniforms$un = material.uniforms[uniform.value.name]) === null || _material$uniforms$un === void 0 ? void 0 : _material$uniforms$un.value));\n              },\n              children: [\"console.info(\", uniform.value.name, \");\"]\n            })]\n          })]\n        })\n      }, uniform.name);\n    })\n  });\n};\nvar DynamicDrawCallInfo = function DynamicDrawCallInfo(_ref11) {\n  var el = _ref11.el;\n  usePerfStore(function (state) {\n    return state.log;\n  });\n  var gl = usePerfStore(function (state) {\n    return state.gl;\n  });\n  var getVal = function getVal(el) {\n    if (!gl) return 0;\n    var res = Math.round(el.drawCounts.total / (gl.info.render.triangles + gl.info.render.lines + gl.info.render.points) * 100 * 10) / 10;\n    return isFinite(res) && res || 0;\n  };\n  return jsx(Fragment, {\n    children: el.drawCounts.total > 0 && jsxs(PerfI, {\n      style: {\n        height: 'auto',\n        width: 'auto',\n        margin: '0 4px'\n      },\n      children: [el.drawCounts.type === 'Triangle' ? jsx(VercelLogoIcon, {\n        style: {\n          top: '-1px'\n        }\n      }) : jsx(ActivityLogIcon, {\n        style: {\n          top: '-1px'\n        }\n      }), el.drawCounts.total, jsxs(\"small\", {\n        children: [el.drawCounts.type, \"s\"]\n      }), gl && jsxs(PerfB, {\n        style: {\n          bottom: '-10px',\n          width: '40px',\n          fontWeight: 'bold'\n        },\n        children: [el.visible && !el.material.wireframe ? getVal(el) : 0, \"%\"]\n      })]\n    })\n  });\n};\nvar ProgramUI = function ProgramUI(_ref12) {\n  var el = _ref12.el;\n  var _useState5 = useState(el.visible),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showProgram = _useState6[0],\n    setShowProgram = _useState6[1];\n  var _useState7 = useState(el.expand),\n    _useState8 = _slicedToArray(_useState7, 2),\n    toggleProgram = _useState8[0],\n    set = _useState8[1];\n  var _useState9 = useState(0),\n    _useState10 = _slicedToArray(_useState9, 2),\n    texNumber = _useState10[0],\n    setTexNumber = _useState10[1];\n  var meshes = el.meshes,\n    program = el.program,\n    material = el.material;\n  return jsxs(ProgramGeo, {\n    children: [jsxs(ProgramHeader, {\n      onClick: function onClick() {\n        el.expand = !toggleProgram;\n        Object.keys(meshes).forEach(function (key) {\n          var mesh = meshes[key];\n          mesh.material.wireframe = false;\n        });\n        set(!toggleProgram);\n      },\n      children: [jsx(Toggle, {\n        style: {\n          marginRight: '6px'\n        },\n        children: toggleProgram ? jsx(\"span\", {\n          children: jsx(TriangleDownIcon, {})\n        }) : jsx(\"span\", {\n          children: jsx(TriangleUpIcon, {})\n        })\n      }), program && jsxs(\"span\", {\n        children: [jsx(ProgramTitle, {\n          children: program.name\n        }), jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [jsx(LayersIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), Object.keys(meshes).length, jsx(\"small\", {\n            children: Object.keys(meshes).length > 1 ? 'users' : 'user'\n          })]\n        }), texNumber > 0 && jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [texNumber > 1 ? jsx(ImageIcon, {\n            style: {\n              top: '-1px'\n            }\n          }) : jsx(ImageIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), texNumber, jsx(\"small\", {\n            children: \"tex\"\n          })]\n        }), jsx(DynamicDrawCallInfo, {\n          el: el\n        }), material.glslVersion === '300 es' && jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [jsx(RocketIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), \"300\", jsx(\"small\", {\n            children: \"es\"\n          }), jsx(PerfB, {\n            style: {\n              bottom: '-10px',\n              width: '40px'\n            },\n            children: \"glsl\"\n          })]\n        })]\n      }), jsx(ToggleVisible, {\n        onPointerEnter: function onPointerEnter() {\n          Object.keys(meshes).forEach(function (key) {\n            var mesh = meshes[key];\n            mesh.material.wireframe = true;\n          });\n        },\n        onPointerLeave: function onPointerLeave() {\n          Object.keys(meshes).forEach(function (key) {\n            var mesh = meshes[key];\n            mesh.material.wireframe = false;\n          });\n        },\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          Object.keys(meshes).forEach(function (key) {\n            var mesh = meshes[key];\n            var invert = !showProgram;\n            mesh.visible = invert;\n            el.visible = invert;\n            setShowProgram(invert);\n          });\n        },\n        children: showProgram ? jsx(EyeOpenIcon, {}) : jsx(EyeNoneIcon, {})\n      })]\n    }), jsxs(\"div\", {\n      style: {\n        maxHeight: toggleProgram ? '9999px' : 0,\n        overflow: 'hidden'\n      },\n      children: [jsxs(ProgramsULHeader, {\n        children: [jsx(ButtonIcon, {}), \" Uniforms:\"]\n      }), jsx(UniformsGL, {\n        program: program,\n        material: material,\n        setTexNumber: setTexNumber\n      }), jsxs(ProgramsULHeader, {\n        children: [jsx(CubeIcon, {}), \" Geometries:\"]\n      }), jsx(ProgramsUL, {\n        children: meshes && Object.keys(meshes).map(function (key) {\n          return meshes[key] && meshes[key].geometry && jsxs(ProgramsGeoLi, {\n            children: [jsxs(\"span\", {\n              children: [meshes[key].geometry.type, \": \"]\n            }), meshes[key].userData && meshes[key].userData.drawCount && jsxs(\"b\", {\n              children: [jsxs(\"div\", {\n                children: [meshes[key].userData.drawCount.count, jsxs(\"small\", {\n                  children: [\" \", meshes[key].userData.drawCount.type, \"s\"]\n                })]\n              }), jsx(\"br\", {}), jsxs(\"div\", {\n                children: [Math.round(estimateBytesUsed(meshes[key].geometry) / 1024 * 1000) / 1000, \"Kb\", jsx(\"small\", {\n                  children: \" memory used\"\n                })]\n              })]\n            })]\n          }, key);\n        })\n      }), jsxs(ProgramConsole, {\n        onClick: function onClick() {\n          console.info(material);\n        },\n        children: [\"console.info(\", material.type, \")\"]\n      })]\n    })]\n  });\n};\nvar ProgramsUI = function ProgramsUI() {\n  usePerfStore(function (state) {\n    return state.triggerProgramsUpdate;\n  });\n  var programs = usePerfStore(function (state) {\n    return state.programs;\n  });\n  return jsx(ProgramsContainer, {\n    children: programs && Array.from(programs.values()).map(function (el) {\n      if (!el) {\n        return null;\n      }\n      return el ? jsx(ProgramUI, {\n        el: el\n      }, el.material.uuid) : null;\n    })\n  });\n};\nvar colorsGraph = function colorsGraph(colorBlind) {\n  var colors = {\n    fps: colorBlind ? '100, 143, 255' : '238,38,110',\n    mem: colorBlind ? '254, 254, 98' : '66,226,46',\n    gpu: colorBlind ? '254,254,254' : '253,151,31',\n    custom: colorBlind ? '86,180,233' : '40,255,255'\n  };\n  return colors;\n};\nvar DynamicUI = function DynamicUI(_ref13) {\n  var showGraph = _ref13.showGraph,\n    colorBlind = _ref13.colorBlind,\n    customData = _ref13.customData,\n    minimal = _ref13.minimal;\n  var gl = usePerfStore(function (state) {\n    return state.gl;\n  });\n  return gl ? jsxs(PerfIContainer, {\n    children: [jsxs(PerfI, {\n      children: [jsx(LightningBoltIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: \"rgb(\".concat(colorsGraph(colorBlind).gpu.toString(), \")\")\n        } : {},\n        children: \"GPU\"\n      }), jsx(PerfSmallI, {\n        children: \"ms\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(RulerHorizontalIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: \"rgb(\".concat(colorsGraph(colorBlind).mem.toString(), \")\")\n        } : {},\n        children: \"Memory\"\n      }), jsx(PerfSmallI, {\n        children: \"mb\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(LapTimerIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: \"rgb(\".concat(colorsGraph(colorBlind).fps, \")\")\n        } : {},\n        children: \"FPS\"\n      })]\n    }), !minimal && gl && jsxs(PerfI, {\n      children: [jsx(TextAlignJustifyIcon, {}), jsx(PerfB, {\n        children: gl.info.render.calls === 1 ? 'call' : 'calls'\n      })]\n    }), !minimal && gl && jsxs(PerfI, {\n      children: [jsx(VercelLogoIcon, {}), jsx(PerfB, {\n        children: \"Triangles\"\n      })]\n    }), customData && jsxs(PerfI, {\n      children: [jsx(BarChartIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: \"rgb(\".concat(colorsGraph(colorBlind).custom, \")\")\n        } : {},\n        children: customData.name\n      }), customData.info && jsx(PerfSmallI, {\n        children: customData.info\n      })]\n    })]\n  }) : null;\n};\nvar PerfUI = function PerfUI(_ref14) {\n  var showGraph = _ref14.showGraph,\n    colorBlind = _ref14.colorBlind,\n    deepAnalyze = _ref14.deepAnalyze,\n    customData = _ref14.customData,\n    matrixUpdate = _ref14.matrixUpdate,\n    openByDefault = _ref14.openByDefault,\n    minimal = _ref14.minimal;\n  return jsxs(Fragment, {\n    children: [jsx(DynamicUI, {\n      showGraph: showGraph,\n      colorBlind: colorBlind,\n      customData: customData,\n      minimal: minimal\n    }), !minimal && jsx(PerfThree, {\n      matrixUpdate: matrixUpdate,\n      openByDefault: openByDefault,\n      deepAnalyze: deepAnalyze,\n      showGraph: showGraph\n    })]\n  });\n};\nvar InfoUI = function InfoUI(_ref15) {\n  var matrixUpdate = _ref15.matrixUpdate;\n  return jsxs(\"div\", {\n    children: [jsxs(PerfI, {\n      children: [jsx(MarginIcon, {}), jsx(PerfB, {\n        children: \"Geometries\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(ImageIcon, {}), jsx(PerfB, {\n        children: \"Textures\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(ActivityLogIcon, {}), jsx(PerfB, {\n        children: \"shaders\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(MinusIcon, {}), jsx(PerfB, {\n        children: \"Lines\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(DotIcon, {}), jsx(PerfB, {\n        children: \"Points\"\n      })]\n    }), matrixUpdate && jsxs(PerfI, {\n      children: [jsx(DropdownMenuIcon, {}), jsx(PerfB, {\n        children: \"Matrices\"\n      })]\n    })]\n  });\n};\nvar ToggleEl = function ToggleEl(_ref16) {\n  var tab = _ref16.tab,\n    title = _ref16.title,\n    set = _ref16.set;\n  var tabStore = usePerfStore(function (state) {\n    return state.tab;\n  });\n  return jsx(Toggle, {\n    className: \"\".concat(tabStore === tab ? ' __perf_toggle_tab_active' : ''),\n    onClick: function onClick() {\n      set(true);\n      usePerfStore.setState({\n        tab: tab\n      });\n    },\n    children: jsx(\"span\", {\n      children: title\n    })\n  });\n};\nvar PerfThree = function PerfThree(_ref17) {\n  var openByDefault = _ref17.openByDefault,\n    showGraph = _ref17.showGraph,\n    deepAnalyze = _ref17.deepAnalyze,\n    matrixUpdate = _ref17.matrixUpdate;\n  var _React$useState = React.useState(openByDefault),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    show = _React$useState2[0],\n    set = _React$useState2[1];\n  return jsxs(\"span\", {\n    children: [jsx(TabContainers, {\n      show: show,\n      showGraph: showGraph,\n      matrixUpdate: matrixUpdate\n    }), openByDefault && !deepAnalyze ? null : jsxs(ToggleContainer, {\n      className: '__perf_toggle',\n      children: [deepAnalyze && jsx(ToggleEl, {\n        tab: \"programs\",\n        title: \"Programs\",\n        set: set\n      }), deepAnalyze && jsx(ToggleEl, {\n        tab: \"infos\",\n        title: \"Infos\",\n        set: set\n      }), jsx(Toggle, {\n        onClick: function onClick() {\n          set(!show);\n        },\n        children: show ? jsxs(\"span\", {\n          children: [jsx(TriangleDownIcon, {}), \" Minimize\"]\n        }) : jsxs(\"span\", {\n          children: [jsx(TriangleUpIcon, {}), \" More\"]\n        })\n      })]\n    })]\n  });\n};\nvar TabContainers = function TabContainers(_ref18) {\n  var show = _ref18.show,\n    showGraph = _ref18.showGraph,\n    matrixUpdate = _ref18.matrixUpdate;\n  var tab = usePerfStore(function (state) {\n    return state.tab;\n  });\n  return jsxs(Fragment, {\n    children: [jsx(InfoUI, {\n      matrixUpdate: matrixUpdate\n    }), show && jsx(\"div\", {\n      children: jsx(ContainerScroll, {\n        style: {\n          marginTop: showGraph ? '38px' : 0\n        },\n        children: tab === 'programs' && jsx(ProgramsUI, {})\n      })\n    })]\n  });\n};\nvar Gui = function Gui(_ref19) {\n  var showGraph = _ref19.showGraph,\n    colorBlind = _ref19.colorBlind,\n    openByDefault = _ref19.openByDefault,\n    className = _ref19.className,\n    style = _ref19.style,\n    position = _ref19.position,\n    chart = _ref19.chart,\n    deepAnalyze = _ref19.deepAnalyze,\n    antialias = _ref19.antialias,\n    customData = _ref19.customData,\n    matrixUpdate = _ref19.matrixUpdate,\n    minimal = _ref19.minimal;\n  var perfContainerRef = useRef(null);\n  return jsxs(Fragment, {\n    children: [jsx(Headless, {\n      chart: chart,\n      deepAnalyze: deepAnalyze,\n      matrixUpdate: matrixUpdate\n    }), jsx(Html, {\n      transform: false,\n      children: jsxs(PerfS, {\n        className: (className ? ' '.concat(className) : ' ') + \" \".concat(position ? position : '', \" \").concat(minimal ? 'minimal' : ''),\n        style: _objectSpread2({\n          minHeight: minimal ? '37px' : showGraph ? '100px' : '60px'\n        }, style),\n        ref: perfContainerRef,\n        children: [jsx(ChartUI, {\n          perfContainerRef: perfContainerRef,\n          colorBlind: colorBlind,\n          chart: chart,\n          showGraph: showGraph,\n          antialias: antialias,\n          customData: customData,\n          minimal: minimal,\n          matrixUpdate: matrixUpdate\n        }), jsx(PerfUI, {\n          colorBlind: colorBlind,\n          showGraph: showGraph,\n          deepAnalyze: deepAnalyze,\n          openByDefault: openByDefault,\n          customData: customData,\n          matrixUpdate: matrixUpdate,\n          minimal: minimal\n        })]\n      })\n    })]\n  });\n};\nvar Perf = function Perf(_ref20) {\n  var _ref20$headless = _ref20.headless,\n    _headless = _ref20$headless === void 0 ? false : _ref20$headless,\n    _ref20$colorBlind = _ref20.colorBlind,\n    _colorBlind = _ref20$colorBlind === void 0 ? false : _ref20$colorBlind,\n    _ref20$showGraph = _ref20.showGraph,\n    _showGraph = _ref20$showGraph === void 0 ? true : _ref20$showGraph,\n    _ref20$trackCPU = _ref20.trackCPU,\n    _trackCPU = _ref20$trackCPU === void 0 ? false : _ref20$trackCPU,\n    _ref20$deepAnalyze = _ref20.deepAnalyze,\n    _deepAnalyze = _ref20$deepAnalyze === void 0 ? false : _ref20$deepAnalyze,\n    _ref20$antialias = _ref20.antialias,\n    _antialias = _ref20$antialias === void 0 ? true : _ref20$antialias,\n    _ref20$openByDefault = _ref20.openByDefault,\n    _openByDefault = _ref20$openByDefault === void 0 ? true : _ref20$openByDefault,\n    customData = _ref20.customData,\n    _ref20$matrixUpdate = _ref20.matrixUpdate,\n    _matrixUpdate = _ref20$matrixUpdate === void 0 ? false : _ref20$matrixUpdate,\n    _ref20$position = _ref20.position,\n    _position = _ref20$position === void 0 ? 'top-right' : _ref20$position,\n    _ref20$chart = _ref20.chart,\n    _chart = _ref20$chart === void 0 ? {\n      length: 30,\n      hz: 15\n    } : _ref20$chart,\n    className = _ref20.className,\n    style = _ref20.style,\n    _ref20$minimal = _ref20.minimal,\n    _minimal = _ref20$minimal === void 0 ? false : _ref20$minimal;\n  return _headless ? jsx(Headless, {\n    chart: _chart,\n    deepAnalyze: _deepAnalyze,\n    matrixUpdate: _matrixUpdate\n  }) : jsx(Gui, {\n    colorBlind: _colorBlind,\n    showGraph: _showGraph,\n    trackCPU: _trackCPU,\n    openByDefault: _openByDefault,\n    className: className,\n    style: style,\n    position: _position,\n    antialias: _antialias,\n    chart: _chart,\n    deepAnalyze: _deepAnalyze,\n    minimal: _minimal,\n    customData: customData,\n    matrixUpdate: _matrixUpdate\n  });\n};\nvar usePerf = usePerfFunc;\nexport { Perf, getCustomData, setCustomData, usePerf };","map":{"version":3,"names":["React","useMemo","useEffect","memo","useRef","Suspense","useState","forwardRef","useLayoutEffect","useThree","addEffect","addAfterEffect","addTail","useFrame","Canvas","THREE","MathUtils","create","styled","PauseIcon","TriangleDownIcon","TriangleUpIcon","LayersIcon","ImageIcon","RocketIcon","EyeOpenIcon","EyeNoneIcon","ButtonIcon","CubeIcon","VercelLogoIcon","ActivityLogIcon","LightningBoltIcon","RulerHorizontalIcon","LapTimerIcon","TextAlignJustifyIcon","BarChartIcon","MarginIcon","MinusIcon","DotIcon","DropdownMenuIcon","Text","jsxs","jsx","Fragment","createRoot","estimateBytesUsed","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","GLPerf","settings","names","finished","gl","extension","query","paused","queryHasResult","queryCreated","isWebGL2","memAccums","gpuAccums","activeAccums","chart","gpuChart","memChart","paramLogger","glFinish","chartLogger","chartLen","maxMemory","chartHz","chartFrame","gpuTimeProcess","chartTime","activeQueries","circularId","detected","frameId","rafId","checkQueryId","uuid","undefined","currentMem","paramFrame","paramTime","now","t0","window","assign","Array","fill","performance","Date","initGpu","is120hz","generateUUID","getExtension","n","loop","t","requestAnimationFrame","Math","ceil","cancelAnimationFrame","name","indexOf","duration","gpu","memory","jsHeapSizeLimit","frameCount","fps","round","usedJSHeapSize","mem","Promise","all","then","timespan","hz","memS","gpuS","data","ext","available","disjoint","ns","getQueryParameter","QUERY_RESULT_AVAILABLE","getParameter","GPU_DISJOINT_EXT","QUERY_RESULT","ms","_active","createQuery","beginQuery","TIME_ELAPSED_EXT","getQuery","CURRENT_QUERY","endQuery","startGpu","updateAccums","endGpu","nameId","addUI","countGeoDrawCalls","programs","program","_pkey","meshes","drawCounts","total","type","mesh","geometry","material","index","position","attributes","rangeFactor","wireframe","dataCount","count","rangeStart","drawRange","start","rangeCount","drawStart","drawEnd","min","countInstanceRatio","instanceCount","mostDrawCalls","isMesh","isLine","isLineSegments","isLineLoop","isPoints","isSprite","drawCount","max","userData","updateMatrixWorldTemp","Object3D","prototype","updateMatrixWorld","updateWorldMatrixTemp","updateWorldMatrix","updateMatrixTemp","updateMatrix","matriceWorldCount","matriceCount","isUUID","s","match","addMuiPerfID","currentObjectWithMaterials","defines","muiPerf","needsUpdate","getMUIIndex","muid","usePerfStore","set","log","triggerProgramsUpdate","customData","objectWithMaterials","scene","Map","sceneLength","tab","setCustomData","setState","getCustomData","getState","usePerfFunc","_usePerfStore","state","info","Headless","trackCPU","deepAnalyze","matrixUpdate","PerfLib","trackGPU","getContext","logger","totalTime","callbacks","callbacksAfter","Scene","get","_callbacks$get","begin","callback","_callbacksAfter$get","end","matrixWorldNeedsUpdate","autoReset","effectSub","afterEffectSub","preRafR3FPerf","reset","postRafR3FPerf","nextFrame","_gl$info","_gl$info$programs","traverse","deepAnalyzeR3FPerf","Mesh","Points","isTroika","isArray","cacheKeySplited","cacheKey","split","muiPerfTracker","findIndex","expand","visible","size","unsub","postRafTailR3FPerf","PerfS","top","right","zIndex","fontFamily","backgroundColor","color","margin","minHeight","padding","userSelect","left","bottom","border","fontSize","lineHeight","verticalAlign","PerfSmallI","PerfI","display","fontStyle","width","pointerEvents","cursor","fontWeight","letterSpacing","textAlign","height","whiteSpace","justifyContent","fontVariantNumeric","small","paddingLeft","svg","maxHeight","marginLeft","PerfB","PerfIContainer","ProgramHeader","marginBottom","marginRight","Graph","overflow","minWidth","canvas","background","Graphpc","alignItems","Toggle","marginTop","float","ToggleVisible","ProgramGeo","ProgramTitle","maxWidth","textOverflow","ContainerScroll","overflowY","ProgramsContainer","ProgramsULHeader","ProgramsUL","img","content","transform","li","borderBottom","b","ProgramConsole","ToggleContainer","ProgramsGeoLi","span","TextHighHZ","isPerf","isMemory","isShadersInfo","metric","offsetY","_offsetY","offsetX","hasInstance","viewport","w","h","fpsRef","fpsInstanceRef","updateR3FPerfText","current","text","render","infos","pow","toFixed","infosInstance","instance","infoInstance","y","matrixWorld","copy","matrix","fallback","children","matrixAutoUpdate","ref","characters","onUpdate","self","TextsHighHZ","colorBlind","minimal","colorsGraph","toString","custom","ChartCurve","_chart","curves","Float32Array","gpuRef","memRef","dummyVec3","Vector3","updatePoints","element","factor","maxVal","paddingTop","len","id","toArray","array","supportMemory","updateChartCurve","attach","itemSize","transparent","opacity","ChartUI","showGraph","_showGraph","antialias","_antialias","style","orthographic","dpr","alpha","stencil","depth","onCreated","matrixWorldAutoUpdate","flat","Renderer","updateR3FPerf","camera","matrixWorldInverse","invert","Infinity","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","call","_excluded","Html","_ref","portal","className","props","group","rootRef","domElement","parentNode","el","document","createElement","root","appendChild","unmount","removeChild","addTextureUniforms","texture","repeatType","wrap","encodingType","encoding","url","image","currentSrc","wrapT","flipY","UniformsGL","setTexNumber","uniforms","getUniforms","TexCount","format","seq","e","includes","values","cache","v","substring","join","uniform","Texture","sb","JSON","stringify","_err","from","map","href","src","onClick","_material$uniforms$un","console","DynamicDrawCallInfo","getVal","res","triangles","lines","points","isFinite","ProgramUI","showProgram","setShowProgram","toggleProgram","texNumber","glslVersion","onPointerEnter","onPointerLeave","stopPropagation","ProgramsUI","colors","DynamicUI","calls","PerfUI","openByDefault","PerfThree","InfoUI","ToggleEl","title","tabStore","show","TabContainers","Gui","perfContainerRef","concat","Perf","headless","_headless","_colorBlind","_trackCPU","_deepAnalyze","_openByDefault","_matrixUpdate","_position","_minimal","usePerf"],"sources":["/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/r3f-perf/dist/r3f-perf.esm.js"],"sourcesContent":["import React, { useMemo, useEffect, memo, useRef, Suspense, useState, forwardRef, useLayoutEffect } from 'react';\nimport { useThree, addEffect, addAfterEffect, addTail, useFrame, Canvas } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport { MathUtils } from 'three';\nimport create from 'zustand';\nimport { styled } from '@stitches/react';\nimport { PauseIcon, TriangleDownIcon, TriangleUpIcon, LayersIcon, ImageIcon, RocketIcon, EyeOpenIcon, EyeNoneIcon, ButtonIcon, CubeIcon, VercelLogoIcon, ActivityLogIcon, LightningBoltIcon, RulerHorizontalIcon, LapTimerIcon, TextAlignJustifyIcon, BarChartIcon, MarginIcon, MinusIcon, DotIcon, DropdownMenuIcon } from '@radix-ui/react-icons';\nimport { Text } from '@react-three/drei';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nimport { createRoot } from 'react-dom/client';\nimport { estimateBytesUsed } from 'three-stdlib';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nclass GLPerf {\n  constructor(settings = {}) {\n    this.names = [''];\n    this.finished = [];\n    this.gl = void 0;\n    this.extension = void 0;\n    this.query = void 0;\n    this.paused = false;\n    this.queryHasResult = false;\n    this.queryCreated = false;\n    this.isWebGL2 = true;\n    this.memAccums = [];\n    this.gpuAccums = [];\n    this.activeAccums = [];\n    this.chart = [];\n    this.gpuChart = [];\n    this.memChart = [];\n\n    this.paramLogger = () => {};\n\n    this.glFinish = () => {};\n\n    this.chartLogger = () => {};\n\n    this.chartLen = 60;\n    this.maxMemory = 1500;\n    this.chartHz = 10;\n    this.chartFrame = 0;\n    this.gpuTimeProcess = 0;\n    this.chartTime = 0;\n    this.activeQueries = 0;\n    this.circularId = 0;\n    this.detected = 0;\n    this.frameId = 0;\n    this.rafId = 0;\n    this.checkQueryId = 0;\n    this.uuid = undefined;\n    this.currentMem = 0;\n    this.paramFrame = 0;\n    this.paramTime = 0;\n\n    this.now = () => {};\n\n    this.t0 = 0;\n    window.GLPerf = window.GLPerf || {};\n    Object.assign(this, settings);\n    this.chart = new Array(this.chartLen).fill(0);\n    this.gpuChart = new Array(this.chartLen).fill(0);\n    this.memChart = new Array(this.chartLen).fill(0);\n\n    this.now = () => window.performance && window.performance.now ? window.performance.now() : Date.now();\n\n    this.initGpu();\n    this.is120hz();\n  }\n\n  initGpu() {\n    this.uuid = MathUtils.generateUUID();\n\n    if (this.gl) {\n      this.isWebGL2 = true;\n\n      if (!this.extension) {\n        this.extension = this.gl.getExtension('EXT_disjoint_timer_query_webgl2');\n      }\n\n      if (this.extension === null) {\n        this.isWebGL2 = false;\n      }\n    }\n  }\n\n  is120hz() {\n    let n = 0;\n\n    const loop = t => {\n      if (++n < 20) {\n        this.rafId = window.requestAnimationFrame(loop);\n      } else {\n        this.detected = Math.ceil(1e3 * n / (t - this.t0) / 70);\n        window.cancelAnimationFrame(this.rafId);\n      }\n\n      if (!this.t0) this.t0 = t;\n    };\n\n    this.rafId = window.requestAnimationFrame(loop);\n  }\n\n  addUI(name) {\n    if (this.names.indexOf(name) === -1) {\n      this.names.push(name);\n      this.gpuAccums.push(0);\n      this.activeAccums.push(false);\n    }\n  }\n\n  nextFrame(now) {\n    this.frameId++;\n    const t = now || this.now();\n    const duration = t - this.paramTime;\n    let gpu = 0;\n\n    if (this.frameId <= 1) {\n      this.paramFrame = this.frameId;\n      this.paramTime = t;\n    } else {\n      if (t >= this.paramTime + 200) {\n        this.maxMemory = window.performance.memory ? window.performance.memory.jsHeapSizeLimit / 1048576 : 0;\n        const frameCount = this.frameId - this.paramFrame;\n        const fps = frameCount * 1000 / duration;\n\n        for (let i = 0; i < this.names.length; i++) {\n          gpu = this.isWebGL2 ? this.gpuAccums[i] : this.gpuAccums[i] / duration;\n          this.currentMem = Math.round(window.performance && window.performance.memory ? window.performance.memory.usedJSHeapSize / 1048576 : 0);\n          this.paramLogger({\n            gpu,\n            i,\n            mem: this.currentMem,\n            maxMemory: this.maxMemory,\n            fps: fps,\n            duration: Math.round(duration),\n            frameCount\n          });\n\n          if (this.isWebGL2) {\n            this.gpuAccums[i] = 0;\n          } else {\n            Promise.all(this.finished).then(() => {\n              this.gpuAccums[i] = 0;\n              this.finished = [];\n            });\n          }\n        }\n\n        this.paramFrame = this.frameId;\n        this.paramTime = t;\n      }\n    }\n\n    if (!this.detected || !this.chartFrame) {\n      this.chartFrame = this.frameId;\n      this.chartTime = t;\n      this.circularId = 0;\n    } else {\n      const timespan = t - this.chartTime;\n      let hz = this.chartHz * timespan / 1e3;\n\n      while (--hz > 0 && this.detected) {\n        const frameCount = this.frameId - this.chartFrame;\n        const fps = frameCount / timespan * 1e3;\n        this.chart[this.circularId % this.chartLen] = fps;\n        const memS = 1000 / this.currentMem;\n        const gpuS = (this.isWebGL2 ? this.gpuAccums[1] * 2 : Math.round(this.gpuAccums[1] / duration * 100)) + 4;\n\n        if (gpuS > 0) {\n          this.gpuChart[this.circularId % this.chartLen] = gpuS;\n        }\n\n        if (memS > 0) {\n          this.memChart[this.circularId % this.chartLen] = memS;\n        }\n\n        for (let i = 0; i < this.names.length; i++) {\n          this.chartLogger({\n            i,\n            data: {\n              fps: this.chart,\n              gpu: this.gpuChart,\n              mem: this.memChart\n            },\n            circularId: this.circularId\n          });\n        }\n\n        this.circularId++;\n        this.chartFrame = this.frameId;\n        this.chartTime = t;\n      }\n    }\n  }\n\n  startGpu() {\n    const gl = this.gl;\n    const ext = this.extension;\n    if (!gl || !ext) return;\n\n    if (this.isWebGL2) {\n      let available = false;\n      let disjoint, ns;\n\n      if (this.query) {\n        this.queryHasResult = false;\n        let query = this.query;\n        available = gl.getQueryParameter(query, gl.QUERY_RESULT_AVAILABLE);\n        disjoint = gl.getParameter(ext.GPU_DISJOINT_EXT);\n\n        if (available && !disjoint) {\n          ns = gl.getQueryParameter(this.query, gl.QUERY_RESULT);\n          const ms = ns * 1e-6;\n\n          if (available && ms > 0) {\n            if (!disjoint) {\n              this.activeAccums.forEach((_active, i) => {\n                this.gpuAccums[i] = ms;\n              });\n            }\n          }\n        }\n      }\n\n      if (available || !this.query) {\n        this.queryCreated = true;\n        this.query = gl.createQuery();\n        gl.beginQuery(ext.TIME_ELAPSED_EXT, this.query);\n      }\n    }\n  }\n\n  endGpu() {\n    const ext = this.extension;\n    const gl = this.gl;\n\n    if (this.isWebGL2 && this.queryCreated && gl.getQuery(ext.TIME_ELAPSED_EXT, gl.CURRENT_QUERY)) {\n      gl.endQuery(ext.TIME_ELAPSED_EXT);\n    }\n  }\n\n  begin(name) {\n    this.startGpu();\n    this.updateAccums(name);\n  }\n\n  end(name) {\n    this.endGpu();\n    this.updateAccums(name);\n  }\n\n  updateAccums(name) {\n    let nameId = this.names.indexOf(name);\n\n    if (nameId === -1) {\n      nameId = this.names.length;\n      this.addUI(name);\n    }\n\n    const t = this.now();\n    this.activeAccums[nameId] = !this.activeAccums[nameId];\n    this.t0 = t;\n  }\n\n}\n\nconst countGeoDrawCalls = programs => {\n  programs.forEach((program, _pkey) => {\n    const {\n      meshes\n    } = program;\n\n    if (!meshes) {\n      return;\n    }\n\n    let drawCounts = {\n      total: 0,\n      type: 'Triangle',\n      data: []\n    };\n    Object.keys(meshes).forEach(key => {\n      const mesh = meshes[key];\n      const {\n        geometry,\n        material\n      } = mesh;\n      let index = geometry.index;\n      const position = geometry.attributes.position;\n      if (!position) return;\n      let rangeFactor = 1;\n\n      if (material.wireframe === true) {\n        rangeFactor = 0;\n      }\n\n      const dataCount = index !== null ? index.count : position.count;\n      const rangeStart = geometry.drawRange.start * rangeFactor;\n      const rangeCount = geometry.drawRange.count * rangeFactor;\n      const drawStart = rangeStart;\n      const drawEnd = Math.min(dataCount, rangeStart + rangeCount) - 1;\n      let countInstanceRatio = 1;\n      const instanceCount = mesh.count || 1;\n      let type = 'Triangle';\n      let mostDrawCalls = 0;\n\n      if (mesh.isMesh) {\n        if (material.wireframe === true) {\n          type = 'Line';\n          countInstanceRatio = countInstanceRatio / 2;\n        } else {\n          type = 'Triangle';\n          countInstanceRatio = countInstanceRatio / 3;\n        }\n      } else if (mesh.isLine) {\n        type = 'Line';\n\n        if (mesh.isLineSegments) {\n          countInstanceRatio = countInstanceRatio / 2;\n        } else if (mesh.isLineLoop) {\n          countInstanceRatio = countInstanceRatio;\n        } else {\n          countInstanceRatio = countInstanceRatio - 1;\n        }\n      } else if (mesh.isPoints) {\n        type = 'Point';\n        countInstanceRatio = countInstanceRatio;\n      } else if (mesh.isSprite) {\n        type = 'Triangle';\n        countInstanceRatio = countInstanceRatio / 3;\n      }\n\n      const drawCount = Math.round(Math.max(0, drawEnd - drawStart + 1) * (countInstanceRatio * instanceCount));\n\n      if (drawCount > mostDrawCalls) {\n        mostDrawCalls = drawCount;\n        drawCounts.type = type;\n      }\n\n      drawCounts.total += drawCount;\n      drawCounts.data.push({\n        drawCount,\n        type\n      });\n      mesh.userData.drawCount = {\n        type,\n        count: drawCount\n      };\n    });\n    program.drawCounts = drawCounts;\n  });\n};\n\nconst updateMatrixWorldTemp = THREE.Object3D.prototype.updateMatrixWorld;\nconst updateWorldMatrixTemp = THREE.Object3D.prototype.updateWorldMatrix;\nconst updateMatrixTemp = THREE.Object3D.prototype.updateMatrix;\nlet matriceWorldCount = {\n  value: 0\n};\nlet matriceCount = {\n  value: 0\n};\n\nconst isUUID = uuid => {\n  let s = '' + uuid;\n  s = s.match('^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$');\n\n  if (s === null) {\n    return false;\n  }\n\n  return true;\n};\n\nconst addMuiPerfID = (material, currentObjectWithMaterials) => {\n  if (!material.defines) {\n    material.defines = {};\n  }\n\n  if (material.defines && !material.defines.muiPerf) {\n    material.defines = Object.assign(material.defines || {}, {\n      muiPerf: material.uuid\n    });\n  }\n\n  const uuid = material.uuid;\n\n  if (!currentObjectWithMaterials[uuid]) {\n    currentObjectWithMaterials[uuid] = {\n      meshes: {},\n      material: material\n    };\n    material.needsUpdate = true;\n  }\n\n  material.needsUpdate = false;\n  return uuid;\n};\n\nconst getMUIIndex = muid => muid === 'muiPerf';\n\nconst usePerfStore = create(set => ({\n  log: null,\n  paused: false,\n  triggerProgramsUpdate: 0,\n  customData: 0,\n  chart: {\n    data: {\n      fps: [],\n      gpu: [],\n      mem: []\n    },\n    circularId: 0\n  },\n  gl: undefined,\n  objectWithMaterials: null,\n  scene: undefined,\n  programs: new Map(),\n  sceneLength: undefined,\n  tab: 'infos'\n}));\nconst setCustomData = customData => {\n  usePerfStore.setState({\n    customData\n  });\n};\nconst getCustomData = () => {\n  return usePerfStore.getState().customData;\n};\nconst usePerfFunc = () => {\n  var _usePerfStore;\n\n  return {\n    log: usePerfStore(state => state.log),\n    gl: (_usePerfStore = usePerfStore(state => state.gl)) === null || _usePerfStore === void 0 ? void 0 : _usePerfStore.info,\n    programs: usePerfStore(state => state.programs)\n  };\n};\nconst Headless = ({\n  trackCPU,\n  chart,\n  deepAnalyze,\n  matrixUpdate\n}) => {\n  const {\n    gl,\n    scene\n  } = useThree();\n  usePerfStore.setState({\n    gl,\n    scene\n  });\n  const PerfLib = useMemo(() => {\n    const PerfLib = new GLPerf({\n      trackGPU: true,\n      chartLen: chart ? chart.length : 120,\n      chartHz: chart ? chart.hz : 60,\n      gl: gl.getContext(),\n      chartLogger: chart => {\n        usePerfStore.setState({\n          chart\n        });\n      },\n      paramLogger: logger => {\n        usePerfStore.setState({\n          log: {\n            maxMemory: logger.maxMemory,\n            gpu: logger.gpu,\n            mem: logger.mem,\n            fps: logger.fps,\n            totalTime: logger.duration,\n            frameCount: logger.frameCount\n          }\n        });\n      }\n    });\n    const callbacks = new Map();\n    const callbacksAfter = new Map();\n    Object.defineProperty(THREE.Scene.prototype, 'onBeforeRender', {\n      get() {\n        return (...args) => {\n          var _callbacks$get;\n\n          if (PerfLib) {\n            PerfLib.begin('profiler');\n          }\n\n          (_callbacks$get = callbacks.get(this)) === null || _callbacks$get === void 0 ? void 0 : _callbacks$get(...args);\n        };\n      },\n\n      set(callback) {\n        callbacks.set(this, callback);\n      },\n\n      configurable: true\n    });\n    Object.defineProperty(THREE.Scene.prototype, 'onAfterRender', {\n      get() {\n        return (...args) => {\n          var _callbacksAfter$get;\n\n          if (PerfLib) {\n            PerfLib.end('profiler');\n          }\n\n          (_callbacksAfter$get = callbacksAfter.get(this)) === null || _callbacksAfter$get === void 0 ? void 0 : _callbacksAfter$get(...args);\n        };\n      },\n\n      set(callback) {\n        callbacksAfter.set(this, callback);\n      },\n\n      configurable: true\n    });\n    return PerfLib;\n  }, []);\n  useEffect(() => {\n    if (matrixUpdate) {\n      THREE.Object3D.prototype.updateMatrixWorld = function () {\n        if (this.matrixWorldNeedsUpdate || arguments[0]) {\n          matriceWorldCount.value++;\n        }\n\n        updateMatrixWorldTemp.apply(this, arguments);\n      };\n\n      THREE.Object3D.prototype.updateWorldMatrix = function () {\n        matriceWorldCount.value++;\n        updateWorldMatrixTemp.apply(this, arguments);\n      };\n\n      THREE.Object3D.prototype.updateMatrix = function () {\n        matriceCount.value++;\n        updateMatrixTemp.apply(this, arguments);\n      };\n    }\n\n    gl.info.autoReset = false;\n    let effectSub = null;\n    let afterEffectSub = null;\n    if (!gl.info) return;\n    effectSub = addEffect(function preRafR3FPerf() {\n      if (usePerfStore.getState().paused) {\n        usePerfStore.setState({\n          paused: false\n        });\n      }\n\n      matriceCount.value -= 1;\n      matriceWorldCount.value = 0;\n      matriceCount.value = 0;\n\n      if (gl.info) {\n        gl.info.reset();\n      }\n    });\n    afterEffectSub = addAfterEffect(function postRafR3FPerf() {\n      if (PerfLib && !PerfLib.paused) {\n        PerfLib.nextFrame(window.performance.now());\n      }\n\n      if (deepAnalyze) {\n        var _gl$info, _gl$info$programs;\n\n        const currentObjectWithMaterials = {};\n        const programs = new Map();\n        scene.traverse(function deepAnalyzeR3FPerf(object) {\n          if (object instanceof THREE.Mesh || object instanceof THREE.Points) {\n            if (object.material) {\n              let uuid = object.material.uuid;\n              const isTroika = Array.isArray(object.material) && object.material.length > 1;\n\n              if (isTroika) {\n                uuid = addMuiPerfID(object.material[1], currentObjectWithMaterials);\n              } else {\n                uuid = addMuiPerfID(object.material, currentObjectWithMaterials);\n              }\n\n              currentObjectWithMaterials[uuid].meshes[object.uuid] = object;\n            }\n          }\n        });\n        gl === null || gl === void 0 ? void 0 : (_gl$info = gl.info) === null || _gl$info === void 0 ? void 0 : (_gl$info$programs = _gl$info.programs) === null || _gl$info$programs === void 0 ? void 0 : _gl$info$programs.forEach(program => {\n          const cacheKeySplited = program.cacheKey.split(',');\n          const muiPerfTracker = cacheKeySplited[cacheKeySplited.findIndex(getMUIIndex) + 1];\n\n          if (isUUID(muiPerfTracker) && currentObjectWithMaterials[muiPerfTracker]) {\n            const {\n              material,\n              meshes\n            } = currentObjectWithMaterials[muiPerfTracker];\n            programs.set(muiPerfTracker, {\n              program,\n              material,\n              meshes,\n              drawCounts: {\n                total: 0,\n                type: 'triangle',\n                data: []\n              },\n              expand: false,\n              visible: true\n            });\n          }\n        });\n\n        if (programs.size !== usePerfStore.getState().programs.size) {\n          countGeoDrawCalls(programs);\n          usePerfStore.setState({\n            programs: programs,\n            triggerProgramsUpdate: usePerfStore.getState().triggerProgramsUpdate++\n          });\n        }\n      }\n    });\n    return () => {\n      if (PerfLib) {\n        window.cancelAnimationFrame(PerfLib.rafId);\n        window.cancelAnimationFrame(PerfLib.checkQueryId);\n      }\n\n      if (matrixUpdate) {\n        THREE.Object3D.prototype.updateMatrixWorld = updateMatrixTemp;\n      }\n\n      effectSub();\n      afterEffectSub();\n    };\n  }, [PerfLib, gl, trackCPU, chart, matrixUpdate]);\n  useEffect(() => {\n    const unsub = addTail(function postRafTailR3FPerf() {\n      if (PerfLib) {\n        PerfLib.paused = true;\n        matriceCount.value = 0;\n        matriceWorldCount.value = 0;\n        usePerfStore.setState({\n          paused: true,\n          log: {\n            maxMemory: 0,\n            gpu: 0,\n            mem: 0,\n            fps: 0,\n            totalTime: 0,\n            frameCount: 0\n          }\n        });\n      }\n\n      return false;\n    });\n    return () => {\n      unsub();\n    };\n  }, []);\n  return null;\n};\n\nconst PerfS = styled('div', {\n  position: 'fixed',\n  top: 0,\n  right: 0,\n  zIndex: 9999,\n  fontFamily: `-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif`,\n  backgroundColor: 'rgba(36, 36, 36, .9)',\n  color: '#fff',\n  margin: 0,\n  minHeight: '100px',\n  padding: '4px 0',\n  '-webkit-font-smoothing': 'antialiased',\n  '-moz-osx-font-smoothing': 'grayscale',\n  userSelect: 'none',\n  '&.top-left': {\n    right: 'initial',\n    left: 0\n  },\n  '&.bottom-left': {\n    right: 'initial',\n    top: 'initial',\n    bottom: 0,\n    left: 0,\n    '.__perf_toggle': {\n      top: '-20px',\n      bottom: 'initial'\n    }\n  },\n  '&.bottom-right': {\n    top: 'initial',\n    bottom: 0,\n    '.__perf_toggle': {\n      top: '-20px',\n      bottom: 'initial'\n    }\n  },\n  '&.minimal': {\n    backgroundColor: 'rgba(36, 36, 36, .75)'\n  },\n  '*': {\n    margin: '0',\n    padding: '0',\n    border: '0',\n    fontSize: '100%',\n    lineHeight: '1',\n    verticalAlign: 'baseline'\n  }\n});\nconst PerfSmallI = styled('small', {\n  position: 'absolute',\n  right: 0,\n  fontSize: '10px'\n});\nconst PerfI = styled('div', {\n  display: 'inline-flex',\n  fontStyle: 'normal',\n  padding: 0,\n  lineHeight: '13px',\n  fontSize: '14px',\n  width: '62px',\n  position: 'relative',\n  pointerEvents: 'auto',\n  cursor: 'default',\n  fontWeight: 500,\n  letterSpacing: '0px',\n  textAlign: 'left',\n  height: '29px',\n  whiteSpace: 'nowrap',\n  justifyContent: 'space-evenly',\n  fontVariantNumeric: 'tabular-nums',\n  small: {\n    paddingLeft: '12px'\n  },\n  svg: {\n    padding: 0,\n    color: 'rgba(145, 145, 145, 0.3)',\n    fontSize: '40px',\n    position: 'absolute',\n    zIndex: 1,\n    maxHeight: '20px',\n    left: ' 50%',\n    marginLeft: '-23px',\n    top: '4px'\n  }\n});\nconst PerfB = styled('span', {\n  verticalAlign: 'bottom',\n  position: 'absolute',\n  bottom: '5px',\n  color: 'rgba(101, 197, 188, 1)',\n  textAlign: 'right',\n  letterSpacing: '1px',\n  fontSize: '8px',\n  fontWeight: '500',\n  width: '60px'\n});\nconst PerfIContainer = styled('div', {\n  display: 'flex'\n});\nconst ProgramHeader = styled('div', {\n  backgroundColor: '#404040',\n  padding: '6px',\n  display: 'block',\n  fontSize: '12px',\n  marginBottom: '6px',\n  cursor: 'pointer',\n  '*': {\n    cursor: 'pointer !important'\n  },\n  '> span': {},\n  small: {\n    fontSize: '9px'\n  },\n  '> b': {\n    marginRight: '4px',\n    cursor: 'pointer'\n  }\n});\nconst Graph = styled('div', {\n  height: '66px',\n  overflow: 'hidden',\n  position: 'absolute',\n  pointerEvents: 'none',\n  display: 'flex',\n  top: '0px',\n  justifyContent: 'center',\n  width: '100%',\n  minWidth: '310px',\n  margin: '0 auto',\n  canvas: {\n    background: 'transparent !important',\n    position: 'absolute !important'\n  }\n});\nconst Graphpc = styled('div', {\n  textAlign: 'center',\n  fontWeight: 700,\n  fontSize: '12px',\n  lineHeight: '12px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  verticalAlign: 'middle',\n  color: '#f1f1f1',\n  padding: '7px',\n  width: '100%',\n  backgroundColor: 'rgba(36, 36, 37, 0.8)',\n  zIndex: 1,\n  position: 'absolute',\n  height: '100%'\n});\nconst Toggle = styled('div', {\n  pointerEvents: 'auto',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  backgroundColor: 'rgb(41, 43, 45)',\n  marginTop: '6px',\n  width: 'auto',\n  margin: '0',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  padding: '4px 6px',\n  '&.__perf_toggle_tab_active': {\n    backgroundColor: 'rgb(31 31 31)'\n  },\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nconst ToggleVisible = styled('div', {\n  pointerEvents: 'auto',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  float: 'right',\n  backgroundColor: 'rgb(41, 43, 45)',\n  width: 'auto',\n  margin: '0',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  padding: '4px 6px',\n  '&.__perf_toggle_tab_active': {\n    backgroundColor: 'rgb(31 31 31)'\n  },\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nconst ProgramGeo = styled('div', {\n  padding: '4px 6px',\n  fontSize: '12px',\n  pointerEvents: 'auto'\n});\nconst ProgramTitle = styled('span', {\n  fontWeight: 'bold',\n  letterSpacing: '0.08em',\n  maxWidth: '145px',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'inline-block',\n  verticalAlign: 'middle',\n  fontSize: '11px',\n  marginRight: '10px'\n});\nconst ContainerScroll = styled('div', {\n  maxHeight: '50vh',\n  overflowY: 'auto',\n  marginTop: '38px'\n});\nconst ProgramsContainer = styled('div', {\n  marginTop: '0'\n});\nconst ProgramsULHeader = styled('div', {\n  display: 'flex',\n  position: 'relative',\n  fontWeight: 'bold',\n  color: '#fff',\n  lineHeight: '14px',\n  svg: {\n    marginRight: '4px',\n    display: 'inline-block'\n  }\n});\nconst ProgramsUL = styled('ul', {\n  display: 'block',\n  position: 'relative',\n  paddingLeft: '10px',\n  margin: '6px 6px',\n  img: {\n    maxHeight: '60px',\n    maxWidth: '100%',\n    margin: '6px auto',\n    display: 'block'\n  },\n  '&:after': {\n    content: '',\n    position: 'absolute',\n    left: '0px',\n    top: '0px',\n    width: '1px',\n    height: '100%',\n    backgroundColor: 'grey',\n    transform: 'translateX(-50%)',\n    maxHeight: '50vh',\n    overflowY: 'auto'\n  },\n  li: {\n    borderBottom: '1px solid #313131',\n    display: 'block',\n    padding: '4px',\n    margin: 0,\n    lineHeight: 1,\n    verticalAlign: 'middle',\n    height: '24px'\n  },\n  b: {\n    fontWeight: 'bold'\n  },\n  small: {\n    textAlign: 'revert',\n    letterSpacing: '1px',\n    fontSize: '10px',\n    fontWeight: '500',\n    marginLeft: '2px',\n    color: 'rgb(101, 197, 188)'\n  }\n});\nconst ProgramConsole = styled('button', {\n  fontWeight: 'bold',\n  letterSpacing: '0.02em',\n  backgroundColor: 'rgb(41, 43, 45)',\n  color: 'rgb(211, 211, 211)',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  cursor: 'pointer',\n  display: 'block',\n  verticalAlign: 'middle',\n  fontSize: '11px',\n  padding: '5px',\n  margin: '4px auto'\n});\nconst ToggleContainer = styled('div', {\n  display: 'flex',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  fontSize: '12px',\n  backgroundColor: 'rgb(41, 43, 45)',\n  marginTop: '6px',\n  width: 'auto',\n  margin: '0 auto',\n  color: 'rgba(145, 145, 145, 1)',\n  textAlign: 'center',\n  position: 'absolute',\n  right: 0,\n  bottom: ' -20px',\n  svg: {\n    width: '12px',\n    height: '12px',\n    float: 'left'\n  }\n});\nconst ProgramsGeoLi = styled('li', {\n  display: 'flex !important',\n  height: 'auto !important',\n  span: {\n    height: '40px',\n    display: 'block',\n    position: 'relative'\n  },\n  b: {\n    paddingLeft: '12px'\n  }\n});\n\nconst TextHighHZ = memo(({\n  isPerf,\n  color,\n  customData,\n  isMemory,\n  isShadersInfo,\n  metric,\n  fontSize,\n  offsetY: _offsetY = 0,\n  offsetX,\n  round,\n  hasInstance\n}) => {\n  const {\n    width: w,\n    height: h\n  } = useThree(s => s.viewport);\n  const fpsRef = useRef(null);\n  const fpsInstanceRef = useRef(null);\n  useFrame(function updateR3FPerfText() {\n    const gl = usePerfStore.getState().gl;\n    const log = usePerfStore.getState().log;\n    if (!log || !fpsRef.current) return;\n\n    if (customData) {\n      fpsRef.current.text = usePerfStore.getState().customData;\n    }\n\n    if (!metric) return;\n    let info = log[metric];\n\n    if (isShadersInfo) {\n      var _gl$info$programs;\n\n      info = (_gl$info$programs = gl.info.programs) === null || _gl$info$programs === void 0 ? void 0 : _gl$info$programs.length;\n    } else if (metric === 'matriceCount') {\n      info = matriceCount.value;\n    } else if (!isPerf && gl.info.render) {\n      const infos = isMemory ? gl.info.memory : gl.info.render;\n      info = infos[metric];\n    }\n\n    fpsRef.current.text = (metric === 'maxMemory' ? '/' : '') + (Math.round(info * Math.pow(10, round)) / Math.pow(10, round)).toFixed(round);\n\n    if (hasInstance) {\n      const infosInstance = gl.info.instance;\n\n      if (typeof infosInstance === 'undefined' && metric !== 'matriceCount') {\n        return;\n      }\n\n      let infoInstance;\n\n      if (metric === 'matriceCount') {\n        infoInstance = matriceWorldCount.value;\n      } else {\n        infoInstance = infosInstance[metric];\n      }\n\n      if (infoInstance > 0) {\n        fpsRef.current.fontSize = fontSize / 1.15;\n        fpsInstanceRef.current.fontSize = info > 0 ? fontSize / 1.4 : fontSize;\n        fpsRef.current.position.y = h / 2 - _offsetY - fontSize / 1.9;\n        fpsInstanceRef.current.text = ' ±\t' + (Math.round(infoInstance * Math.pow(10, round)) / Math.pow(10, round)).toFixed(round);\n      } else {\n        fpsRef.current.position.y = h / 2 - _offsetY - fontSize;\n        fpsRef.current.fontSize = fontSize;\n      }\n    }\n\n    matriceCount.value -= 1;\n    fpsRef.current.updateMatrix();\n    fpsRef.current.matrixWorld.copy(fpsRef.current.matrix);\n  });\n  return jsxs(Suspense, {\n    fallback: null,\n    children: [jsx(Text, {\n      textAlign: \"justify\",\n      matrixAutoUpdate: false,\n      ref: fpsRef,\n      fontSize: fontSize,\n      position: [-w / 2 + offsetX + fontSize, h / 2 - _offsetY - fontSize, 0],\n      color: color,\n      characters: \"0123456789\",\n      onUpdate: self => {\n        self.updateMatrix();\n        matriceCount.value -= 1;\n        self.matrixWorld.copy(self.matrix);\n      },\n      children: \"0\"\n    }), hasInstance && jsx(Text, {\n      textAlign: \"justify\",\n      matrixAutoUpdate: false,\n      ref: fpsInstanceRef,\n      fontSize: 8,\n      position: [-w / 2 + offsetX + fontSize, h / 2 - _offsetY - fontSize * 1.15, 0],\n      color: 'lightgrey',\n      characters: \"0123456789\",\n      onUpdate: self => {\n        self.updateMatrix();\n        matriceCount.value -= 1;\n        self.matrixWorld.copy(self.matrix);\n      }\n    })]\n  });\n});\n\nconst TextsHighHZ = ({\n  colorBlind,\n  customData,\n  minimal,\n  matrixUpdate\n}) => {\n  const fontSize = 14;\n  return jsxs(Fragment, {\n    children: [jsx(TextHighHZ, {\n      color: `rgb(${colorsGraph(colorBlind).fps.toString()})`,\n      isPerf: true,\n      metric: \"fps\",\n      fontSize: fontSize,\n      offsetX: 140,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: '',\n      isPerf: true,\n      metric: \"mem\",\n      fontSize: fontSize,\n      offsetX: 80,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: '',\n      isPerf: true,\n      metric: \"maxMemory\",\n      fontSize: 8,\n      offsetX: 112,\n      offsetY: 10,\n      round: 0\n    }), jsx(TextHighHZ, {\n      color: `rgb(${colorsGraph(colorBlind).gpu.toString()})`,\n      isPerf: true,\n      metric: \"gpu\",\n      fontSize: fontSize,\n      offsetX: 10,\n      round: 3\n    }), !minimal ? jsxs(Fragment, {\n      children: [jsx(TextHighHZ, {\n        metric: \"calls\",\n        fontSize: fontSize,\n        offsetX: 200,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        metric: \"triangles\",\n        fontSize: fontSize,\n        offsetX: 260,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        isMemory: true,\n        metric: \"geometries\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 0,\n        round: 0\n      }), jsx(TextHighHZ, {\n        isMemory: true,\n        metric: \"textures\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 80,\n        round: 0\n      }), jsx(TextHighHZ, {\n        isShadersInfo: true,\n        metric: \"programs\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 140,\n        round: 0\n      }), jsx(TextHighHZ, {\n        metric: \"lines\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 200,\n        round: 0,\n        hasInstance: true\n      }), jsx(TextHighHZ, {\n        metric: \"points\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 260,\n        round: 0,\n        hasInstance: true\n      }), matrixUpdate && jsx(TextHighHZ, {\n        isPerf: true,\n        metric: \"matriceCount\",\n        fontSize: fontSize,\n        offsetY: 30,\n        offsetX: 320,\n        round: 0,\n        hasInstance: true\n      })]\n    }) : null, customData && jsx(TextHighHZ, {\n      color: `rgb(${colorsGraph(colorBlind).custom.toString()})`,\n      customData: customData,\n      fontSize: fontSize,\n      offsetY: 0,\n      offsetX: minimal ? 200 : 320,\n      round: 0\n    })]\n  });\n};\n\nconst ChartCurve = ({\n  colorBlind,\n  minimal,\n  chart: _chart = {\n    length: 30,\n    hz: 15\n  }\n}) => {\n  const curves = useMemo(() => {\n    return {\n      fps: new Float32Array(_chart.length * 3),\n      mem: new Float32Array(_chart.length * 3),\n      gpu: new Float32Array(_chart.length * 3)\n    };\n  }, [_chart]);\n  const fpsRef = useRef(null);\n  const gpuRef = useRef(null);\n  const memRef = useRef(null);\n  const dummyVec3 = useMemo(() => new THREE.Vector3(0, 0, 0), []);\n\n  const updatePoints = (element, factor = 1, ref, viewport) => {\n    let maxVal = 0;\n    const {\n      width: w,\n      height: h\n    } = viewport;\n    const chart = usePerfStore.getState().chart.data[element];\n\n    if (!chart || chart.length === 0) {\n      return;\n    }\n\n    const padding = minimal ? 2 : 6;\n    const paddingTop = minimal ? 12 : 50;\n    let len = chart.length;\n\n    for (let i = 0; i < len; i++) {\n      let id = (usePerfStore.getState().chart.circularId + i + 1) % len;\n\n      if (chart[id] !== undefined) {\n        if (chart[id] > maxVal) {\n          maxVal = chart[id] * factor;\n        }\n\n        dummyVec3.set(padding + i / (len - 1) * (w - padding * 2) - w / 2, Math.min(100, chart[id]) * factor / 100 * (h - padding * 2 - paddingTop) - h / 2, 0);\n        dummyVec3.toArray(ref.attributes.position.array, i * 3);\n      }\n    }\n\n    ref.attributes.position.needsUpdate = true;\n  };\n\n  const [supportMemory] = useState(window.performance.memory);\n  useFrame(function updateChartCurve({\n    viewport\n  }) {\n    updatePoints('fps', 1, fpsRef.current, viewport);\n    updatePoints('gpu', 5, gpuRef.current, viewport);\n\n    if (supportMemory) {\n      updatePoints('mem', 1, memRef.current, viewport);\n    }\n  });\n  return jsxs(Fragment, {\n    children: [jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: fpsRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.fps,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: `rgb(${colorsGraph(colorBlind).fps.toString()})`,\n        transparent: true,\n        opacity: 0.5\n      })]\n    }), jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: gpuRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.gpu,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: `rgb(${colorsGraph(colorBlind).gpu.toString()})`,\n        transparent: true,\n        opacity: 0.5\n      })]\n    }), supportMemory && jsxs(\"line\", {\n      children: [jsx(\"bufferGeometry\", {\n        ref: memRef,\n        children: jsx(\"bufferAttribute\", {\n          attach: 'attributes-position',\n          count: _chart.length,\n          array: curves.mem,\n          itemSize: 3,\n          needsUpdate: true\n        })\n      }), jsx(\"lineBasicMaterial\", {\n        color: `rgb(${colorsGraph(colorBlind).mem.toString()})`,\n        transparent: true,\n        opacity: 0.5\n      })]\n    })]\n  });\n};\n\nconst ChartUI = ({\n  colorBlind,\n  chart,\n  customData,\n  matrixUpdate,\n  showGraph: _showGraph = true,\n  antialias: _antialias = true,\n  minimal\n}) => {\n  const canvas = useRef(undefined);\n  const paused = usePerfStore(state => state.paused);\n  return jsxs(Graph, {\n    style: {\n      display: 'flex',\n      position: 'absolute',\n      height: `${minimal ? 37 : _showGraph ? 100 : 60}px`,\n      minWidth: `${minimal ? '100px' : customData ? '370px' : '310px'}`\n    },\n    children: [jsx(Canvas, {\n      ref: canvas,\n      orthographic: true,\n      dpr: _antialias ? [1, 2] : 1,\n      gl: {\n        antialias: true,\n        alpha: true,\n        stencil: false,\n        depth: false\n      },\n      onCreated: ({\n        scene\n      }) => {\n        scene.traverse(obj => {\n          obj.matrixWorldAutoUpdate = false;\n          obj.matrixAutoUpdate = false;\n        });\n      },\n      flat: true,\n      style: {\n        marginBottom: `-42px`,\n        position: 'relative',\n        pointerEvents: 'none',\n        background: 'transparent !important',\n        height: `${minimal ? 37 : _showGraph ? 100 : 60}px`\n      },\n      children: !paused ? jsxs(Fragment, {\n        children: [jsx(Renderer, {}), jsx(TextsHighHZ, {\n          customData: customData,\n          minimal: minimal,\n          matrixUpdate: matrixUpdate\n        }), _showGraph && jsx(ChartCurve, {\n          colorBlind: colorBlind,\n          minimal: minimal,\n          chart: chart\n        })]\n      }) : null\n    }), paused && jsxs(Graphpc, {\n      children: [jsx(PauseIcon, {}), \" PAUSED\"]\n    })]\n  });\n};\n\nconst Renderer = () => {\n  useFrame(function updateR3FPerf({\n    gl,\n    scene,\n    camera\n  }) {\n    camera.updateMatrix();\n    matriceCount.value -= 1;\n    camera.matrixWorld.copy(camera.matrix);\n    camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n    gl.render(scene, camera);\n    matriceWorldCount.value = 0;\n    matriceCount.value = 0;\n  }, Infinity);\n  return null;\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nconst _excluded = [\"portal\", \"className\", \"children\"];\nconst Html = forwardRef((_ref, ref) => {\n  let {\n    portal,\n    className,\n    children\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  const gl = useThree(state => state.gl);\n  const group = useRef(null);\n  const rootRef = useRef(null);\n  const target = (portal === null || portal === void 0 ? void 0 : portal.current) != null ? portal.current : gl.domElement.parentNode;\n  useLayoutEffect(() => {\n    if (!group.current || !target) return;\n    const el = document.createElement('div');\n    const root = rootRef.current = createRoot(el);\n    target.appendChild(el);\n    return () => {\n      root.unmount();\n      rootRef.current = null;\n      target.removeChild(el);\n    };\n  }, [target]);\n  useLayoutEffect(() => {\n    const root = rootRef.current;\n    if (!root) return;\n    root.render(jsx(\"div\", {\n      ref: ref,\n      className: className,\n      children: children\n    }));\n  });\n  return jsx(\"group\", _objectSpread2(_objectSpread2({}, props), {}, {\n    ref: group\n  }));\n});\n\nconst addTextureUniforms = (id, texture) => {\n  const repeatType = wrap => {\n    switch (wrap) {\n      case 1000:\n        return 'RepeatWrapping';\n\n      case 1001:\n        return 'ClampToEdgeWrapping';\n\n      case 1002:\n        return 'MirroredRepeatWrapping';\n\n      default:\n        return 'ClampToEdgeWrapping';\n    }\n  };\n\n  const encodingType = encoding => {\n    switch (encoding) {\n      case 3000:\n        return 'LinearEncoding';\n\n      case 3001:\n        return 'sRGBEncoding';\n\n      case 3002:\n        return 'RGBEEncoding';\n\n      case 3003:\n        return 'LogLuvEncoding';\n\n      case 3004:\n        return 'RGBM7Encoding';\n\n      case 3005:\n        return 'RGBM16Encoding';\n\n      case 3006:\n        return 'RGBDEncoding';\n\n      case 3007:\n        return 'GammaEncoding';\n\n      default:\n        return 'ClampToEdgeWrapping';\n    }\n  };\n\n  return {\n    name: id,\n    url: texture.image.currentSrc,\n    encoding: encodingType(texture.encoding),\n    wrapT: repeatType(texture.image.wrapT),\n    flipY: texture.flipY.toString()\n  };\n};\n\nconst UniformsGL = ({\n  program,\n  material,\n  setTexNumber\n}) => {\n  const gl = usePerfStore(state => state.gl);\n  const [uniforms, set] = useState(null);\n  useEffect(() => {\n    if (gl) {\n      const data = program === null || program === void 0 ? void 0 : program.getUniforms();\n      let TexCount = 0;\n      const format = new Map();\n      data.seq.forEach(e => {\n        if (!e.id.includes('uTroika') && e.id !== 'isOrthographic' && e.id !== 'uvTransform' && e.id !== 'lightProbe' && e.id !== 'projectionMatrix' && e.id !== 'viewMatrix' && e.id !== 'normalMatrix' && e.id !== 'modelMatrix' && e.id !== 'modelViewMatrix') {\n          let values = [];\n          let data = {\n            name: e.id\n          };\n\n          if (e.cache) {\n            e.cache.forEach(v => {\n              if (typeof v !== 'undefined') {\n                values.push(v.toString().substring(0, 4));\n              }\n            });\n            data.value = values.join();\n\n            if (material[e.id] && material[e.id].image) {\n              if (material[e.id].image) {\n                TexCount++;\n                data.value = addTextureUniforms(e.id, material[e.id]);\n              }\n            }\n\n            if (!data.value) {\n              data.value = 'empty';\n            }\n\n            format.set(e.id, data);\n          }\n        }\n      });\n\n      if (material.uniforms) {\n        Object.keys(material.uniforms).forEach(key => {\n          const uniform = material.uniforms[key];\n\n          if (uniform.value) {\n            const {\n              value\n            } = uniform;\n            let data = {\n              name: key\n            };\n\n            if (key.includes('uTroika')) {\n              return;\n            }\n\n            if (value instanceof THREE.Texture) {\n              TexCount++;\n              data.value = addTextureUniforms(key, value);\n            } else {\n              let sb = JSON.stringify(value);\n\n              try {\n                sb = JSON.stringify(value);\n              } catch (_err) {\n                sb = value.toString();\n              }\n\n              data.value = sb;\n            }\n\n            format.set(key, data);\n          }\n        });\n      }\n\n      if (TexCount > 0) {\n        setTexNumber(TexCount);\n      }\n\n      set(format);\n    }\n  }, []);\n  return jsx(ProgramsUL, {\n    children: uniforms && Array.from(uniforms.values()).map(uniform => {\n      return jsx(\"span\", {\n        children: typeof uniform.value === 'string' ? jsx(\"li\", {\n          children: jsxs(\"span\", {\n            children: [uniform.name, \" :\", ' ', jsxs(\"b\", {\n              children: [uniform.value.substring(0, 30), uniform.value.length > 30 ? '...' : '']\n            })]\n          })\n        }) : jsxs(Fragment, {\n          children: [jsx(\"li\", {\n            children: jsxs(\"b\", {\n              children: [uniform.value.name, \":\"]\n            })\n          }), jsxs(\"div\", {\n            children: [Object.keys(uniform.value).map(key => {\n              return key !== 'name' ? jsx(\"div\", {\n                children: key === 'url' ? jsx(\"a\", {\n                  href: uniform.value[key],\n                  target: \"_blank\",\n                  children: jsx(\"img\", {\n                    src: uniform.value[key]\n                  })\n                }) : jsxs(\"li\", {\n                  children: [key, \": \", jsx(\"b\", {\n                    children: uniform.value[key]\n                  })]\n                })\n              }, key) : null;\n            }), jsxs(ProgramConsole, {\n              onClick: () => {\n                var _material$uniforms$un;\n\n                console.info(material[uniform.value.name] || (material === null || material === void 0 ? void 0 : (_material$uniforms$un = material.uniforms[uniform.value.name]) === null || _material$uniforms$un === void 0 ? void 0 : _material$uniforms$un.value));\n              },\n              children: [\"console.info(\", uniform.value.name, \");\"]\n            })]\n          })]\n        })\n      }, uniform.name);\n    })\n  });\n};\n\nconst DynamicDrawCallInfo = ({\n  el\n}) => {\n  usePerfStore(state => state.log);\n  const gl = usePerfStore(state => state.gl);\n\n  const getVal = el => {\n    if (!gl) return 0;\n    const res = Math.round(el.drawCounts.total / (gl.info.render.triangles + gl.info.render.lines + gl.info.render.points) * 100 * 10) / 10;\n    return isFinite(res) && res || 0;\n  };\n\n  return jsx(Fragment, {\n    children: el.drawCounts.total > 0 && jsxs(PerfI, {\n      style: {\n        height: 'auto',\n        width: 'auto',\n        margin: '0 4px'\n      },\n      children: [el.drawCounts.type === 'Triangle' ? jsx(VercelLogoIcon, {\n        style: {\n          top: '-1px'\n        }\n      }) : jsx(ActivityLogIcon, {\n        style: {\n          top: '-1px'\n        }\n      }), el.drawCounts.total, jsxs(\"small\", {\n        children: [el.drawCounts.type, \"s\"]\n      }), gl && jsxs(PerfB, {\n        style: {\n          bottom: '-10px',\n          width: '40px',\n          fontWeight: 'bold'\n        },\n        children: [el.visible && !el.material.wireframe ? getVal(el) : 0, \"%\"]\n      })]\n    })\n  });\n};\n\nconst ProgramUI = ({\n  el\n}) => {\n  const [showProgram, setShowProgram] = useState(el.visible);\n  const [toggleProgram, set] = useState(el.expand);\n  const [texNumber, setTexNumber] = useState(0);\n  const {\n    meshes,\n    program,\n    material\n  } = el;\n  return jsxs(ProgramGeo, {\n    children: [jsxs(ProgramHeader, {\n      onClick: () => {\n        el.expand = !toggleProgram;\n        Object.keys(meshes).forEach(key => {\n          const mesh = meshes[key];\n          mesh.material.wireframe = false;\n        });\n        set(!toggleProgram);\n      },\n      children: [jsx(Toggle, {\n        style: {\n          marginRight: '6px'\n        },\n        children: toggleProgram ? jsx(\"span\", {\n          children: jsx(TriangleDownIcon, {})\n        }) : jsx(\"span\", {\n          children: jsx(TriangleUpIcon, {})\n        })\n      }), program && jsxs(\"span\", {\n        children: [jsx(ProgramTitle, {\n          children: program.name\n        }), jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [jsx(LayersIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), Object.keys(meshes).length, jsx(\"small\", {\n            children: Object.keys(meshes).length > 1 ? 'users' : 'user'\n          })]\n        }), texNumber > 0 && jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [texNumber > 1 ? jsx(ImageIcon, {\n            style: {\n              top: '-1px'\n            }\n          }) : jsx(ImageIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), texNumber, jsx(\"small\", {\n            children: \"tex\"\n          })]\n        }), jsx(DynamicDrawCallInfo, {\n          el: el\n        }), material.glslVersion === '300 es' && jsxs(PerfI, {\n          style: {\n            height: 'auto',\n            width: 'auto',\n            margin: '0 4px'\n          },\n          children: [jsx(RocketIcon, {\n            style: {\n              top: '-1px'\n            }\n          }), \"300\", jsx(\"small\", {\n            children: \"es\"\n          }), jsx(PerfB, {\n            style: {\n              bottom: '-10px',\n              width: '40px'\n            },\n            children: \"glsl\"\n          })]\n        })]\n      }), jsx(ToggleVisible, {\n        onPointerEnter: () => {\n          Object.keys(meshes).forEach(key => {\n            const mesh = meshes[key];\n            mesh.material.wireframe = true;\n          });\n        },\n        onPointerLeave: () => {\n          Object.keys(meshes).forEach(key => {\n            const mesh = meshes[key];\n            mesh.material.wireframe = false;\n          });\n        },\n        onClick: e => {\n          e.stopPropagation();\n          Object.keys(meshes).forEach(key => {\n            const mesh = meshes[key];\n            const invert = !showProgram;\n            mesh.visible = invert;\n            el.visible = invert;\n            setShowProgram(invert);\n          });\n        },\n        children: showProgram ? jsx(EyeOpenIcon, {}) : jsx(EyeNoneIcon, {})\n      })]\n    }), jsxs(\"div\", {\n      style: {\n        maxHeight: toggleProgram ? '9999px' : 0,\n        overflow: 'hidden'\n      },\n      children: [jsxs(ProgramsULHeader, {\n        children: [jsx(ButtonIcon, {}), \" Uniforms:\"]\n      }), jsx(UniformsGL, {\n        program: program,\n        material: material,\n        setTexNumber: setTexNumber\n      }), jsxs(ProgramsULHeader, {\n        children: [jsx(CubeIcon, {}), \" Geometries:\"]\n      }), jsx(ProgramsUL, {\n        children: meshes && Object.keys(meshes).map(key => meshes[key] && meshes[key].geometry && jsxs(ProgramsGeoLi, {\n          children: [jsxs(\"span\", {\n            children: [meshes[key].geometry.type, \": \"]\n          }), meshes[key].userData && meshes[key].userData.drawCount && jsxs(\"b\", {\n            children: [jsxs(\"div\", {\n              children: [meshes[key].userData.drawCount.count, jsxs(\"small\", {\n                children: [\" \", meshes[key].userData.drawCount.type, \"s\"]\n              })]\n            }), jsx(\"br\", {}), jsxs(\"div\", {\n              children: [Math.round(estimateBytesUsed(meshes[key].geometry) / 1024 * 1000) / 1000, \"Kb\", jsx(\"small\", {\n                children: \" memory used\"\n              })]\n            })]\n          })]\n        }, key))\n      }), jsxs(ProgramConsole, {\n        onClick: () => {\n          console.info(material);\n        },\n        children: [\"console.info(\", material.type, \")\"]\n      })]\n    })]\n  });\n};\n\nconst ProgramsUI = () => {\n  usePerfStore(state => state.triggerProgramsUpdate);\n  const programs = usePerfStore(state => state.programs);\n  return jsx(ProgramsContainer, {\n    children: programs && Array.from(programs.values()).map(el => {\n      if (!el) {\n        return null;\n      }\n\n      return el ? jsx(ProgramUI, {\n        el: el\n      }, el.material.uuid) : null;\n    })\n  });\n};\n\nconst colorsGraph = colorBlind => {\n  const colors = {\n    fps: colorBlind ? '100, 143, 255' : '238,38,110',\n    mem: colorBlind ? '254, 254, 98' : '66,226,46',\n    gpu: colorBlind ? '254,254,254' : '253,151,31',\n    custom: colorBlind ? '86,180,233' : '40,255,255'\n  };\n  return colors;\n};\n\nconst DynamicUI = ({\n  showGraph,\n  colorBlind,\n  customData,\n  minimal\n}) => {\n  const gl = usePerfStore(state => state.gl);\n  return gl ? jsxs(PerfIContainer, {\n    children: [jsxs(PerfI, {\n      children: [jsx(LightningBoltIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: `rgb(${colorsGraph(colorBlind).gpu.toString()})`\n        } : {},\n        children: \"GPU\"\n      }), jsx(PerfSmallI, {\n        children: \"ms\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(RulerHorizontalIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: `rgb(${colorsGraph(colorBlind).mem.toString()})`\n        } : {},\n        children: \"Memory\"\n      }), jsx(PerfSmallI, {\n        children: \"mb\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(LapTimerIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: `rgb(${colorsGraph(colorBlind).fps})`\n        } : {},\n        children: \"FPS\"\n      })]\n    }), !minimal && gl && jsxs(PerfI, {\n      children: [jsx(TextAlignJustifyIcon, {}), jsx(PerfB, {\n        children: gl.info.render.calls === 1 ? 'call' : 'calls'\n      })]\n    }), !minimal && gl && jsxs(PerfI, {\n      children: [jsx(VercelLogoIcon, {}), jsx(PerfB, {\n        children: \"Triangles\"\n      })]\n    }), customData && jsxs(PerfI, {\n      children: [jsx(BarChartIcon, {}), jsx(PerfB, {\n        style: showGraph ? {\n          color: `rgb(${colorsGraph(colorBlind).custom})`\n        } : {},\n        children: customData.name\n      }), customData.info && jsx(PerfSmallI, {\n        children: customData.info\n      })]\n    })]\n  }) : null;\n};\n\nconst PerfUI = ({\n  showGraph,\n  colorBlind,\n  deepAnalyze,\n  customData,\n  matrixUpdate,\n  openByDefault,\n  minimal\n}) => {\n  return jsxs(Fragment, {\n    children: [jsx(DynamicUI, {\n      showGraph: showGraph,\n      colorBlind: colorBlind,\n      customData: customData,\n      minimal: minimal\n    }), !minimal && jsx(PerfThree, {\n      matrixUpdate: matrixUpdate,\n      openByDefault: openByDefault,\n      deepAnalyze: deepAnalyze,\n      showGraph: showGraph\n    })]\n  });\n};\n\nconst InfoUI = ({\n  matrixUpdate\n}) => {\n  return jsxs(\"div\", {\n    children: [jsxs(PerfI, {\n      children: [jsx(MarginIcon, {}), jsx(PerfB, {\n        children: \"Geometries\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(ImageIcon, {}), jsx(PerfB, {\n        children: \"Textures\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(ActivityLogIcon, {}), jsx(PerfB, {\n        children: \"shaders\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(MinusIcon, {}), jsx(PerfB, {\n        children: \"Lines\"\n      })]\n    }), jsxs(PerfI, {\n      children: [jsx(DotIcon, {}), jsx(PerfB, {\n        children: \"Points\"\n      })]\n    }), matrixUpdate && jsxs(PerfI, {\n      children: [jsx(DropdownMenuIcon, {}), jsx(PerfB, {\n        children: \"Matrices\"\n      })]\n    })]\n  });\n};\n\nconst ToggleEl = ({\n  tab,\n  title,\n  set\n}) => {\n  const tabStore = usePerfStore(state => state.tab);\n  return jsx(Toggle, {\n    className: `${tabStore === tab ? ' __perf_toggle_tab_active' : ''}`,\n    onClick: () => {\n      set(true);\n      usePerfStore.setState({\n        tab: tab\n      });\n    },\n    children: jsx(\"span\", {\n      children: title\n    })\n  });\n};\n\nconst PerfThree = ({\n  openByDefault,\n  showGraph,\n  deepAnalyze,\n  matrixUpdate\n}) => {\n  const [show, set] = React.useState(openByDefault);\n  return jsxs(\"span\", {\n    children: [jsx(TabContainers, {\n      show: show,\n      showGraph: showGraph,\n      matrixUpdate: matrixUpdate\n    }), openByDefault && !deepAnalyze ? null : jsxs(ToggleContainer, {\n      className: '__perf_toggle',\n      children: [deepAnalyze && jsx(ToggleEl, {\n        tab: \"programs\",\n        title: \"Programs\",\n        set: set\n      }), deepAnalyze && jsx(ToggleEl, {\n        tab: \"infos\",\n        title: \"Infos\",\n        set: set\n      }), jsx(Toggle, {\n        onClick: () => {\n          set(!show);\n        },\n        children: show ? jsxs(\"span\", {\n          children: [jsx(TriangleDownIcon, {}), \" Minimize\"]\n        }) : jsxs(\"span\", {\n          children: [jsx(TriangleUpIcon, {}), \" More\"]\n        })\n      })]\n    })]\n  });\n};\n\nconst TabContainers = ({\n  show,\n  showGraph,\n  matrixUpdate\n}) => {\n  const tab = usePerfStore(state => state.tab);\n  return jsxs(Fragment, {\n    children: [jsx(InfoUI, {\n      matrixUpdate: matrixUpdate\n    }), show && jsx(\"div\", {\n      children: jsx(ContainerScroll, {\n        style: {\n          marginTop: showGraph ? '38px' : 0\n        },\n        children: tab === 'programs' && jsx(ProgramsUI, {})\n      })\n    })]\n  });\n};\n\nconst Gui = ({\n  showGraph,\n  colorBlind,\n  openByDefault,\n  className,\n  style,\n  position,\n  chart,\n  deepAnalyze,\n  antialias,\n  customData,\n  matrixUpdate,\n  minimal\n}) => {\n  const perfContainerRef = useRef(null);\n  return jsxs(Fragment, {\n    children: [jsx(Headless, {\n      chart: chart,\n      deepAnalyze: deepAnalyze,\n      matrixUpdate: matrixUpdate\n    }), jsx(Html, {\n      transform: false,\n      children: jsxs(PerfS, {\n        className: (className ? ' '.concat(className) : ' ') + ` ${position ? position : ''} ${minimal ? 'minimal' : ''}`,\n        style: _objectSpread2({\n          minHeight: minimal ? '37px' : showGraph ? '100px' : '60px'\n        }, style),\n        ref: perfContainerRef,\n        children: [jsx(ChartUI, {\n          perfContainerRef: perfContainerRef,\n          colorBlind: colorBlind,\n          chart: chart,\n          showGraph: showGraph,\n          antialias: antialias,\n          customData: customData,\n          minimal: minimal,\n          matrixUpdate: matrixUpdate\n        }), jsx(PerfUI, {\n          colorBlind: colorBlind,\n          showGraph: showGraph,\n          deepAnalyze: deepAnalyze,\n          openByDefault: openByDefault,\n          customData: customData,\n          matrixUpdate: matrixUpdate,\n          minimal: minimal\n        })]\n      })\n    })]\n  });\n};\n\nconst Perf = ({\n  headless: _headless = false,\n  colorBlind: _colorBlind = false,\n  showGraph: _showGraph = true,\n  trackCPU: _trackCPU = false,\n  deepAnalyze: _deepAnalyze = false,\n  antialias: _antialias = true,\n  openByDefault: _openByDefault = true,\n  customData,\n  matrixUpdate: _matrixUpdate = false,\n  position: _position = 'top-right',\n  chart: _chart = {\n    length: 30,\n    hz: 15\n  },\n  className,\n  style,\n  minimal: _minimal = false\n}) => {\n  return _headless ? jsx(Headless, {\n    chart: _chart,\n    deepAnalyze: _deepAnalyze,\n    matrixUpdate: _matrixUpdate\n  }) : jsx(Gui, {\n    colorBlind: _colorBlind,\n    showGraph: _showGraph,\n    trackCPU: _trackCPU,\n    openByDefault: _openByDefault,\n    className: className,\n    style: style,\n    position: _position,\n    antialias: _antialias,\n    chart: _chart,\n    deepAnalyze: _deepAnalyze,\n    minimal: _minimal,\n    customData: customData,\n    matrixUpdate: _matrixUpdate\n  });\n};\nconst usePerf = usePerfFunc;\n\nexport { Perf, getCustomData, setCustomData, usePerf };\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,eAAe,QAAQ,OAAO;AAChH,SAASC,QAAQ,EAAEC,SAAS,EAAEC,cAAc,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,oBAAoB;AACnG,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,MAAM,MAAM,SAAS;AAC5B,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,SAAS,EAAEC,gBAAgB,EAAEC,cAAc,EAAEC,UAAU,EAAEC,SAAS,EAAEC,UAAU,EAAEC,WAAW,EAAEC,WAAW,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,mBAAmB,EAAEC,YAAY,EAAEC,oBAAoB,EAAEC,YAAY,EAAEC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,gBAAgB,QAAQ,uBAAuB;AACnV,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,IAAI,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,mBAAmB;AACvD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,iBAAiB,QAAQ,cAAc;AAEhD,SAASC,eAAe,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAE;EACxC,IAAID,GAAG,IAAID,GAAG,EAAE;IACdG,MAAM,CAACC,cAAc,CAACJ,GAAG,EAAEC,GAAG,EAAE;MAC9BC,KAAK,EAAEA,KAAK;MACZG,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC,MAAM;IACLP,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;EAClB;EAEA,OAAOF,GAAG;AACZ;AAEA,SAASQ,OAAO,CAACC,MAAM,EAAEC,cAAc,EAAE;EACvC,IAAIC,IAAI,GAAGR,MAAM,CAACQ,IAAI,CAACF,MAAM,CAAC;EAE9B,IAAIN,MAAM,CAACS,qBAAqB,EAAE;IAChC,IAAIC,OAAO,GAAGV,MAAM,CAACS,qBAAqB,CAACH,MAAM,CAAC;IAClDC,cAAc,KAAKG,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;MACzD,OAAOZ,MAAM,CAACa,wBAAwB,CAACP,MAAM,EAAEM,GAAG,CAAC,CAACV,UAAU;IAChE,CAAC,CAAC,CAAC,EAAEM,IAAI,CAACM,IAAI,CAACC,KAAK,CAACP,IAAI,EAAEE,OAAO,CAAC;EACrC;EAEA,OAAOF,IAAI;AACb;AAEA,SAASQ,cAAc,CAACC,MAAM,EAAE;EAC9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;IACzC,IAAIG,MAAM,GAAG,IAAI,IAAIF,SAAS,CAACD,CAAC,CAAC,GAAGC,SAAS,CAACD,CAAC,CAAC,GAAG,CAAC,CAAC;IACrDA,CAAC,GAAG,CAAC,GAAGb,OAAO,CAACL,MAAM,CAACqB,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUxB,GAAG,EAAE;MACzDF,eAAe,CAACqB,MAAM,EAAEnB,GAAG,EAAEuB,MAAM,CAACvB,GAAG,CAAC,CAAC;IAC3C,CAAC,CAAC,GAAGE,MAAM,CAACuB,yBAAyB,GAAGvB,MAAM,CAACwB,gBAAgB,CAACP,MAAM,EAAEjB,MAAM,CAACuB,yBAAyB,CAACF,MAAM,CAAC,CAAC,GAAGhB,OAAO,CAACL,MAAM,CAACqB,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUxB,GAAG,EAAE;MACjKE,MAAM,CAACC,cAAc,CAACgB,MAAM,EAAEnB,GAAG,EAAEE,MAAM,CAACa,wBAAwB,CAACQ,MAAM,EAAEvB,GAAG,CAAC,CAAC;IAClF,CAAC,CAAC;EACJ;EAEA,OAAOmB,MAAM;AACf;AAAC,IAEKQ,MAAM;EACV,kBAA2B;IAAA,IAAfC,QAAQ,uEAAG,CAAC,CAAC;IAAA;IACvB,IAAI,CAACC,KAAK,GAAG,CAAC,EAAE,CAAC;IACjB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,EAAE,GAAG,KAAK,CAAC;IAChB,IAAI,CAACC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAACC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAACC,MAAM,GAAG,KAAK;IACnB,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAElB,IAAI,CAACC,WAAW,GAAG,YAAM,CAAC,CAAC;IAE3B,IAAI,CAACC,QAAQ,GAAG,YAAM,CAAC,CAAC;IAExB,IAAI,CAACC,WAAW,GAAG,YAAM,CAAC,CAAC;IAE3B,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,cAAc,GAAG,CAAC;IACvB,IAAI,CAACC,SAAS,GAAG,CAAC;IAClB,IAAI,CAACC,aAAa,GAAG,CAAC;IACtB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,OAAO,GAAG,CAAC;IAChB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,IAAI,GAAGC,SAAS;IACrB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,SAAS,GAAG,CAAC;IAElB,IAAI,CAACC,GAAG,GAAG,YAAM,CAAC,CAAC;IAEnB,IAAI,CAACC,EAAE,GAAG,CAAC;IACXC,MAAM,CAACvC,MAAM,GAAGuC,MAAM,CAACvC,MAAM,IAAI,CAAC,CAAC;IACnCzB,MAAM,CAACiE,MAAM,CAAC,IAAI,EAAEvC,QAAQ,CAAC;IAC7B,IAAI,CAACa,KAAK,GAAG,IAAI2B,KAAK,CAAC,IAAI,CAACrB,QAAQ,CAAC,CAACsB,IAAI,CAAC,CAAC,CAAC;IAC7C,IAAI,CAAC3B,QAAQ,GAAG,IAAI0B,KAAK,CAAC,IAAI,CAACrB,QAAQ,CAAC,CAACsB,IAAI,CAAC,CAAC,CAAC;IAChD,IAAI,CAAC1B,QAAQ,GAAG,IAAIyB,KAAK,CAAC,IAAI,CAACrB,QAAQ,CAAC,CAACsB,IAAI,CAAC,CAAC,CAAC;IAEhD,IAAI,CAACL,GAAG,GAAG;MAAA,OAAME,MAAM,CAACI,WAAW,IAAIJ,MAAM,CAACI,WAAW,CAACN,GAAG,GAAGE,MAAM,CAACI,WAAW,CAACN,GAAG,EAAE,GAAGO,IAAI,CAACP,GAAG,EAAE;IAAA;IAErG,IAAI,CAACQ,OAAO,EAAE;IACd,IAAI,CAACC,OAAO,EAAE;EAChB;EAAC;IAAA;IAAA,OAED,mBAAU;MACR,IAAI,CAACd,IAAI,GAAG3F,SAAS,CAAC0G,YAAY,EAAE;MAEpC,IAAI,IAAI,CAAC3C,EAAE,EAAE;QACX,IAAI,CAACM,QAAQ,GAAG,IAAI;QAEpB,IAAI,CAAC,IAAI,CAACL,SAAS,EAAE;UACnB,IAAI,CAACA,SAAS,GAAG,IAAI,CAACD,EAAE,CAAC4C,YAAY,CAAC,iCAAiC,CAAC;QAC1E;QAEA,IAAI,IAAI,CAAC3C,SAAS,KAAK,IAAI,EAAE;UAC3B,IAAI,CAACK,QAAQ,GAAG,KAAK;QACvB;MACF;IACF;EAAC;IAAA;IAAA,OAED,mBAAU;MAAA;MACR,IAAIuC,CAAC,GAAG,CAAC;MAET,IAAMC,IAAI,GAAG,SAAPA,IAAI,CAAGC,CAAC,EAAI;QAChB,IAAI,EAAEF,CAAC,GAAG,EAAE,EAAE;UACZ,KAAI,CAACnB,KAAK,GAAGS,MAAM,CAACa,qBAAqB,CAACF,IAAI,CAAC;QACjD,CAAC,MAAM;UACL,KAAI,CAACtB,QAAQ,GAAGyB,IAAI,CAACC,IAAI,CAAC,GAAG,GAAGL,CAAC,IAAIE,CAAC,GAAG,KAAI,CAACb,EAAE,CAAC,GAAG,EAAE,CAAC;UACvDC,MAAM,CAACgB,oBAAoB,CAAC,KAAI,CAACzB,KAAK,CAAC;QACzC;QAEA,IAAI,CAAC,KAAI,CAACQ,EAAE,EAAE,KAAI,CAACA,EAAE,GAAGa,CAAC;MAC3B,CAAC;MAED,IAAI,CAACrB,KAAK,GAAGS,MAAM,CAACa,qBAAqB,CAACF,IAAI,CAAC;IACjD;EAAC;IAAA;IAAA,OAED,eAAMM,IAAI,EAAE;MACV,IAAI,IAAI,CAACtD,KAAK,CAACuD,OAAO,CAACD,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QACnC,IAAI,CAACtD,KAAK,CAACb,IAAI,CAACmE,IAAI,CAAC;QACrB,IAAI,CAAC5C,SAAS,CAACvB,IAAI,CAAC,CAAC,CAAC;QACtB,IAAI,CAACwB,YAAY,CAACxB,IAAI,CAAC,KAAK,CAAC;MAC/B;IACF;EAAC;IAAA;IAAA,OAED,mBAAUgD,GAAG,EAAE;MAAA;MACb,IAAI,CAACR,OAAO,EAAE;MACd,IAAMsB,CAAC,GAAGd,GAAG,IAAI,IAAI,CAACA,GAAG,EAAE;MAC3B,IAAMqB,QAAQ,GAAGP,CAAC,GAAG,IAAI,CAACf,SAAS;MACnC,IAAIuB,GAAG,GAAG,CAAC;MAEX,IAAI,IAAI,CAAC9B,OAAO,IAAI,CAAC,EAAE;QACrB,IAAI,CAACM,UAAU,GAAG,IAAI,CAACN,OAAO;QAC9B,IAAI,CAACO,SAAS,GAAGe,CAAC;MACpB,CAAC,MAAM;QACL,IAAIA,CAAC,IAAI,IAAI,CAACf,SAAS,GAAG,GAAG,EAAE;UAC7B,IAAI,CAACf,SAAS,GAAGkB,MAAM,CAACI,WAAW,CAACiB,MAAM,GAAGrB,MAAM,CAACI,WAAW,CAACiB,MAAM,CAACC,eAAe,GAAG,OAAO,GAAG,CAAC;UACpG,IAAMC,UAAU,GAAG,IAAI,CAACjC,OAAO,GAAG,IAAI,CAACM,UAAU;UACjD,IAAM4B,GAAG,GAAGD,UAAU,GAAG,IAAI,GAAGJ,QAAQ;UAAC,2BAEhCjE,CAAC;YACRkE,GAAG,GAAG,MAAI,CAACjD,QAAQ,GAAG,MAAI,CAACE,SAAS,CAACnB,CAAC,CAAC,GAAG,MAAI,CAACmB,SAAS,CAACnB,CAAC,CAAC,GAAGiE,QAAQ;YACtE,MAAI,CAACxB,UAAU,GAAGmB,IAAI,CAACW,KAAK,CAACzB,MAAM,CAACI,WAAW,IAAIJ,MAAM,CAACI,WAAW,CAACiB,MAAM,GAAGrB,MAAM,CAACI,WAAW,CAACiB,MAAM,CAACK,cAAc,GAAG,OAAO,GAAG,CAAC,CAAC;YACtI,MAAI,CAAChD,WAAW,CAAC;cACf0C,GAAG,EAAHA,GAAG;cACHlE,CAAC,EAADA,CAAC;cACDyE,GAAG,EAAE,MAAI,CAAChC,UAAU;cACpBb,SAAS,EAAE,MAAI,CAACA,SAAS;cACzB0C,GAAG,EAAEA,GAAG;cACRL,QAAQ,EAAEL,IAAI,CAACW,KAAK,CAACN,QAAQ,CAAC;cAC9BI,UAAU,EAAVA;YACF,CAAC,CAAC;YAEF,IAAI,MAAI,CAACpD,QAAQ,EAAE;cACjB,MAAI,CAACE,SAAS,CAACnB,CAAC,CAAC,GAAG,CAAC;YACvB,CAAC,MAAM;cACL0E,OAAO,CAACC,GAAG,CAAC,MAAI,CAACjE,QAAQ,CAAC,CAACkE,IAAI,CAAC,YAAM;gBACpC,MAAI,CAACzD,SAAS,CAACnB,CAAC,CAAC,GAAG,CAAC;gBACrB,MAAI,CAACU,QAAQ,GAAG,EAAE;cACpB,CAAC,CAAC;YACJ;UAAC;UApBH,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACS,KAAK,CAACP,MAAM,EAAEF,CAAC,EAAE,EAAE;YAAA,MAAnCA,CAAC;UAqBV;UAEA,IAAI,CAAC0C,UAAU,GAAG,IAAI,CAACN,OAAO;UAC9B,IAAI,CAACO,SAAS,GAAGe,CAAC;QACpB;MACF;MAEA,IAAI,CAAC,IAAI,CAACvB,QAAQ,IAAI,CAAC,IAAI,CAACL,UAAU,EAAE;QACtC,IAAI,CAACA,UAAU,GAAG,IAAI,CAACM,OAAO;QAC9B,IAAI,CAACJ,SAAS,GAAG0B,CAAC;QAClB,IAAI,CAACxB,UAAU,GAAG,CAAC;MACrB,CAAC,MAAM;QACL,IAAM2C,QAAQ,GAAGnB,CAAC,GAAG,IAAI,CAAC1B,SAAS;QACnC,IAAI8C,EAAE,GAAG,IAAI,CAACjD,OAAO,GAAGgD,QAAQ,GAAG,GAAG;QAEtC,OAAO,EAAEC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC3C,QAAQ,EAAE;UAChC,IAAMkC,WAAU,GAAG,IAAI,CAACjC,OAAO,GAAG,IAAI,CAACN,UAAU;UACjD,IAAMwC,IAAG,GAAGD,WAAU,GAAGQ,QAAQ,GAAG,GAAG;UACvC,IAAI,CAACxD,KAAK,CAAC,IAAI,CAACa,UAAU,GAAG,IAAI,CAACP,QAAQ,CAAC,GAAG2C,IAAG;UACjD,IAAMS,IAAI,GAAG,IAAI,GAAG,IAAI,CAACtC,UAAU;UACnC,IAAMuC,IAAI,GAAG,CAAC,IAAI,CAAC/D,QAAQ,GAAG,IAAI,CAACE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGyC,IAAI,CAACW,KAAK,CAAC,IAAI,CAACpD,SAAS,CAAC,CAAC,CAAC,GAAG8C,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;UAEzG,IAAIe,IAAI,GAAG,CAAC,EAAE;YACZ,IAAI,CAAC1D,QAAQ,CAAC,IAAI,CAACY,UAAU,GAAG,IAAI,CAACP,QAAQ,CAAC,GAAGqD,IAAI;UACvD;UAEA,IAAID,IAAI,GAAG,CAAC,EAAE;YACZ,IAAI,CAACxD,QAAQ,CAAC,IAAI,CAACW,UAAU,GAAG,IAAI,CAACP,QAAQ,CAAC,GAAGoD,IAAI;UACvD;UAEA,KAAK,IAAI/E,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG,IAAI,CAACS,KAAK,CAACP,MAAM,EAAEF,EAAC,EAAE,EAAE;YAC1C,IAAI,CAAC0B,WAAW,CAAC;cACf1B,CAAC,EAADA,EAAC;cACDiF,IAAI,EAAE;gBACJX,GAAG,EAAE,IAAI,CAACjD,KAAK;gBACf6C,GAAG,EAAE,IAAI,CAAC5C,QAAQ;gBAClBmD,GAAG,EAAE,IAAI,CAAClD;cACZ,CAAC;cACDW,UAAU,EAAE,IAAI,CAACA;YACnB,CAAC,CAAC;UACJ;UAEA,IAAI,CAACA,UAAU,EAAE;UACjB,IAAI,CAACJ,UAAU,GAAG,IAAI,CAACM,OAAO;UAC9B,IAAI,CAACJ,SAAS,GAAG0B,CAAC;QACpB;MACF;IACF;EAAC;IAAA;IAAA,OAED,oBAAW;MAAA;MACT,IAAM/C,EAAE,GAAG,IAAI,CAACA,EAAE;MAClB,IAAMuE,GAAG,GAAG,IAAI,CAACtE,SAAS;MAC1B,IAAI,CAACD,EAAE,IAAI,CAACuE,GAAG,EAAE;MAEjB,IAAI,IAAI,CAACjE,QAAQ,EAAE;QACjB,IAAIkE,SAAS,GAAG,KAAK;QACrB,IAAIC,QAAQ,EAAEC,EAAE;QAEhB,IAAI,IAAI,CAACxE,KAAK,EAAE;UACd,IAAI,CAACE,cAAc,GAAG,KAAK;UAC3B,IAAIF,KAAK,GAAG,IAAI,CAACA,KAAK;UACtBsE,SAAS,GAAGxE,EAAE,CAAC2E,iBAAiB,CAACzE,KAAK,EAAEF,EAAE,CAAC4E,sBAAsB,CAAC;UAClEH,QAAQ,GAAGzE,EAAE,CAAC6E,YAAY,CAACN,GAAG,CAACO,gBAAgB,CAAC;UAEhD,IAAIN,SAAS,IAAI,CAACC,QAAQ,EAAE;YAC1BC,EAAE,GAAG1E,EAAE,CAAC2E,iBAAiB,CAAC,IAAI,CAACzE,KAAK,EAAEF,EAAE,CAAC+E,YAAY,CAAC;YACtD,IAAMC,EAAE,GAAGN,EAAE,GAAG,IAAI;YAEpB,IAAIF,SAAS,IAAIQ,EAAE,GAAG,CAAC,EAAE;cACvB,IAAI,CAACP,QAAQ,EAAE;gBACb,IAAI,CAAChE,YAAY,CAAChB,OAAO,CAAC,UAACwF,OAAO,EAAE5F,CAAC,EAAK;kBACxC,MAAI,CAACmB,SAAS,CAACnB,CAAC,CAAC,GAAG2F,EAAE;gBACxB,CAAC,CAAC;cACJ;YACF;UACF;QACF;QAEA,IAAIR,SAAS,IAAI,CAAC,IAAI,CAACtE,KAAK,EAAE;UAC5B,IAAI,CAACG,YAAY,GAAG,IAAI;UACxB,IAAI,CAACH,KAAK,GAAGF,EAAE,CAACkF,WAAW,EAAE;UAC7BlF,EAAE,CAACmF,UAAU,CAACZ,GAAG,CAACa,gBAAgB,EAAE,IAAI,CAAClF,KAAK,CAAC;QACjD;MACF;IACF;EAAC;IAAA;IAAA,OAED,kBAAS;MACP,IAAMqE,GAAG,GAAG,IAAI,CAACtE,SAAS;MAC1B,IAAMD,EAAE,GAAG,IAAI,CAACA,EAAE;MAElB,IAAI,IAAI,CAACM,QAAQ,IAAI,IAAI,CAACD,YAAY,IAAIL,EAAE,CAACqF,QAAQ,CAACd,GAAG,CAACa,gBAAgB,EAAEpF,EAAE,CAACsF,aAAa,CAAC,EAAE;QAC7FtF,EAAE,CAACuF,QAAQ,CAAChB,GAAG,CAACa,gBAAgB,CAAC;MACnC;IACF;EAAC;IAAA;IAAA,OAED,eAAMhC,IAAI,EAAE;MACV,IAAI,CAACoC,QAAQ,EAAE;MACf,IAAI,CAACC,YAAY,CAACrC,IAAI,CAAC;IACzB;EAAC;IAAA;IAAA,OAED,aAAIA,IAAI,EAAE;MACR,IAAI,CAACsC,MAAM,EAAE;MACb,IAAI,CAACD,YAAY,CAACrC,IAAI,CAAC;IACzB;EAAC;IAAA;IAAA,OAED,sBAAaA,IAAI,EAAE;MACjB,IAAIuC,MAAM,GAAG,IAAI,CAAC7F,KAAK,CAACuD,OAAO,CAACD,IAAI,CAAC;MAErC,IAAIuC,MAAM,KAAK,CAAC,CAAC,EAAE;QACjBA,MAAM,GAAG,IAAI,CAAC7F,KAAK,CAACP,MAAM;QAC1B,IAAI,CAACqG,KAAK,CAACxC,IAAI,CAAC;MAClB;MAEA,IAAML,CAAC,GAAG,IAAI,CAACd,GAAG,EAAE;MACpB,IAAI,CAACxB,YAAY,CAACkF,MAAM,CAAC,GAAG,CAAC,IAAI,CAAClF,YAAY,CAACkF,MAAM,CAAC;MACtD,IAAI,CAACzD,EAAE,GAAGa,CAAC;IACb;EAAC;EAAA;AAAA;AAIH,IAAM8C,iBAAiB,GAAG,SAApBA,iBAAiB,CAAGC,QAAQ,EAAI;EACpCA,QAAQ,CAACrG,OAAO,CAAC,UAACsG,OAAO,EAAEC,KAAK,EAAK;IACnC,IACEC,MAAM,GACJF,OAAO,CADTE,MAAM;IAGR,IAAI,CAACA,MAAM,EAAE;MACX;IACF;IAEA,IAAIC,UAAU,GAAG;MACfC,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE,UAAU;MAChB9B,IAAI,EAAE;IACR,CAAC;IACDnG,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACxG,OAAO,CAAC,UAAAxB,GAAG,EAAI;MACjC,IAAMoI,IAAI,GAAGJ,MAAM,CAAChI,GAAG,CAAC;MACxB,IACEqI,QAAQ,GAEND,IAAI,CAFNC,QAAQ;QACRC,QAAQ,GACNF,IAAI,CADNE,QAAQ;MAEV,IAAIC,KAAK,GAAGF,QAAQ,CAACE,KAAK;MAC1B,IAAMC,QAAQ,GAAGH,QAAQ,CAACI,UAAU,CAACD,QAAQ;MAC7C,IAAI,CAACA,QAAQ,EAAE;MACf,IAAIE,WAAW,GAAG,CAAC;MAEnB,IAAIJ,QAAQ,CAACK,SAAS,KAAK,IAAI,EAAE;QAC/BD,WAAW,GAAG,CAAC;MACjB;MAEA,IAAME,SAAS,GAAGL,KAAK,KAAK,IAAI,GAAGA,KAAK,CAACM,KAAK,GAAGL,QAAQ,CAACK,KAAK;MAC/D,IAAMC,UAAU,GAAGT,QAAQ,CAACU,SAAS,CAACC,KAAK,GAAGN,WAAW;MACzD,IAAMO,UAAU,GAAGZ,QAAQ,CAACU,SAAS,CAACF,KAAK,GAAGH,WAAW;MACzD,IAAMQ,SAAS,GAAGJ,UAAU;MAC5B,IAAMK,OAAO,GAAGnE,IAAI,CAACoE,GAAG,CAACR,SAAS,EAAEE,UAAU,GAAGG,UAAU,CAAC,GAAG,CAAC;MAChE,IAAII,kBAAkB,GAAG,CAAC;MAC1B,IAAMC,aAAa,GAAGlB,IAAI,CAACS,KAAK,IAAI,CAAC;MACrC,IAAIV,IAAI,GAAG,UAAU;MACrB,IAAIoB,aAAa,GAAG,CAAC;MAErB,IAAInB,IAAI,CAACoB,MAAM,EAAE;QACf,IAAIlB,QAAQ,CAACK,SAAS,KAAK,IAAI,EAAE;UAC/BR,IAAI,GAAG,MAAM;UACbkB,kBAAkB,GAAGA,kBAAkB,GAAG,CAAC;QAC7C,CAAC,MAAM;UACLlB,IAAI,GAAG,UAAU;UACjBkB,kBAAkB,GAAGA,kBAAkB,GAAG,CAAC;QAC7C;MACF,CAAC,MAAM,IAAIjB,IAAI,CAACqB,MAAM,EAAE;QACtBtB,IAAI,GAAG,MAAM;QAEb,IAAIC,IAAI,CAACsB,cAAc,EAAE;UACvBL,kBAAkB,GAAGA,kBAAkB,GAAG,CAAC;QAC7C,CAAC,MAAM,IAAIjB,IAAI,CAACuB,UAAU,EAAE;UAC1BN,kBAAkB,GAAGA,kBAAkB;QACzC,CAAC,MAAM;UACLA,kBAAkB,GAAGA,kBAAkB,GAAG,CAAC;QAC7C;MACF,CAAC,MAAM,IAAIjB,IAAI,CAACwB,QAAQ,EAAE;QACxBzB,IAAI,GAAG,OAAO;QACdkB,kBAAkB,GAAGA,kBAAkB;MACzC,CAAC,MAAM,IAAIjB,IAAI,CAACyB,QAAQ,EAAE;QACxB1B,IAAI,GAAG,UAAU;QACjBkB,kBAAkB,GAAGA,kBAAkB,GAAG,CAAC;MAC7C;MAEA,IAAMS,SAAS,GAAG9E,IAAI,CAACW,KAAK,CAACX,IAAI,CAAC+E,GAAG,CAAC,CAAC,EAAEZ,OAAO,GAAGD,SAAS,GAAG,CAAC,CAAC,IAAIG,kBAAkB,GAAGC,aAAa,CAAC,CAAC;MAEzG,IAAIQ,SAAS,GAAGP,aAAa,EAAE;QAC7BA,aAAa,GAAGO,SAAS;QACzB7B,UAAU,CAACE,IAAI,GAAGA,IAAI;MACxB;MAEAF,UAAU,CAACC,KAAK,IAAI4B,SAAS;MAC7B7B,UAAU,CAAC5B,IAAI,CAACrF,IAAI,CAAC;QACnB8I,SAAS,EAATA,SAAS;QACT3B,IAAI,EAAJA;MACF,CAAC,CAAC;MACFC,IAAI,CAAC4B,QAAQ,CAACF,SAAS,GAAG;QACxB3B,IAAI,EAAJA,IAAI;QACJU,KAAK,EAAEiB;MACT,CAAC;IACH,CAAC,CAAC;IACFhC,OAAO,CAACG,UAAU,GAAGA,UAAU;EACjC,CAAC,CAAC;AACJ,CAAC;AAED,IAAMgC,qBAAqB,GAAGlM,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACC,iBAAiB;AACxE,IAAMC,qBAAqB,GAAGtM,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACG,iBAAiB;AACxE,IAAMC,gBAAgB,GAAGxM,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACK,YAAY;AAC9D,IAAIC,iBAAiB,GAAG;EACtBxK,KAAK,EAAE;AACT,CAAC;AACD,IAAIyK,YAAY,GAAG;EACjBzK,KAAK,EAAE;AACT,CAAC;AAED,IAAM0K,MAAM,GAAG,SAATA,MAAM,CAAGhH,IAAI,EAAI;EACrB,IAAIiH,CAAC,GAAG,EAAE,GAAGjH,IAAI;EACjBiH,CAAC,GAAGA,CAAC,CAACC,KAAK,CAAC,+EAA+E,CAAC;EAE5F,IAAID,CAAC,KAAK,IAAI,EAAE;IACd,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb,CAAC;AAED,IAAME,YAAY,GAAG,SAAfA,YAAY,CAAIxC,QAAQ,EAAEyC,0BAA0B,EAAK;EAC7D,IAAI,CAACzC,QAAQ,CAAC0C,OAAO,EAAE;IACrB1C,QAAQ,CAAC0C,OAAO,GAAG,CAAC,CAAC;EACvB;EAEA,IAAI1C,QAAQ,CAAC0C,OAAO,IAAI,CAAC1C,QAAQ,CAAC0C,OAAO,CAACC,OAAO,EAAE;IACjD3C,QAAQ,CAAC0C,OAAO,GAAG9K,MAAM,CAACiE,MAAM,CAACmE,QAAQ,CAAC0C,OAAO,IAAI,CAAC,CAAC,EAAE;MACvDC,OAAO,EAAE3C,QAAQ,CAAC3E;IACpB,CAAC,CAAC;EACJ;EAEA,IAAMA,IAAI,GAAG2E,QAAQ,CAAC3E,IAAI;EAE1B,IAAI,CAACoH,0BAA0B,CAACpH,IAAI,CAAC,EAAE;IACrCoH,0BAA0B,CAACpH,IAAI,CAAC,GAAG;MACjCqE,MAAM,EAAE,CAAC,CAAC;MACVM,QAAQ,EAAEA;IACZ,CAAC;IACDA,QAAQ,CAAC4C,WAAW,GAAG,IAAI;EAC7B;EAEA5C,QAAQ,CAAC4C,WAAW,GAAG,KAAK;EAC5B,OAAOvH,IAAI;AACb,CAAC;AAED,IAAMwH,WAAW,GAAG,SAAdA,WAAW,CAAGC,IAAI;EAAA,OAAIA,IAAI,KAAK,SAAS;AAAA;AAE9C,IAAMC,YAAY,GAAGpN,MAAM,CAAC,UAAAqN,GAAG;EAAA,OAAK;IAClCC,GAAG,EAAE,IAAI;IACTrJ,MAAM,EAAE,KAAK;IACbsJ,qBAAqB,EAAE,CAAC;IACxBC,UAAU,EAAE,CAAC;IACbhJ,KAAK,EAAE;MACL4D,IAAI,EAAE;QACJX,GAAG,EAAE,EAAE;QACPJ,GAAG,EAAE,EAAE;QACPO,GAAG,EAAE;MACP,CAAC;MACDvC,UAAU,EAAE;IACd,CAAC;IACDvB,EAAE,EAAE6B,SAAS;IACb8H,mBAAmB,EAAE,IAAI;IACzBC,KAAK,EAAE/H,SAAS;IAChBiE,QAAQ,EAAE,IAAI+D,GAAG,EAAE;IACnBC,WAAW,EAAEjI,SAAS;IACtBkI,GAAG,EAAE;EACP,CAAC;AAAA,CAAC,CAAC;AACH,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAGN,UAAU,EAAI;EAClCJ,YAAY,CAACW,QAAQ,CAAC;IACpBP,UAAU,EAAVA;EACF,CAAC,CAAC;AACJ,CAAC;AACD,IAAMQ,aAAa,GAAG,SAAhBA,aAAa,GAAS;EAC1B,OAAOZ,YAAY,CAACa,QAAQ,EAAE,CAACT,UAAU;AAC3C,CAAC;AACD,IAAMU,WAAW,GAAG,SAAdA,WAAW,GAAS;EACxB,IAAIC,aAAa;EAEjB,OAAO;IACLb,GAAG,EAAEF,YAAY,CAAC,UAAAgB,KAAK;MAAA,OAAIA,KAAK,CAACd,GAAG;IAAA,EAAC;IACrCxJ,EAAE,EAAE,CAACqK,aAAa,GAAGf,YAAY,CAAC,UAAAgB,KAAK;MAAA,OAAIA,KAAK,CAACtK,EAAE;IAAA,EAAC,MAAM,IAAI,IAAIqK,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACE,IAAI;IACxHzE,QAAQ,EAAEwD,YAAY,CAAC,UAAAgB,KAAK;MAAA,OAAIA,KAAK,CAACxE,QAAQ;IAAA;EAChD,CAAC;AACH,CAAC;AACD,IAAM0E,QAAQ,GAAG,SAAXA,QAAQ,QAKR;EAAA,IAJJC,QAAQ,SAARA,QAAQ;IACR/J,KAAK,SAALA,KAAK;IACLgK,WAAW,SAAXA,WAAW;IACXC,YAAY,SAAZA,YAAY;EAEZ,gBAGIjP,QAAQ,EAAE;IAFZsE,EAAE,aAAFA,EAAE;IACF4J,KAAK,aAALA,KAAK;EAEPN,YAAY,CAACW,QAAQ,CAAC;IACpBjK,EAAE,EAAFA,EAAE;IACF4J,KAAK,EAALA;EACF,CAAC,CAAC;EACF,IAAMgB,OAAO,GAAG1P,OAAO,CAAC,YAAM;IAC5B,IAAM0P,OAAO,GAAG,IAAIhL,MAAM,CAAC;MACzBiL,QAAQ,EAAE,IAAI;MACd7J,QAAQ,EAAEN,KAAK,GAAGA,KAAK,CAACnB,MAAM,GAAG,GAAG;MACpC2B,OAAO,EAAER,KAAK,GAAGA,KAAK,CAACyD,EAAE,GAAG,EAAE;MAC9BnE,EAAE,EAAEA,EAAE,CAAC8K,UAAU,EAAE;MACnB/J,WAAW,EAAE,qBAAAL,KAAK,EAAI;QACpB4I,YAAY,CAACW,QAAQ,CAAC;UACpBvJ,KAAK,EAALA;QACF,CAAC,CAAC;MACJ,CAAC;MACDG,WAAW,EAAE,qBAAAkK,MAAM,EAAI;QACrBzB,YAAY,CAACW,QAAQ,CAAC;UACpBT,GAAG,EAAE;YACHvI,SAAS,EAAE8J,MAAM,CAAC9J,SAAS;YAC3BsC,GAAG,EAAEwH,MAAM,CAACxH,GAAG;YACfO,GAAG,EAAEiH,MAAM,CAACjH,GAAG;YACfH,GAAG,EAAEoH,MAAM,CAACpH,GAAG;YACfqH,SAAS,EAAED,MAAM,CAACzH,QAAQ;YAC1BI,UAAU,EAAEqH,MAAM,CAACrH;UACrB;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IACF,IAAMuH,SAAS,GAAG,IAAIpB,GAAG,EAAE;IAC3B,IAAMqB,cAAc,GAAG,IAAIrB,GAAG,EAAE;IAChC1L,MAAM,CAACC,cAAc,CAACpC,KAAK,CAACmP,KAAK,CAAC/C,SAAS,EAAE,gBAAgB,EAAE;MAC7DgD,GAAG,iBAAG;QAAA;QACJ,OAAO,YAAa;UAClB,IAAIC,cAAc;UAElB,IAAIT,OAAO,EAAE;YACXA,OAAO,CAACU,KAAK,CAAC,UAAU,CAAC;UAC3B;UAEA,CAACD,cAAc,GAAGJ,SAAS,CAACG,GAAG,CAAC,MAAI,CAAC,MAAM,IAAI,IAAIC,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,yBAAS;QACjH,CAAC;MACH,CAAC;MAED9B,GAAG,eAACgC,QAAQ,EAAE;QACZN,SAAS,CAAC1B,GAAG,CAAC,IAAI,EAAEgC,QAAQ,CAAC;MAC/B,CAAC;MAEDjN,YAAY,EAAE;IAChB,CAAC,CAAC;IACFH,MAAM,CAACC,cAAc,CAACpC,KAAK,CAACmP,KAAK,CAAC/C,SAAS,EAAE,eAAe,EAAE;MAC5DgD,GAAG,iBAAG;QAAA;QACJ,OAAO,YAAa;UAClB,IAAII,mBAAmB;UAEvB,IAAIZ,OAAO,EAAE;YACXA,OAAO,CAACa,GAAG,CAAC,UAAU,CAAC;UACzB;UAEA,CAACD,mBAAmB,GAAGN,cAAc,CAACE,GAAG,CAAC,MAAI,CAAC,MAAM,IAAI,IAAII,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,mBAAmB,yBAAS;QACrI,CAAC;MACH,CAAC;MAEDjC,GAAG,eAACgC,QAAQ,EAAE;QACZL,cAAc,CAAC3B,GAAG,CAAC,IAAI,EAAEgC,QAAQ,CAAC;MACpC,CAAC;MAEDjN,YAAY,EAAE;IAChB,CAAC,CAAC;IACF,OAAOsM,OAAO;EAChB,CAAC,EAAE,EAAE,CAAC;EACNzP,SAAS,CAAC,YAAM;IACd,IAAIwP,YAAY,EAAE;MAChB3O,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACC,iBAAiB,GAAG,YAAY;QACvD,IAAI,IAAI,CAACqD,sBAAsB,IAAIpM,SAAS,CAAC,CAAC,CAAC,EAAE;UAC/CoJ,iBAAiB,CAACxK,KAAK,EAAE;QAC3B;QAEAgK,qBAAqB,CAAChJ,KAAK,CAAC,IAAI,EAAEI,SAAS,CAAC;MAC9C,CAAC;MAEDtD,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACG,iBAAiB,GAAG,YAAY;QACvDG,iBAAiB,CAACxK,KAAK,EAAE;QACzBoK,qBAAqB,CAACpJ,KAAK,CAAC,IAAI,EAAEI,SAAS,CAAC;MAC9C,CAAC;MAEDtD,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACK,YAAY,GAAG,YAAY;QAClDE,YAAY,CAACzK,KAAK,EAAE;QACpBsK,gBAAgB,CAACtJ,KAAK,CAAC,IAAI,EAAEI,SAAS,CAAC;MACzC,CAAC;IACH;IAEAU,EAAE,CAACuK,IAAI,CAACoB,SAAS,GAAG,KAAK;IACzB,IAAIC,SAAS,GAAG,IAAI;IACpB,IAAIC,cAAc,GAAG,IAAI;IACzB,IAAI,CAAC7L,EAAE,CAACuK,IAAI,EAAE;IACdqB,SAAS,GAAGjQ,SAAS,CAAC,SAASmQ,aAAa,GAAG;MAC7C,IAAIxC,YAAY,CAACa,QAAQ,EAAE,CAAChK,MAAM,EAAE;QAClCmJ,YAAY,CAACW,QAAQ,CAAC;UACpB9J,MAAM,EAAE;QACV,CAAC,CAAC;MACJ;MAEAwI,YAAY,CAACzK,KAAK,IAAI,CAAC;MACvBwK,iBAAiB,CAACxK,KAAK,GAAG,CAAC;MAC3ByK,YAAY,CAACzK,KAAK,GAAG,CAAC;MAEtB,IAAI8B,EAAE,CAACuK,IAAI,EAAE;QACXvK,EAAE,CAACuK,IAAI,CAACwB,KAAK,EAAE;MACjB;IACF,CAAC,CAAC;IACFF,cAAc,GAAGjQ,cAAc,CAAC,SAASoQ,cAAc,GAAG;MACxD,IAAIpB,OAAO,IAAI,CAACA,OAAO,CAACzK,MAAM,EAAE;QAC9ByK,OAAO,CAACqB,SAAS,CAAC9J,MAAM,CAACI,WAAW,CAACN,GAAG,EAAE,CAAC;MAC7C;MAEA,IAAIyI,WAAW,EAAE;QACf,IAAIwB,QAAQ,EAAEC,iBAAiB;QAE/B,IAAMnD,0BAA0B,GAAG,CAAC,CAAC;QACrC,IAAMlD,QAAQ,GAAG,IAAI+D,GAAG,EAAE;QAC1BD,KAAK,CAACwC,QAAQ,CAAC,SAASC,kBAAkB,CAAC5N,MAAM,EAAE;UACjD,IAAIA,MAAM,YAAYzC,KAAK,CAACsQ,IAAI,IAAI7N,MAAM,YAAYzC,KAAK,CAACuQ,MAAM,EAAE;YAClE,IAAI9N,MAAM,CAAC8H,QAAQ,EAAE;cACnB,IAAI3E,IAAI,GAAGnD,MAAM,CAAC8H,QAAQ,CAAC3E,IAAI;cAC/B,IAAM4K,QAAQ,GAAGnK,KAAK,CAACoK,OAAO,CAAChO,MAAM,CAAC8H,QAAQ,CAAC,IAAI9H,MAAM,CAAC8H,QAAQ,CAAChH,MAAM,GAAG,CAAC;cAE7E,IAAIiN,QAAQ,EAAE;gBACZ5K,IAAI,GAAGmH,YAAY,CAACtK,MAAM,CAAC8H,QAAQ,CAAC,CAAC,CAAC,EAAEyC,0BAA0B,CAAC;cACrE,CAAC,MAAM;gBACLpH,IAAI,GAAGmH,YAAY,CAACtK,MAAM,CAAC8H,QAAQ,EAAEyC,0BAA0B,CAAC;cAClE;cAEAA,0BAA0B,CAACpH,IAAI,CAAC,CAACqE,MAAM,CAACxH,MAAM,CAACmD,IAAI,CAAC,GAAGnD,MAAM;YAC/D;UACF;QACF,CAAC,CAAC;QACFuB,EAAE,KAAK,IAAI,IAAIA,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACkM,QAAQ,GAAGlM,EAAE,CAACuK,IAAI,MAAM,IAAI,IAAI2B,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,iBAAiB,GAAGD,QAAQ,CAACpG,QAAQ,MAAM,IAAI,IAAIqG,iBAAiB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAAC1M,OAAO,CAAC,UAAAsG,OAAO,EAAI;UACvO,IAAM2G,eAAe,GAAG3G,OAAO,CAAC4G,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC;UACnD,IAAMC,cAAc,GAAGH,eAAe,CAACA,eAAe,CAACI,SAAS,CAAC1D,WAAW,CAAC,GAAG,CAAC,CAAC;UAElF,IAAIR,MAAM,CAACiE,cAAc,CAAC,IAAI7D,0BAA0B,CAAC6D,cAAc,CAAC,EAAE;YACxE,4BAGI7D,0BAA0B,CAAC6D,cAAc,CAAC;cAF5CtG,QAAQ,yBAARA,QAAQ;cACRN,MAAM,yBAANA,MAAM;YAERH,QAAQ,CAACyD,GAAG,CAACsD,cAAc,EAAE;cAC3B9G,OAAO,EAAPA,OAAO;cACPQ,QAAQ,EAARA,QAAQ;cACRN,MAAM,EAANA,MAAM;cACNC,UAAU,EAAE;gBACVC,KAAK,EAAE,CAAC;gBACRC,IAAI,EAAE,UAAU;gBAChB9B,IAAI,EAAE;cACR,CAAC;cACDyI,MAAM,EAAE,KAAK;cACbC,OAAO,EAAE;YACX,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;QAEF,IAAIlH,QAAQ,CAACmH,IAAI,KAAK3D,YAAY,CAACa,QAAQ,EAAE,CAACrE,QAAQ,CAACmH,IAAI,EAAE;UAC3DpH,iBAAiB,CAACC,QAAQ,CAAC;UAC3BwD,YAAY,CAACW,QAAQ,CAAC;YACpBnE,QAAQ,EAAEA,QAAQ;YAClB2D,qBAAqB,EAAEH,YAAY,CAACa,QAAQ,EAAE,CAACV,qBAAqB;UACtE,CAAC,CAAC;QACJ;MACF;IACF,CAAC,CAAC;IACF,OAAO,YAAM;MACX,IAAImB,OAAO,EAAE;QACXzI,MAAM,CAACgB,oBAAoB,CAACyH,OAAO,CAAClJ,KAAK,CAAC;QAC1CS,MAAM,CAACgB,oBAAoB,CAACyH,OAAO,CAACjJ,YAAY,CAAC;MACnD;MAEA,IAAIgJ,YAAY,EAAE;QAChB3O,KAAK,CAACmM,QAAQ,CAACC,SAAS,CAACC,iBAAiB,GAAGG,gBAAgB;MAC/D;MAEAoD,SAAS,EAAE;MACXC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC,EAAE,CAACjB,OAAO,EAAE5K,EAAE,EAAEyK,QAAQ,EAAE/J,KAAK,EAAEiK,YAAY,CAAC,CAAC;EAChDxP,SAAS,CAAC,YAAM;IACd,IAAM+R,KAAK,GAAGrR,OAAO,CAAC,SAASsR,kBAAkB,GAAG;MAClD,IAAIvC,OAAO,EAAE;QACXA,OAAO,CAACzK,MAAM,GAAG,IAAI;QACrBwI,YAAY,CAACzK,KAAK,GAAG,CAAC;QACtBwK,iBAAiB,CAACxK,KAAK,GAAG,CAAC;QAC3BoL,YAAY,CAACW,QAAQ,CAAC;UACpB9J,MAAM,EAAE,IAAI;UACZqJ,GAAG,EAAE;YACHvI,SAAS,EAAE,CAAC;YACZsC,GAAG,EAAE,CAAC;YACNO,GAAG,EAAE,CAAC;YACNH,GAAG,EAAE,CAAC;YACNqH,SAAS,EAAE,CAAC;YACZtH,UAAU,EAAE;UACd;QACF,CAAC,CAAC;MACJ;MAEA,OAAO,KAAK;IACd,CAAC,CAAC;IACF,OAAO,YAAM;MACXwJ,KAAK,EAAE;IACT,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,IAAI;AACb,CAAC;AAED,IAAME,KAAK,GAAGjR,MAAM,CAAC,KAAK,EAAE;EAC1BsK,QAAQ,EAAE,OAAO;EACjB4G,GAAG,EAAE,CAAC;EACNC,KAAK,EAAE,CAAC;EACRC,MAAM,EAAE,IAAI;EACZC,UAAU,+JAEG;EACbC,eAAe,EAAE,sBAAsB;EACvCC,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE,CAAC;EACTC,SAAS,EAAE,OAAO;EAClBC,OAAO,EAAE,OAAO;EAChB,wBAAwB,EAAE,aAAa;EACvC,yBAAyB,EAAE,WAAW;EACtCC,UAAU,EAAE,MAAM;EAClB,YAAY,EAAE;IACZR,KAAK,EAAE,SAAS;IAChBS,IAAI,EAAE;EACR,CAAC;EACD,eAAe,EAAE;IACfT,KAAK,EAAE,SAAS;IAChBD,GAAG,EAAE,SAAS;IACdW,MAAM,EAAE,CAAC;IACTD,IAAI,EAAE,CAAC;IACP,gBAAgB,EAAE;MAChBV,GAAG,EAAE,OAAO;MACZW,MAAM,EAAE;IACV;EACF,CAAC;EACD,gBAAgB,EAAE;IAChBX,GAAG,EAAE,SAAS;IACdW,MAAM,EAAE,CAAC;IACT,gBAAgB,EAAE;MAChBX,GAAG,EAAE,OAAO;MACZW,MAAM,EAAE;IACV;EACF,CAAC;EACD,WAAW,EAAE;IACXP,eAAe,EAAE;EACnB,CAAC;EACD,GAAG,EAAE;IACHE,MAAM,EAAE,GAAG;IACXE,OAAO,EAAE,GAAG;IACZI,MAAM,EAAE,GAAG;IACXC,QAAQ,EAAE,MAAM;IAChBC,UAAU,EAAE,GAAG;IACfC,aAAa,EAAE;EACjB;AACF,CAAC,CAAC;AACF,IAAMC,UAAU,GAAGlS,MAAM,CAAC,OAAO,EAAE;EACjCsK,QAAQ,EAAE,UAAU;EACpB6G,KAAK,EAAE,CAAC;EACRY,QAAQ,EAAE;AACZ,CAAC,CAAC;AACF,IAAMI,KAAK,GAAGnS,MAAM,CAAC,KAAK,EAAE;EAC1BoS,OAAO,EAAE,aAAa;EACtBC,SAAS,EAAE,QAAQ;EACnBX,OAAO,EAAE,CAAC;EACVM,UAAU,EAAE,MAAM;EAClBD,QAAQ,EAAE,MAAM;EAChBO,KAAK,EAAE,MAAM;EACbhI,QAAQ,EAAE,UAAU;EACpBiI,aAAa,EAAE,MAAM;EACrBC,MAAM,EAAE,SAAS;EACjBC,UAAU,EAAE,GAAG;EACfC,aAAa,EAAE,KAAK;EACpBC,SAAS,EAAE,MAAM;EACjBC,MAAM,EAAE,MAAM;EACdC,UAAU,EAAE,QAAQ;EACpBC,cAAc,EAAE,cAAc;EAC9BC,kBAAkB,EAAE,cAAc;EAClCC,KAAK,EAAE;IACLC,WAAW,EAAE;EACf,CAAC;EACDC,GAAG,EAAE;IACHxB,OAAO,EAAE,CAAC;IACVH,KAAK,EAAE,0BAA0B;IACjCQ,QAAQ,EAAE,MAAM;IAChBzH,QAAQ,EAAE,UAAU;IACpB8G,MAAM,EAAE,CAAC;IACT+B,SAAS,EAAE,MAAM;IACjBvB,IAAI,EAAE,MAAM;IACZwB,UAAU,EAAE,OAAO;IACnBlC,GAAG,EAAE;EACP;AACF,CAAC,CAAC;AACF,IAAMmC,KAAK,GAAGrT,MAAM,CAAC,MAAM,EAAE;EAC3BiS,aAAa,EAAE,QAAQ;EACvB3H,QAAQ,EAAE,UAAU;EACpBuH,MAAM,EAAE,KAAK;EACbN,KAAK,EAAE,wBAAwB;EAC/BoB,SAAS,EAAE,OAAO;EAClBD,aAAa,EAAE,KAAK;EACpBX,QAAQ,EAAE,KAAK;EACfU,UAAU,EAAE,KAAK;EACjBH,KAAK,EAAE;AACT,CAAC,CAAC;AACF,IAAMgB,cAAc,GAAGtT,MAAM,CAAC,KAAK,EAAE;EACnCoS,OAAO,EAAE;AACX,CAAC,CAAC;AACF,IAAMmB,aAAa,GAAGvT,MAAM,CAAC,KAAK,EAAE;EAClCsR,eAAe,EAAE,SAAS;EAC1BI,OAAO,EAAE,KAAK;EACdU,OAAO,EAAE,OAAO;EAChBL,QAAQ,EAAE,MAAM;EAChByB,YAAY,EAAE,KAAK;EACnBhB,MAAM,EAAE,SAAS;EACjB,GAAG,EAAE;IACHA,MAAM,EAAE;EACV,CAAC;EACD,QAAQ,EAAE,CAAC,CAAC;EACZQ,KAAK,EAAE;IACLjB,QAAQ,EAAE;EACZ,CAAC;EACD,KAAK,EAAE;IACL0B,WAAW,EAAE,KAAK;IAClBjB,MAAM,EAAE;EACV;AACF,CAAC,CAAC;AACF,IAAMkB,KAAK,GAAG1T,MAAM,CAAC,KAAK,EAAE;EAC1B4S,MAAM,EAAE,MAAM;EACde,QAAQ,EAAE,QAAQ;EAClBrJ,QAAQ,EAAE,UAAU;EACpBiI,aAAa,EAAE,MAAM;EACrBH,OAAO,EAAE,MAAM;EACflB,GAAG,EAAE,KAAK;EACV4B,cAAc,EAAE,QAAQ;EACxBR,KAAK,EAAE,MAAM;EACbsB,QAAQ,EAAE,OAAO;EACjBpC,MAAM,EAAE,QAAQ;EAChBqC,MAAM,EAAE;IACNC,UAAU,EAAE,wBAAwB;IACpCxJ,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AACF,IAAMyJ,OAAO,GAAG/T,MAAM,CAAC,KAAK,EAAE;EAC5B2S,SAAS,EAAE,QAAQ;EACnBF,UAAU,EAAE,GAAG;EACfV,QAAQ,EAAE,MAAM;EAChBC,UAAU,EAAE,MAAM;EAClBI,OAAO,EAAE,MAAM;EACfU,cAAc,EAAE,QAAQ;EACxBkB,UAAU,EAAE,QAAQ;EACpB/B,aAAa,EAAE,QAAQ;EACvBV,KAAK,EAAE,SAAS;EAChBG,OAAO,EAAE,KAAK;EACdY,KAAK,EAAE,MAAM;EACbhB,eAAe,EAAE,uBAAuB;EACxCF,MAAM,EAAE,CAAC;EACT9G,QAAQ,EAAE,UAAU;EACpBsI,MAAM,EAAE;AACV,CAAC,CAAC;AACF,IAAMqB,MAAM,GAAGjU,MAAM,CAAC,KAAK,EAAE;EAC3BuS,aAAa,EAAE,MAAM;EACrBO,cAAc,EAAE,QAAQ;EACxBN,MAAM,EAAE,SAAS;EACjBT,QAAQ,EAAE,MAAM;EAChBT,eAAe,EAAE,iBAAiB;EAClC4C,SAAS,EAAE,KAAK;EAChB5B,KAAK,EAAE,MAAM;EACbd,MAAM,EAAE,GAAG;EACXD,KAAK,EAAE,wBAAwB;EAC/BoB,SAAS,EAAE,QAAQ;EACnBP,OAAO,EAAE,cAAc;EACvBH,aAAa,EAAE,QAAQ;EACvBP,OAAO,EAAE,SAAS;EAClB,4BAA4B,EAAE;IAC5BJ,eAAe,EAAE;EACnB,CAAC;EACD4B,GAAG,EAAE;IACHZ,KAAK,EAAE,MAAM;IACbM,MAAM,EAAE,MAAM;IACduB,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AACF,IAAMC,aAAa,GAAGpU,MAAM,CAAC,KAAK,EAAE;EAClCuS,aAAa,EAAE,MAAM;EACrBO,cAAc,EAAE,QAAQ;EACxBN,MAAM,EAAE,SAAS;EACjBT,QAAQ,EAAE,MAAM;EAChBoC,KAAK,EAAE,OAAO;EACd7C,eAAe,EAAE,iBAAiB;EAClCgB,KAAK,EAAE,MAAM;EACbd,MAAM,EAAE,GAAG;EACXD,KAAK,EAAE,wBAAwB;EAC/BoB,SAAS,EAAE,QAAQ;EACnBP,OAAO,EAAE,cAAc;EACvBH,aAAa,EAAE,QAAQ;EACvBP,OAAO,EAAE,SAAS;EAClB,4BAA4B,EAAE;IAC5BJ,eAAe,EAAE;EACnB,CAAC;EACD4B,GAAG,EAAE;IACHZ,KAAK,EAAE,MAAM;IACbM,MAAM,EAAE,MAAM;IACduB,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AACF,IAAME,UAAU,GAAGrU,MAAM,CAAC,KAAK,EAAE;EAC/B0R,OAAO,EAAE,SAAS;EAClBK,QAAQ,EAAE,MAAM;EAChBQ,aAAa,EAAE;AACjB,CAAC,CAAC;AACF,IAAM+B,YAAY,GAAGtU,MAAM,CAAC,MAAM,EAAE;EAClCyS,UAAU,EAAE,MAAM;EAClBC,aAAa,EAAE,QAAQ;EACvB6B,QAAQ,EAAE,OAAO;EACjBZ,QAAQ,EAAE,QAAQ;EAClBa,YAAY,EAAE,UAAU;EACxBpC,OAAO,EAAE,cAAc;EACvBH,aAAa,EAAE,QAAQ;EACvBF,QAAQ,EAAE,MAAM;EAChB0B,WAAW,EAAE;AACf,CAAC,CAAC;AACF,IAAMgB,eAAe,GAAGzU,MAAM,CAAC,KAAK,EAAE;EACpCmT,SAAS,EAAE,MAAM;EACjBuB,SAAS,EAAE,MAAM;EACjBR,SAAS,EAAE;AACb,CAAC,CAAC;AACF,IAAMS,iBAAiB,GAAG3U,MAAM,CAAC,KAAK,EAAE;EACtCkU,SAAS,EAAE;AACb,CAAC,CAAC;AACF,IAAMU,gBAAgB,GAAG5U,MAAM,CAAC,KAAK,EAAE;EACrCoS,OAAO,EAAE,MAAM;EACf9H,QAAQ,EAAE,UAAU;EACpBmI,UAAU,EAAE,MAAM;EAClBlB,KAAK,EAAE,MAAM;EACbS,UAAU,EAAE,MAAM;EAClBkB,GAAG,EAAE;IACHO,WAAW,EAAE,KAAK;IAClBrB,OAAO,EAAE;EACX;AACF,CAAC,CAAC;AACF,IAAMyC,UAAU,GAAG7U,MAAM,CAAC,IAAI,EAAE;EAC9BoS,OAAO,EAAE,OAAO;EAChB9H,QAAQ,EAAE,UAAU;EACpB2I,WAAW,EAAE,MAAM;EACnBzB,MAAM,EAAE,SAAS;EACjBsD,GAAG,EAAE;IACH3B,SAAS,EAAE,MAAM;IACjBoB,QAAQ,EAAE,MAAM;IAChB/C,MAAM,EAAE,UAAU;IAClBY,OAAO,EAAE;EACX,CAAC;EACD,SAAS,EAAE;IACT2C,OAAO,EAAE,EAAE;IACXzK,QAAQ,EAAE,UAAU;IACpBsH,IAAI,EAAE,KAAK;IACXV,GAAG,EAAE,KAAK;IACVoB,KAAK,EAAE,KAAK;IACZM,MAAM,EAAE,MAAM;IACdtB,eAAe,EAAE,MAAM;IACvB0D,SAAS,EAAE,kBAAkB;IAC7B7B,SAAS,EAAE,MAAM;IACjBuB,SAAS,EAAE;EACb,CAAC;EACDO,EAAE,EAAE;IACFC,YAAY,EAAE,mBAAmB;IACjC9C,OAAO,EAAE,OAAO;IAChBV,OAAO,EAAE,KAAK;IACdF,MAAM,EAAE,CAAC;IACTQ,UAAU,EAAE,CAAC;IACbC,aAAa,EAAE,QAAQ;IACvBW,MAAM,EAAE;EACV,CAAC;EACDuC,CAAC,EAAE;IACD1C,UAAU,EAAE;EACd,CAAC;EACDO,KAAK,EAAE;IACLL,SAAS,EAAE,QAAQ;IACnBD,aAAa,EAAE,KAAK;IACpBX,QAAQ,EAAE,MAAM;IAChBU,UAAU,EAAE,KAAK;IACjBW,UAAU,EAAE,KAAK;IACjB7B,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AACF,IAAM6D,cAAc,GAAGpV,MAAM,CAAC,QAAQ,EAAE;EACtCyS,UAAU,EAAE,MAAM;EAClBC,aAAa,EAAE,QAAQ;EACvBpB,eAAe,EAAE,iBAAiB;EAClCC,KAAK,EAAE,oBAAoB;EAC3BoC,QAAQ,EAAE,QAAQ;EAClBa,YAAY,EAAE,UAAU;EACxBhC,MAAM,EAAE,SAAS;EACjBJ,OAAO,EAAE,OAAO;EAChBH,aAAa,EAAE,QAAQ;EACvBF,QAAQ,EAAE,MAAM;EAChBL,OAAO,EAAE,KAAK;EACdF,MAAM,EAAE;AACV,CAAC,CAAC;AACF,IAAM6D,eAAe,GAAGrV,MAAM,CAAC,KAAK,EAAE;EACpCoS,OAAO,EAAE,MAAM;EACfU,cAAc,EAAE,QAAQ;EACxBN,MAAM,EAAE,SAAS;EACjBT,QAAQ,EAAE,MAAM;EAChBT,eAAe,EAAE,iBAAiB;EAClC4C,SAAS,EAAE,KAAK;EAChB5B,KAAK,EAAE,MAAM;EACbd,MAAM,EAAE,QAAQ;EAChBD,KAAK,EAAE,wBAAwB;EAC/BoB,SAAS,EAAE,QAAQ;EACnBrI,QAAQ,EAAE,UAAU;EACpB6G,KAAK,EAAE,CAAC;EACRU,MAAM,EAAE,QAAQ;EAChBqB,GAAG,EAAE;IACHZ,KAAK,EAAE,MAAM;IACbM,MAAM,EAAE,MAAM;IACduB,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AACF,IAAMmB,aAAa,GAAGtV,MAAM,CAAC,IAAI,EAAE;EACjCoS,OAAO,EAAE,iBAAiB;EAC1BQ,MAAM,EAAE,iBAAiB;EACzB2C,IAAI,EAAE;IACJ3C,MAAM,EAAE,MAAM;IACdR,OAAO,EAAE,OAAO;IAChB9H,QAAQ,EAAE;EACZ,CAAC;EACD6K,CAAC,EAAE;IACDlC,WAAW,EAAE;EACf;AACF,CAAC,CAAC;AAEF,IAAMuC,UAAU,GAAGvW,IAAI,CAAC,iBAYlB;EAAA,IAXJwW,MAAM,SAANA,MAAM;IACNlE,KAAK,SAALA,KAAK;IACLhE,UAAU,SAAVA,UAAU;IACVmI,QAAQ,SAARA,QAAQ;IACRC,aAAa,SAAbA,aAAa;IACbC,MAAM,SAANA,MAAM;IACN7D,QAAQ,SAARA,QAAQ;IAAA,sBACR8D,OAAO;IAAEC,QAAQ,8BAAG,CAAC;IACrBC,OAAO,SAAPA,OAAO;IACPtO,KAAK,SAALA,KAAK;IACLuO,WAAW,SAAXA,WAAW;EAEX,iBAGIzW,QAAQ,CAAC,UAAAmN,CAAC;MAAA,OAAIA,CAAC,CAACuJ,QAAQ;IAAA,EAAC;IAFpBC,CAAC,cAAR5D,KAAK;IACG6D,CAAC,cAATvD,MAAM;EAER,IAAMwD,MAAM,GAAGlX,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAMmX,cAAc,GAAGnX,MAAM,CAAC,IAAI,CAAC;EACnCS,QAAQ,CAAC,SAAS2W,iBAAiB,GAAG;IACpC,IAAMzS,EAAE,GAAGsJ,YAAY,CAACa,QAAQ,EAAE,CAACnK,EAAE;IACrC,IAAMwJ,GAAG,GAAGF,YAAY,CAACa,QAAQ,EAAE,CAACX,GAAG;IACvC,IAAI,CAACA,GAAG,IAAI,CAAC+I,MAAM,CAACG,OAAO,EAAE;IAE7B,IAAIhJ,UAAU,EAAE;MACd6I,MAAM,CAACG,OAAO,CAACC,IAAI,GAAGrJ,YAAY,CAACa,QAAQ,EAAE,CAACT,UAAU;IAC1D;IAEA,IAAI,CAACqI,MAAM,EAAE;IACb,IAAIxH,IAAI,GAAGf,GAAG,CAACuI,MAAM,CAAC;IAEtB,IAAID,aAAa,EAAE;MACjB,IAAI3F,iBAAiB;MAErB5B,IAAI,GAAG,CAAC4B,iBAAiB,GAAGnM,EAAE,CAACuK,IAAI,CAACzE,QAAQ,MAAM,IAAI,IAAIqG,iBAAiB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,iBAAiB,CAAC5M,MAAM;IAC5H,CAAC,MAAM,IAAIwS,MAAM,KAAK,cAAc,EAAE;MACpCxH,IAAI,GAAG5B,YAAY,CAACzK,KAAK;IAC3B,CAAC,MAAM,IAAI,CAAC0T,MAAM,IAAI5R,EAAE,CAACuK,IAAI,CAACqI,MAAM,EAAE;MACpC,IAAMC,KAAK,GAAGhB,QAAQ,GAAG7R,EAAE,CAACuK,IAAI,CAAC/G,MAAM,GAAGxD,EAAE,CAACuK,IAAI,CAACqI,MAAM;MACxDrI,IAAI,GAAGsI,KAAK,CAACd,MAAM,CAAC;IACtB;IAEAQ,MAAM,CAACG,OAAO,CAACC,IAAI,GAAG,CAACZ,MAAM,KAAK,WAAW,GAAG,GAAG,GAAG,EAAE,IAAI,CAAC9O,IAAI,CAACW,KAAK,CAAC2G,IAAI,GAAGtH,IAAI,CAAC6P,GAAG,CAAC,EAAE,EAAElP,KAAK,CAAC,CAAC,GAAGX,IAAI,CAAC6P,GAAG,CAAC,EAAE,EAAElP,KAAK,CAAC,EAAEmP,OAAO,CAACnP,KAAK,CAAC;IAEzI,IAAIuO,WAAW,EAAE;MACf,IAAMa,aAAa,GAAGhT,EAAE,CAACuK,IAAI,CAAC0I,QAAQ;MAEtC,IAAI,OAAOD,aAAa,KAAK,WAAW,IAAIjB,MAAM,KAAK,cAAc,EAAE;QACrE;MACF;MAEA,IAAImB,YAAY;MAEhB,IAAInB,MAAM,KAAK,cAAc,EAAE;QAC7BmB,YAAY,GAAGxK,iBAAiB,CAACxK,KAAK;MACxC,CAAC,MAAM;QACLgV,YAAY,GAAGF,aAAa,CAACjB,MAAM,CAAC;MACtC;MAEA,IAAImB,YAAY,GAAG,CAAC,EAAE;QACpBX,MAAM,CAACG,OAAO,CAACxE,QAAQ,GAAGA,QAAQ,GAAG,IAAI;QACzCsE,cAAc,CAACE,OAAO,CAACxE,QAAQ,GAAG3D,IAAI,GAAG,CAAC,GAAG2D,QAAQ,GAAG,GAAG,GAAGA,QAAQ;QACtEqE,MAAM,CAACG,OAAO,CAACjM,QAAQ,CAAC0M,CAAC,GAAGb,CAAC,GAAG,CAAC,GAAGL,QAAQ,GAAG/D,QAAQ,GAAG,GAAG;QAC7DsE,cAAc,CAACE,OAAO,CAACC,IAAI,GAAG,KAAK,GAAG,CAAC1P,IAAI,CAACW,KAAK,CAACsP,YAAY,GAAGjQ,IAAI,CAAC6P,GAAG,CAAC,EAAE,EAAElP,KAAK,CAAC,CAAC,GAAGX,IAAI,CAAC6P,GAAG,CAAC,EAAE,EAAElP,KAAK,CAAC,EAAEmP,OAAO,CAACnP,KAAK,CAAC;MAC7H,CAAC,MAAM;QACL2O,MAAM,CAACG,OAAO,CAACjM,QAAQ,CAAC0M,CAAC,GAAGb,CAAC,GAAG,CAAC,GAAGL,QAAQ,GAAG/D,QAAQ;QACvDqE,MAAM,CAACG,OAAO,CAACxE,QAAQ,GAAGA,QAAQ;MACpC;IACF;IAEAvF,YAAY,CAACzK,KAAK,IAAI,CAAC;IACvBqU,MAAM,CAACG,OAAO,CAACjK,YAAY,EAAE;IAC7B8J,MAAM,CAACG,OAAO,CAACU,WAAW,CAACC,IAAI,CAACd,MAAM,CAACG,OAAO,CAACY,MAAM,CAAC;EACxD,CAAC,CAAC;EACF,OAAO5V,IAAI,CAACpC,QAAQ,EAAE;IACpBiY,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,CAAC7V,GAAG,CAACF,IAAI,EAAE;MACnBqR,SAAS,EAAE,SAAS;MACpB2E,gBAAgB,EAAE,KAAK;MACvBC,GAAG,EAAEnB,MAAM;MACXrE,QAAQ,EAAEA,QAAQ;MAClBzH,QAAQ,EAAE,CAAC,CAAC4L,CAAC,GAAG,CAAC,GAAGH,OAAO,GAAGhE,QAAQ,EAAEoE,CAAC,GAAG,CAAC,GAAGL,QAAQ,GAAG/D,QAAQ,EAAE,CAAC,CAAC;MACvER,KAAK,EAAEA,KAAK;MACZiG,UAAU,EAAE,YAAY;MACxBC,QAAQ,EAAE,kBAAAC,IAAI,EAAI;QAChBA,IAAI,CAACpL,YAAY,EAAE;QACnBE,YAAY,CAACzK,KAAK,IAAI,CAAC;QACvB2V,IAAI,CAACT,WAAW,CAACC,IAAI,CAACQ,IAAI,CAACP,MAAM,CAAC;MACpC,CAAC;MACDE,QAAQ,EAAE;IACZ,CAAC,CAAC,EAAErB,WAAW,IAAIxU,GAAG,CAACF,IAAI,EAAE;MAC3BqR,SAAS,EAAE,SAAS;MACpB2E,gBAAgB,EAAE,KAAK;MACvBC,GAAG,EAAElB,cAAc;MACnBtE,QAAQ,EAAE,CAAC;MACXzH,QAAQ,EAAE,CAAC,CAAC4L,CAAC,GAAG,CAAC,GAAGH,OAAO,GAAGhE,QAAQ,EAAEoE,CAAC,GAAG,CAAC,GAAGL,QAAQ,GAAG/D,QAAQ,GAAG,IAAI,EAAE,CAAC,CAAC;MAC9ER,KAAK,EAAE,WAAW;MAClBiG,UAAU,EAAE,YAAY;MACxBC,QAAQ,EAAE,kBAAAC,IAAI,EAAI;QAChBA,IAAI,CAACpL,YAAY,EAAE;QACnBE,YAAY,CAACzK,KAAK,IAAI,CAAC;QACvB2V,IAAI,CAACT,WAAW,CAACC,IAAI,CAACQ,IAAI,CAACP,MAAM,CAAC;MACpC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAMQ,WAAW,GAAG,SAAdA,WAAW,QAKX;EAAA,IAJJC,UAAU,SAAVA,UAAU;IACVrK,UAAU,SAAVA,UAAU;IACVsK,OAAO,SAAPA,OAAO;IACPrJ,YAAY,SAAZA,YAAY;EAEZ,IAAMuD,QAAQ,GAAG,EAAE;EACnB,OAAOxQ,IAAI,CAACE,QAAQ,EAAE;IACpB4V,QAAQ,EAAE,CAAC7V,GAAG,CAACgU,UAAU,EAAE;MACzBjE,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACpQ,GAAG,CAACuQ,QAAQ,EAAE,MAAG;MACvDtC,MAAM,EAAE,IAAI;MACZG,MAAM,EAAE,KAAK;MACb7D,QAAQ,EAAEA,QAAQ;MAClBgE,OAAO,EAAE,GAAG;MACZtO,KAAK,EAAE;IACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;MAClBjE,KAAK,EAAE,EAAE;MACTkE,MAAM,EAAE,IAAI;MACZG,MAAM,EAAE,KAAK;MACb7D,QAAQ,EAAEA,QAAQ;MAClBgE,OAAO,EAAE,EAAE;MACXtO,KAAK,EAAE;IACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;MAClBjE,KAAK,EAAE,EAAE;MACTkE,MAAM,EAAE,IAAI;MACZG,MAAM,EAAE,WAAW;MACnB7D,QAAQ,EAAE,CAAC;MACXgE,OAAO,EAAE,GAAG;MACZF,OAAO,EAAE,EAAE;MACXpO,KAAK,EAAE;IACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;MAClBjE,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACxQ,GAAG,CAAC2Q,QAAQ,EAAE,MAAG;MACvDtC,MAAM,EAAE,IAAI;MACZG,MAAM,EAAE,KAAK;MACb7D,QAAQ,EAAEA,QAAQ;MAClBgE,OAAO,EAAE,EAAE;MACXtO,KAAK,EAAE;IACT,CAAC,CAAC,EAAE,CAACoQ,OAAO,GAAGtW,IAAI,CAACE,QAAQ,EAAE;MAC5B4V,QAAQ,EAAE,CAAC7V,GAAG,CAACgU,UAAU,EAAE;QACzBI,MAAM,EAAE,OAAO;QACf7D,QAAQ,EAAEA,QAAQ;QAClBgE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE,CAAC;QACRuO,WAAW,EAAE;MACf,CAAC,CAAC,EAAExU,GAAG,CAACgU,UAAU,EAAE;QAClBI,MAAM,EAAE,WAAW;QACnB7D,QAAQ,EAAEA,QAAQ;QAClBgE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE,CAAC;QACRuO,WAAW,EAAE;MACf,CAAC,CAAC,EAAExU,GAAG,CAACgU,UAAU,EAAE;QAClBE,QAAQ,EAAE,IAAI;QACdE,MAAM,EAAE,YAAY;QACpB7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,CAAC;QACVtO,KAAK,EAAE;MACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;QAClBE,QAAQ,EAAE,IAAI;QACdE,MAAM,EAAE,UAAU;QAClB7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,EAAE;QACXtO,KAAK,EAAE;MACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;QAClBG,aAAa,EAAE,IAAI;QACnBC,MAAM,EAAE,UAAU;QAClB7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE;MACT,CAAC,CAAC,EAAEjG,GAAG,CAACgU,UAAU,EAAE;QAClBI,MAAM,EAAE,OAAO;QACf7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE,CAAC;QACRuO,WAAW,EAAE;MACf,CAAC,CAAC,EAAExU,GAAG,CAACgU,UAAU,EAAE;QAClBI,MAAM,EAAE,QAAQ;QAChB7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE,CAAC;QACRuO,WAAW,EAAE;MACf,CAAC,CAAC,EAAExH,YAAY,IAAIhN,GAAG,CAACgU,UAAU,EAAE;QAClCC,MAAM,EAAE,IAAI;QACZG,MAAM,EAAE,cAAc;QACtB7D,QAAQ,EAAEA,QAAQ;QAClB8D,OAAO,EAAE,EAAE;QACXE,OAAO,EAAE,GAAG;QACZtO,KAAK,EAAE,CAAC;QACRuO,WAAW,EAAE;MACf,CAAC,CAAC;IACJ,CAAC,CAAC,GAAG,IAAI,EAAEzI,UAAU,IAAI/L,GAAG,CAACgU,UAAU,EAAE;MACvCjE,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACI,MAAM,CAACD,QAAQ,EAAE,MAAG;MAC1DxK,UAAU,EAAEA,UAAU;MACtBwE,QAAQ,EAAEA,QAAQ;MAClB8D,OAAO,EAAE,CAAC;MACVE,OAAO,EAAE8B,OAAO,GAAG,GAAG,GAAG,GAAG;MAC5BpQ,KAAK,EAAE;IACT,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMwQ,UAAU,GAAG,SAAbA,UAAU,QAOV;EAAA,IANJL,UAAU,SAAVA,UAAU;IACVC,OAAO,SAAPA,OAAO;IAAA,oBACPtT,KAAK;IAAE2T,MAAM,4BAAG;MACd9U,MAAM,EAAE,EAAE;MACV4E,EAAE,EAAE;IACN,CAAC;EAED,IAAMmQ,MAAM,GAAGpZ,OAAO,CAAC,YAAM;IAC3B,OAAO;MACLyI,GAAG,EAAE,IAAI4Q,YAAY,CAACF,MAAM,CAAC9U,MAAM,GAAG,CAAC,CAAC;MACxCuE,GAAG,EAAE,IAAIyQ,YAAY,CAACF,MAAM,CAAC9U,MAAM,GAAG,CAAC,CAAC;MACxCgE,GAAG,EAAE,IAAIgR,YAAY,CAACF,MAAM,CAAC9U,MAAM,GAAG,CAAC;IACzC,CAAC;EACH,CAAC,EAAE,CAAC8U,MAAM,CAAC,CAAC;EACZ,IAAM9B,MAAM,GAAGlX,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAMmZ,MAAM,GAAGnZ,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAMoZ,MAAM,GAAGpZ,MAAM,CAAC,IAAI,CAAC;EAC3B,IAAMqZ,SAAS,GAAGxZ,OAAO,CAAC;IAAA,OAAM,IAAIc,KAAK,CAAC2Y,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EAE/D,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,OAAO,EAAgC;IAAA,IAA9BC,MAAM,uEAAG,CAAC;IAAA,IAAEpB,GAAG;IAAA,IAAEtB,QAAQ;IACtD,IAAI2C,MAAM,GAAG,CAAC;IACd,IACS1C,CAAC,GAEND,QAAQ,CAFV3D,KAAK;MACG6D,CAAC,GACPF,QAAQ,CADVrD,MAAM;IAER,IAAMrO,KAAK,GAAG4I,YAAY,CAACa,QAAQ,EAAE,CAACzJ,KAAK,CAAC4D,IAAI,CAACuQ,OAAO,CAAC;IAEzD,IAAI,CAACnU,KAAK,IAAIA,KAAK,CAACnB,MAAM,KAAK,CAAC,EAAE;MAChC;IACF;IAEA,IAAMsO,OAAO,GAAGmG,OAAO,GAAG,CAAC,GAAG,CAAC;IAC/B,IAAMgB,UAAU,GAAGhB,OAAO,GAAG,EAAE,GAAG,EAAE;IACpC,IAAIiB,GAAG,GAAGvU,KAAK,CAACnB,MAAM;IAEtB,KAAK,IAAIF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4V,GAAG,EAAE5V,CAAC,EAAE,EAAE;MAC5B,IAAI6V,EAAE,GAAG,CAAC5L,YAAY,CAACa,QAAQ,EAAE,CAACzJ,KAAK,CAACa,UAAU,GAAGlC,CAAC,GAAG,CAAC,IAAI4V,GAAG;MAEjE,IAAIvU,KAAK,CAACwU,EAAE,CAAC,KAAKrT,SAAS,EAAE;QAC3B,IAAInB,KAAK,CAACwU,EAAE,CAAC,GAAGH,MAAM,EAAE;UACtBA,MAAM,GAAGrU,KAAK,CAACwU,EAAE,CAAC,GAAGJ,MAAM;QAC7B;QAEAJ,SAAS,CAACnL,GAAG,CAACsE,OAAO,GAAGxO,CAAC,IAAI4V,GAAG,GAAG,CAAC,CAAC,IAAI5C,CAAC,GAAGxE,OAAO,GAAG,CAAC,CAAC,GAAGwE,CAAC,GAAG,CAAC,EAAEpP,IAAI,CAACoE,GAAG,CAAC,GAAG,EAAE3G,KAAK,CAACwU,EAAE,CAAC,CAAC,GAAGJ,MAAM,GAAG,GAAG,IAAIxC,CAAC,GAAGzE,OAAO,GAAG,CAAC,GAAGmH,UAAU,CAAC,GAAG1C,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACvJoC,SAAS,CAACS,OAAO,CAACzB,GAAG,CAAChN,UAAU,CAACD,QAAQ,CAAC2O,KAAK,EAAE/V,CAAC,GAAG,CAAC,CAAC;MACzD;IACF;IAEAqU,GAAG,CAAChN,UAAU,CAACD,QAAQ,CAAC0C,WAAW,GAAG,IAAI;EAC5C,CAAC;EAED,gBAAwB5N,QAAQ,CAAC4G,MAAM,CAACI,WAAW,CAACiB,MAAM,CAAC;IAAA;IAApD6R,aAAa;EACpBvZ,QAAQ,CAAC,SAASwZ,gBAAgB,QAE/B;IAAA,IADDlD,QAAQ,SAARA,QAAQ;IAERwC,YAAY,CAAC,KAAK,EAAE,CAAC,EAAErC,MAAM,CAACG,OAAO,EAAEN,QAAQ,CAAC;IAChDwC,YAAY,CAAC,KAAK,EAAE,CAAC,EAAEJ,MAAM,CAAC9B,OAAO,EAAEN,QAAQ,CAAC;IAEhD,IAAIiD,aAAa,EAAE;MACjBT,YAAY,CAAC,KAAK,EAAE,CAAC,EAAEH,MAAM,CAAC/B,OAAO,EAAEN,QAAQ,CAAC;IAClD;EACF,CAAC,CAAC;EACF,OAAO1U,IAAI,CAACE,QAAQ,EAAE;IACpB4V,QAAQ,EAAE,CAAC9V,IAAI,CAAC,MAAM,EAAE;MACtB8V,QAAQ,EAAE,CAAC7V,GAAG,CAAC,gBAAgB,EAAE;QAC/B+V,GAAG,EAAEnB,MAAM;QACXiB,QAAQ,EAAE7V,GAAG,CAAC,iBAAiB,EAAE;UAC/B4X,MAAM,EAAE,qBAAqB;UAC7BzO,KAAK,EAAEuN,MAAM,CAAC9U,MAAM;UACpB6V,KAAK,EAAEd,MAAM,CAAC3Q,GAAG;UACjB6R,QAAQ,EAAE,CAAC;UACXrM,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC,EAAExL,GAAG,CAAC,mBAAmB,EAAE;QAC3B+P,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACpQ,GAAG,CAACuQ,QAAQ,EAAE,MAAG;QACvDuB,WAAW,EAAE,IAAI;QACjBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,EAAEhY,IAAI,CAAC,MAAM,EAAE;MACf8V,QAAQ,EAAE,CAAC7V,GAAG,CAAC,gBAAgB,EAAE;QAC/B+V,GAAG,EAAEc,MAAM;QACXhB,QAAQ,EAAE7V,GAAG,CAAC,iBAAiB,EAAE;UAC/B4X,MAAM,EAAE,qBAAqB;UAC7BzO,KAAK,EAAEuN,MAAM,CAAC9U,MAAM;UACpB6V,KAAK,EAAEd,MAAM,CAAC/Q,GAAG;UACjBiS,QAAQ,EAAE,CAAC;UACXrM,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC,EAAExL,GAAG,CAAC,mBAAmB,EAAE;QAC3B+P,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACxQ,GAAG,CAAC2Q,QAAQ,EAAE,MAAG;QACvDuB,WAAW,EAAE,IAAI;QACjBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,EAAEL,aAAa,IAAI3X,IAAI,CAAC,MAAM,EAAE;MAChC8V,QAAQ,EAAE,CAAC7V,GAAG,CAAC,gBAAgB,EAAE;QAC/B+V,GAAG,EAAEe,MAAM;QACXjB,QAAQ,EAAE7V,GAAG,CAAC,iBAAiB,EAAE;UAC/B4X,MAAM,EAAE,qBAAqB;UAC7BzO,KAAK,EAAEuN,MAAM,CAAC9U,MAAM;UACpB6V,KAAK,EAAEd,MAAM,CAACxQ,GAAG;UACjB0R,QAAQ,EAAE,CAAC;UACXrM,WAAW,EAAE;QACf,CAAC;MACH,CAAC,CAAC,EAAExL,GAAG,CAAC,mBAAmB,EAAE;QAC3B+P,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACjQ,GAAG,CAACoQ,QAAQ,EAAE,MAAG;QACvDuB,WAAW,EAAE,IAAI;QACjBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMC,OAAO,GAAG,SAAVA,OAAO,QAQP;EAAA,IAPJ5B,UAAU,SAAVA,UAAU;IACVrT,KAAK,SAALA,KAAK;IACLgJ,UAAU,SAAVA,UAAU;IACViB,YAAY,SAAZA,YAAY;IAAA,wBACZiL,SAAS;IAAEC,UAAU,gCAAG,IAAI;IAAA,wBAC5BC,SAAS;IAAEC,UAAU,gCAAG,IAAI;IAC5B/B,OAAO,SAAPA,OAAO;EAEP,IAAMhE,MAAM,GAAG3U,MAAM,CAACwG,SAAS,CAAC;EAChC,IAAM1B,MAAM,GAAGmJ,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACnK,MAAM;EAAA,EAAC;EAClD,OAAOzC,IAAI,CAACmS,KAAK,EAAE;IACjBmG,KAAK,EAAE;MACLzH,OAAO,EAAE,MAAM;MACf9H,QAAQ,EAAE,UAAU;MACpBsI,MAAM,YAAKiF,OAAO,GAAG,EAAE,GAAG6B,UAAU,GAAG,GAAG,GAAG,EAAE,OAAI;MACnD9F,QAAQ,YAAKiE,OAAO,GAAG,OAAO,GAAGtK,UAAU,GAAG,OAAO,GAAG,OAAO;IACjE,CAAC;IACD8J,QAAQ,EAAE,CAAC7V,GAAG,CAAC5B,MAAM,EAAE;MACrB2X,GAAG,EAAE1D,MAAM;MACXiG,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEH,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;MAC5B/V,EAAE,EAAE;QACF8V,SAAS,EAAE,IAAI;QACfK,KAAK,EAAE,IAAI;QACXC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACT,CAAC;MACDC,SAAS,EAAE,0BAEL;QAAA,IADJ1M,KAAK,SAALA,KAAK;QAELA,KAAK,CAACwC,QAAQ,CAAC,UAAApO,GAAG,EAAI;UACpBA,GAAG,CAACuY,qBAAqB,GAAG,KAAK;UACjCvY,GAAG,CAACyV,gBAAgB,GAAG,KAAK;QAC9B,CAAC,CAAC;MACJ,CAAC;MACD+C,IAAI,EAAE,IAAI;MACVR,KAAK,EAAE;QACLrG,YAAY,SAAS;QACrBlJ,QAAQ,EAAE,UAAU;QACpBiI,aAAa,EAAE,MAAM;QACrBuB,UAAU,EAAE,wBAAwB;QACpClB,MAAM,YAAKiF,OAAO,GAAG,EAAE,GAAG6B,UAAU,GAAG,GAAG,GAAG,EAAE;MACjD,CAAC;MACDrC,QAAQ,EAAE,CAACrT,MAAM,GAAGzC,IAAI,CAACE,QAAQ,EAAE;QACjC4V,QAAQ,EAAE,CAAC7V,GAAG,CAAC8Y,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE9Y,GAAG,CAACmW,WAAW,EAAE;UAC7CpK,UAAU,EAAEA,UAAU;UACtBsK,OAAO,EAAEA,OAAO;UAChBrJ,YAAY,EAAEA;QAChB,CAAC,CAAC,EAAEkL,UAAU,IAAIlY,GAAG,CAACyW,UAAU,EAAE;UAChCL,UAAU,EAAEA,UAAU;UACtBC,OAAO,EAAEA,OAAO;UAChBtT,KAAK,EAAEA;QACT,CAAC,CAAC;MACJ,CAAC,CAAC,GAAG;IACP,CAAC,CAAC,EAAEP,MAAM,IAAIzC,IAAI,CAACwS,OAAO,EAAE;MAC1BsD,QAAQ,EAAE,CAAC7V,GAAG,CAACvB,SAAS,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS;IAC1C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMqa,QAAQ,GAAG,SAAXA,QAAQ,GAAS;EACrB3a,QAAQ,CAAC,SAAS4a,aAAa,QAI5B;IAAA,IAHD1W,EAAE,SAAFA,EAAE;MACF4J,KAAK,SAALA,KAAK;MACL+M,MAAM,SAANA,MAAM;IAENA,MAAM,CAAClO,YAAY,EAAE;IACrBE,YAAY,CAACzK,KAAK,IAAI,CAAC;IACvByY,MAAM,CAACvD,WAAW,CAACC,IAAI,CAACsD,MAAM,CAACrD,MAAM,CAAC;IACtCqD,MAAM,CAACC,kBAAkB,CAACvD,IAAI,CAACsD,MAAM,CAACvD,WAAW,CAAC,CAACyD,MAAM,EAAE;IAC3D7W,EAAE,CAAC4S,MAAM,CAAChJ,KAAK,EAAE+M,MAAM,CAAC;IACxBjO,iBAAiB,CAACxK,KAAK,GAAG,CAAC;IAC3ByK,YAAY,CAACzK,KAAK,GAAG,CAAC;EACxB,CAAC,EAAE4Y,QAAQ,CAAC;EACZ,OAAO,IAAI;AACb,CAAC;AAED,SAASC,6BAA6B,CAACvX,MAAM,EAAEwX,QAAQ,EAAE;EACvD,IAAIxX,MAAM,IAAI,IAAI,EAAE,OAAO,CAAC,CAAC;EAC7B,IAAIJ,MAAM,GAAG,CAAC,CAAC;EACf,IAAI6X,UAAU,GAAG9Y,MAAM,CAACQ,IAAI,CAACa,MAAM,CAAC;EACpC,IAAIvB,GAAG,EAAEoB,CAAC;EAEV,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4X,UAAU,CAAC1X,MAAM,EAAEF,CAAC,EAAE,EAAE;IACtCpB,GAAG,GAAGgZ,UAAU,CAAC5X,CAAC,CAAC;IACnB,IAAI2X,QAAQ,CAAC3T,OAAO,CAACpF,GAAG,CAAC,IAAI,CAAC,EAAE;IAChCmB,MAAM,CAACnB,GAAG,CAAC,GAAGuB,MAAM,CAACvB,GAAG,CAAC;EAC3B;EAEA,OAAOmB,MAAM;AACf;AAEA,SAAS8X,wBAAwB,CAAC1X,MAAM,EAAEwX,QAAQ,EAAE;EAClD,IAAIxX,MAAM,IAAI,IAAI,EAAE,OAAO,CAAC,CAAC;EAC7B,IAAIJ,MAAM,GAAG2X,6BAA6B,CAACvX,MAAM,EAAEwX,QAAQ,CAAC;EAC5D,IAAI/Y,GAAG,EAAEoB,CAAC;EAEV,IAAIlB,MAAM,CAACS,qBAAqB,EAAE;IAChC,IAAIuY,gBAAgB,GAAGhZ,MAAM,CAACS,qBAAqB,CAACY,MAAM,CAAC;IAE3D,KAAKH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8X,gBAAgB,CAAC5X,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC5CpB,GAAG,GAAGkZ,gBAAgB,CAAC9X,CAAC,CAAC;MACzB,IAAI2X,QAAQ,CAAC3T,OAAO,CAACpF,GAAG,CAAC,IAAI,CAAC,EAAE;MAChC,IAAI,CAACE,MAAM,CAACiK,SAAS,CAACgP,oBAAoB,CAACC,IAAI,CAAC7X,MAAM,EAAEvB,GAAG,CAAC,EAAE;MAC9DmB,MAAM,CAACnB,GAAG,CAAC,GAAGuB,MAAM,CAACvB,GAAG,CAAC;IAC3B;EACF;EAEA,OAAOmB,MAAM;AACf;AAEA,IAAMkY,SAAS,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,UAAU,CAAC;AACrD,IAAMC,IAAI,GAAG/b,UAAU,CAAC,UAACgc,IAAI,EAAE9D,GAAG,EAAK;EACrC,IACE+D,MAAM,GAGJD,IAAI,CAHNC,MAAM;IACNC,SAAS,GAEPF,IAAI,CAFNE,SAAS;IACTlE,QAAQ,GACNgE,IAAI,CADNhE,QAAQ;IAENmE,KAAK,GAAGT,wBAAwB,CAACM,IAAI,EAAEF,SAAS,CAAC;EAErD,IAAMtX,EAAE,GAAGtE,QAAQ,CAAC,UAAA4O,KAAK;IAAA,OAAIA,KAAK,CAACtK,EAAE;EAAA,EAAC;EACtC,IAAM4X,KAAK,GAAGvc,MAAM,CAAC,IAAI,CAAC;EAC1B,IAAMwc,OAAO,GAAGxc,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAM+D,MAAM,GAAG,CAACqY,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAAC/E,OAAO,KAAK,IAAI,GAAG+E,MAAM,CAAC/E,OAAO,GAAG1S,EAAE,CAAC8X,UAAU,CAACC,UAAU;EACnItc,eAAe,CAAC,YAAM;IACpB,IAAI,CAACmc,KAAK,CAAClF,OAAO,IAAI,CAACtT,MAAM,EAAE;IAC/B,IAAM4Y,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACxC,IAAMC,IAAI,GAAGN,OAAO,CAACnF,OAAO,GAAG7U,UAAU,CAACma,EAAE,CAAC;IAC7C5Y,MAAM,CAACgZ,WAAW,CAACJ,EAAE,CAAC;IACtB,OAAO,YAAM;MACXG,IAAI,CAACE,OAAO,EAAE;MACdR,OAAO,CAACnF,OAAO,GAAG,IAAI;MACtBtT,MAAM,CAACkZ,WAAW,CAACN,EAAE,CAAC;IACxB,CAAC;EACH,CAAC,EAAE,CAAC5Y,MAAM,CAAC,CAAC;EACZ3D,eAAe,CAAC,YAAM;IACpB,IAAM0c,IAAI,GAAGN,OAAO,CAACnF,OAAO;IAC5B,IAAI,CAACyF,IAAI,EAAE;IACXA,IAAI,CAACvF,MAAM,CAACjV,GAAG,CAAC,KAAK,EAAE;MACrB+V,GAAG,EAAEA,GAAG;MACRgE,SAAS,EAAEA,SAAS;MACpBlE,QAAQ,EAAEA;IACZ,CAAC,CAAC,CAAC;EACL,CAAC,CAAC;EACF,OAAO7V,GAAG,CAAC,OAAO,EAAEwB,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAEwY,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;IAChEjE,GAAG,EAAEkE;EACP,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,IAAMW,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIrD,EAAE,EAAEsD,OAAO,EAAK;EAC1C,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAGC,IAAI,EAAI;IACzB,QAAQA,IAAI;MACV,KAAK,IAAI;QACP,OAAO,gBAAgB;MAEzB,KAAK,IAAI;QACP,OAAO,qBAAqB;MAE9B,KAAK,IAAI;QACP,OAAO,wBAAwB;MAEjC;QACE,OAAO,qBAAqB;IAAC;EAEnC,CAAC;EAED,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAGC,QAAQ,EAAI;IAC/B,QAAQA,QAAQ;MACd,KAAK,IAAI;QACP,OAAO,gBAAgB;MAEzB,KAAK,IAAI;QACP,OAAO,cAAc;MAEvB,KAAK,IAAI;QACP,OAAO,cAAc;MAEvB,KAAK,IAAI;QACP,OAAO,gBAAgB;MAEzB,KAAK,IAAI;QACP,OAAO,eAAe;MAExB,KAAK,IAAI;QACP,OAAO,gBAAgB;MAEzB,KAAK,IAAI;QACP,OAAO,cAAc;MAEvB,KAAK,IAAI;QACP,OAAO,eAAe;MAExB;QACE,OAAO,qBAAqB;IAAC;EAEnC,CAAC;EAED,OAAO;IACLxV,IAAI,EAAE8R,EAAE;IACR2D,GAAG,EAAEL,OAAO,CAACM,KAAK,CAACC,UAAU;IAC7BH,QAAQ,EAAED,YAAY,CAACH,OAAO,CAACI,QAAQ,CAAC;IACxCI,KAAK,EAAEP,UAAU,CAACD,OAAO,CAACM,KAAK,CAACE,KAAK,CAAC;IACtCC,KAAK,EAAET,OAAO,CAACS,KAAK,CAAC/E,QAAQ;EAC/B,CAAC;AACH,CAAC;AAED,IAAMgF,UAAU,GAAG,SAAbA,UAAU,SAIV;EAAA,IAHJnT,OAAO,UAAPA,OAAO;IACPQ,QAAQ,UAARA,QAAQ;IACR4S,YAAY,UAAZA,YAAY;EAEZ,IAAMnZ,EAAE,GAAGsJ,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACtK,EAAE;EAAA,EAAC;EAC1C,iBAAwBzE,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/B6d,QAAQ;IAAE7P,GAAG;EACpBpO,SAAS,CAAC,YAAM;IACd,IAAI6E,EAAE,EAAE;MACN,IAAMsE,IAAI,GAAGyB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACsT,WAAW,EAAE;MACpF,IAAIC,QAAQ,GAAG,CAAC;MAChB,IAAMC,MAAM,GAAG,IAAI1P,GAAG,EAAE;MACxBvF,IAAI,CAACkV,GAAG,CAAC/Z,OAAO,CAAC,UAAAga,CAAC,EAAI;QACpB,IAAI,CAACA,CAAC,CAACvE,EAAE,CAACwE,QAAQ,CAAC,SAAS,CAAC,IAAID,CAAC,CAACvE,EAAE,KAAK,gBAAgB,IAAIuE,CAAC,CAACvE,EAAE,KAAK,aAAa,IAAIuE,CAAC,CAACvE,EAAE,KAAK,YAAY,IAAIuE,CAAC,CAACvE,EAAE,KAAK,kBAAkB,IAAIuE,CAAC,CAACvE,EAAE,KAAK,YAAY,IAAIuE,CAAC,CAACvE,EAAE,KAAK,cAAc,IAAIuE,CAAC,CAACvE,EAAE,KAAK,aAAa,IAAIuE,CAAC,CAACvE,EAAE,KAAK,iBAAiB,EAAE;UACxP,IAAIyE,MAAM,GAAG,EAAE;UACf,IAAIrV,KAAI,GAAG;YACTlB,IAAI,EAAEqW,CAAC,CAACvE;UACV,CAAC;UAED,IAAIuE,CAAC,CAACG,KAAK,EAAE;YACXH,CAAC,CAACG,KAAK,CAACna,OAAO,CAAC,UAAAoa,CAAC,EAAI;cACnB,IAAI,OAAOA,CAAC,KAAK,WAAW,EAAE;gBAC5BF,MAAM,CAAC1a,IAAI,CAAC4a,CAAC,CAAC3F,QAAQ,EAAE,CAAC4F,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;cAC3C;YACF,CAAC,CAAC;YACFxV,KAAI,CAACpG,KAAK,GAAGyb,MAAM,CAACI,IAAI,EAAE;YAE1B,IAAIxT,QAAQ,CAACkT,CAAC,CAACvE,EAAE,CAAC,IAAI3O,QAAQ,CAACkT,CAAC,CAACvE,EAAE,CAAC,CAAC4D,KAAK,EAAE;cAC1C,IAAIvS,QAAQ,CAACkT,CAAC,CAACvE,EAAE,CAAC,CAAC4D,KAAK,EAAE;gBACxBQ,QAAQ,EAAE;gBACVhV,KAAI,CAACpG,KAAK,GAAGqa,kBAAkB,CAACkB,CAAC,CAACvE,EAAE,EAAE3O,QAAQ,CAACkT,CAAC,CAACvE,EAAE,CAAC,CAAC;cACvD;YACF;YAEA,IAAI,CAAC5Q,KAAI,CAACpG,KAAK,EAAE;cACfoG,KAAI,CAACpG,KAAK,GAAG,OAAO;YACtB;YAEAqb,MAAM,CAAChQ,GAAG,CAACkQ,CAAC,CAACvE,EAAE,EAAE5Q,KAAI,CAAC;UACxB;QACF;MACF,CAAC,CAAC;MAEF,IAAIiC,QAAQ,CAAC6S,QAAQ,EAAE;QACrBjb,MAAM,CAACQ,IAAI,CAAC4H,QAAQ,CAAC6S,QAAQ,CAAC,CAAC3Z,OAAO,CAAC,UAAAxB,GAAG,EAAI;UAC5C,IAAM+b,OAAO,GAAGzT,QAAQ,CAAC6S,QAAQ,CAACnb,GAAG,CAAC;UAEtC,IAAI+b,OAAO,CAAC9b,KAAK,EAAE;YACjB,IACEA,KAAK,GACH8b,OAAO,CADT9b,KAAK;YAEP,IAAIoG,MAAI,GAAG;cACTlB,IAAI,EAAEnF;YACR,CAAC;YAED,IAAIA,GAAG,CAACyb,QAAQ,CAAC,SAAS,CAAC,EAAE;cAC3B;YACF;YAEA,IAAIxb,KAAK,YAAYlC,KAAK,CAACie,OAAO,EAAE;cAClCX,QAAQ,EAAE;cACVhV,MAAI,CAACpG,KAAK,GAAGqa,kBAAkB,CAACta,GAAG,EAAEC,KAAK,CAAC;YAC7C,CAAC,MAAM;cACL,IAAIgc,EAAE,GAAGC,IAAI,CAACC,SAAS,CAAClc,KAAK,CAAC;cAE9B,IAAI;gBACFgc,EAAE,GAAGC,IAAI,CAACC,SAAS,CAAClc,KAAK,CAAC;cAC5B,CAAC,CAAC,OAAOmc,IAAI,EAAE;gBACbH,EAAE,GAAGhc,KAAK,CAACgW,QAAQ,EAAE;cACvB;cAEA5P,MAAI,CAACpG,KAAK,GAAGgc,EAAE;YACjB;YAEAX,MAAM,CAAChQ,GAAG,CAACtL,GAAG,EAAEqG,MAAI,CAAC;UACvB;QACF,CAAC,CAAC;MACJ;MAEA,IAAIgV,QAAQ,GAAG,CAAC,EAAE;QAChBH,YAAY,CAACG,QAAQ,CAAC;MACxB;MAEA/P,GAAG,CAACgQ,MAAM,CAAC;IACb;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OAAO5b,GAAG,CAACqT,UAAU,EAAE;IACrBwC,QAAQ,EAAE4F,QAAQ,IAAI/W,KAAK,CAACiY,IAAI,CAAClB,QAAQ,CAACO,MAAM,EAAE,CAAC,CAACY,GAAG,CAAC,UAAAP,OAAO,EAAI;MACjE,OAAOrc,GAAG,CAAC,MAAM,EAAE;QACjB6V,QAAQ,EAAE,OAAOwG,OAAO,CAAC9b,KAAK,KAAK,QAAQ,GAAGP,GAAG,CAAC,IAAI,EAAE;UACtD6V,QAAQ,EAAE9V,IAAI,CAAC,MAAM,EAAE;YACrB8V,QAAQ,EAAE,CAACwG,OAAO,CAAC5W,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE1F,IAAI,CAAC,GAAG,EAAE;cAC5C8V,QAAQ,EAAE,CAACwG,OAAO,CAAC9b,KAAK,CAAC4b,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAEE,OAAO,CAAC9b,KAAK,CAACqB,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE;YACnF,CAAC,CAAC;UACJ,CAAC;QACH,CAAC,CAAC,GAAG7B,IAAI,CAACE,QAAQ,EAAE;UAClB4V,QAAQ,EAAE,CAAC7V,GAAG,CAAC,IAAI,EAAE;YACnB6V,QAAQ,EAAE9V,IAAI,CAAC,GAAG,EAAE;cAClB8V,QAAQ,EAAE,CAACwG,OAAO,CAAC9b,KAAK,CAACkF,IAAI,EAAE,GAAG;YACpC,CAAC;UACH,CAAC,CAAC,EAAE1F,IAAI,CAAC,KAAK,EAAE;YACd8V,QAAQ,EAAE,CAACrV,MAAM,CAACQ,IAAI,CAACqb,OAAO,CAAC9b,KAAK,CAAC,CAACqc,GAAG,CAAC,UAAAtc,GAAG,EAAI;cAC/C,OAAOA,GAAG,KAAK,MAAM,GAAGN,GAAG,CAAC,KAAK,EAAE;gBACjC6V,QAAQ,EAAEvV,GAAG,KAAK,KAAK,GAAGN,GAAG,CAAC,GAAG,EAAE;kBACjC6c,IAAI,EAAER,OAAO,CAAC9b,KAAK,CAACD,GAAG,CAAC;kBACxBmB,MAAM,EAAE,QAAQ;kBAChBoU,QAAQ,EAAE7V,GAAG,CAAC,KAAK,EAAE;oBACnB8c,GAAG,EAAET,OAAO,CAAC9b,KAAK,CAACD,GAAG;kBACxB,CAAC;gBACH,CAAC,CAAC,GAAGP,IAAI,CAAC,IAAI,EAAE;kBACd8V,QAAQ,EAAE,CAACvV,GAAG,EAAE,IAAI,EAAEN,GAAG,CAAC,GAAG,EAAE;oBAC7B6V,QAAQ,EAAEwG,OAAO,CAAC9b,KAAK,CAACD,GAAG;kBAC7B,CAAC,CAAC;gBACJ,CAAC;cACH,CAAC,EAAEA,GAAG,CAAC,GAAG,IAAI;YAChB,CAAC,CAAC,EAAEP,IAAI,CAAC6T,cAAc,EAAE;cACvBmJ,OAAO,EAAE,mBAAM;gBACb,IAAIC,qBAAqB;gBAEzBC,OAAO,CAACrQ,IAAI,CAAChE,QAAQ,CAACyT,OAAO,CAAC9b,KAAK,CAACkF,IAAI,CAAC,KAAKmD,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACoU,qBAAqB,GAAGpU,QAAQ,CAAC6S,QAAQ,CAACY,OAAO,CAAC9b,KAAK,CAACkF,IAAI,CAAC,MAAM,IAAI,IAAIuX,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACzc,KAAK,CAAC,CAAC;cACzP,CAAC;cACDsV,QAAQ,EAAE,CAAC,eAAe,EAAEwG,OAAO,CAAC9b,KAAK,CAACkF,IAAI,EAAE,IAAI;YACtD,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ,CAAC;MACH,CAAC,EAAE4W,OAAO,CAAC5W,IAAI,CAAC;IAClB,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMyX,mBAAmB,GAAG,SAAtBA,mBAAmB,SAEnB;EAAA,IADJ7C,EAAE,UAAFA,EAAE;EAEF1O,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACd,GAAG;EAAA,EAAC;EAChC,IAAMxJ,EAAE,GAAGsJ,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACtK,EAAE;EAAA,EAAC;EAE1C,IAAM8a,MAAM,GAAG,SAATA,MAAM,CAAG9C,EAAE,EAAI;IACnB,IAAI,CAAChY,EAAE,EAAE,OAAO,CAAC;IACjB,IAAM+a,GAAG,GAAG9X,IAAI,CAACW,KAAK,CAACoU,EAAE,CAAC9R,UAAU,CAACC,KAAK,IAAInG,EAAE,CAACuK,IAAI,CAACqI,MAAM,CAACoI,SAAS,GAAGhb,EAAE,CAACuK,IAAI,CAACqI,MAAM,CAACqI,KAAK,GAAGjb,EAAE,CAACuK,IAAI,CAACqI,MAAM,CAACsI,MAAM,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE;IACvI,OAAOC,QAAQ,CAACJ,GAAG,CAAC,IAAIA,GAAG,IAAI,CAAC;EAClC,CAAC;EAED,OAAOpd,GAAG,CAACC,QAAQ,EAAE;IACnB4V,QAAQ,EAAEwE,EAAE,CAAC9R,UAAU,CAACC,KAAK,GAAG,CAAC,IAAIzI,IAAI,CAAC4Q,KAAK,EAAE;MAC/C0H,KAAK,EAAE;QACLjH,MAAM,EAAE,MAAM;QACdN,KAAK,EAAE,MAAM;QACbd,MAAM,EAAE;MACV,CAAC;MACD6F,QAAQ,EAAE,CAACwE,EAAE,CAAC9R,UAAU,CAACE,IAAI,KAAK,UAAU,GAAGzI,GAAG,CAACb,cAAc,EAAE;QACjEkZ,KAAK,EAAE;UACL3I,GAAG,EAAE;QACP;MACF,CAAC,CAAC,GAAG1P,GAAG,CAACZ,eAAe,EAAE;QACxBiZ,KAAK,EAAE;UACL3I,GAAG,EAAE;QACP;MACF,CAAC,CAAC,EAAE2K,EAAE,CAAC9R,UAAU,CAACC,KAAK,EAAEzI,IAAI,CAAC,OAAO,EAAE;QACrC8V,QAAQ,EAAE,CAACwE,EAAE,CAAC9R,UAAU,CAACE,IAAI,EAAE,GAAG;MACpC,CAAC,CAAC,EAAEpG,EAAE,IAAItC,IAAI,CAAC8R,KAAK,EAAE;QACpBwG,KAAK,EAAE;UACLhI,MAAM,EAAE,OAAO;UACfS,KAAK,EAAE,MAAM;UACbG,UAAU,EAAE;QACd,CAAC;QACD4E,QAAQ,EAAE,CAACwE,EAAE,CAAChL,OAAO,IAAI,CAACgL,EAAE,CAACzR,QAAQ,CAACK,SAAS,GAAGkU,MAAM,CAAC9C,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG;MACvE,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMoD,SAAS,GAAG,SAAZA,SAAS,SAET;EAAA,IADJpD,EAAE,UAAFA,EAAE;EAEF,iBAAsCzc,QAAQ,CAACyc,EAAE,CAAChL,OAAO,CAAC;IAAA;IAAnDqO,WAAW;IAAEC,cAAc;EAClC,iBAA6B/f,QAAQ,CAACyc,EAAE,CAACjL,MAAM,CAAC;IAAA;IAAzCwO,aAAa;IAAEhS,GAAG;EACzB,iBAAkChO,QAAQ,CAAC,CAAC,CAAC;IAAA;IAAtCigB,SAAS;IAAErC,YAAY;EAC9B,IACElT,MAAM,GAGJ+R,EAAE,CAHJ/R,MAAM;IACNF,OAAO,GAELiS,EAAE,CAFJjS,OAAO;IACPQ,QAAQ,GACNyR,EAAE,CADJzR,QAAQ;EAEV,OAAO7I,IAAI,CAAC8S,UAAU,EAAE;IACtBgD,QAAQ,EAAE,CAAC9V,IAAI,CAACgS,aAAa,EAAE;MAC7BgL,OAAO,EAAE,mBAAM;QACb1C,EAAE,CAACjL,MAAM,GAAG,CAACwO,aAAa;QAC1Bpd,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACxG,OAAO,CAAC,UAAAxB,GAAG,EAAI;UACjC,IAAMoI,IAAI,GAAGJ,MAAM,CAAChI,GAAG,CAAC;UACxBoI,IAAI,CAACE,QAAQ,CAACK,SAAS,GAAG,KAAK;QACjC,CAAC,CAAC;QACF2C,GAAG,CAAC,CAACgS,aAAa,CAAC;MACrB,CAAC;MACD/H,QAAQ,EAAE,CAAC7V,GAAG,CAACyS,MAAM,EAAE;QACrB4F,KAAK,EAAE;UACLpG,WAAW,EAAE;QACf,CAAC;QACD4D,QAAQ,EAAE+H,aAAa,GAAG5d,GAAG,CAAC,MAAM,EAAE;UACpC6V,QAAQ,EAAE7V,GAAG,CAACtB,gBAAgB,EAAE,CAAC,CAAC;QACpC,CAAC,CAAC,GAAGsB,GAAG,CAAC,MAAM,EAAE;UACf6V,QAAQ,EAAE7V,GAAG,CAACrB,cAAc,EAAE,CAAC,CAAC;QAClC,CAAC;MACH,CAAC,CAAC,EAAEyJ,OAAO,IAAIrI,IAAI,CAAC,MAAM,EAAE;QAC1B8V,QAAQ,EAAE,CAAC7V,GAAG,CAAC8S,YAAY,EAAE;UAC3B+C,QAAQ,EAAEzN,OAAO,CAAC3C;QACpB,CAAC,CAAC,EAAE1F,IAAI,CAAC4Q,KAAK,EAAE;UACd0H,KAAK,EAAE;YACLjH,MAAM,EAAE,MAAM;YACdN,KAAK,EAAE,MAAM;YACbd,MAAM,EAAE;UACV,CAAC;UACD6F,QAAQ,EAAE,CAAC7V,GAAG,CAACpB,UAAU,EAAE;YACzByZ,KAAK,EAAE;cACL3I,GAAG,EAAE;YACP;UACF,CAAC,CAAC,EAAElP,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAAC1G,MAAM,EAAE5B,GAAG,CAAC,OAAO,EAAE;YAC3C6V,QAAQ,EAAErV,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAAC1G,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG;UACvD,CAAC,CAAC;QACJ,CAAC,CAAC,EAAEic,SAAS,GAAG,CAAC,IAAI9d,IAAI,CAAC4Q,KAAK,EAAE;UAC/B0H,KAAK,EAAE;YACLjH,MAAM,EAAE,MAAM;YACdN,KAAK,EAAE,MAAM;YACbd,MAAM,EAAE;UACV,CAAC;UACD6F,QAAQ,EAAE,CAACgI,SAAS,GAAG,CAAC,GAAG7d,GAAG,CAACnB,SAAS,EAAE;YACxCwZ,KAAK,EAAE;cACL3I,GAAG,EAAE;YACP;UACF,CAAC,CAAC,GAAG1P,GAAG,CAACnB,SAAS,EAAE;YAClBwZ,KAAK,EAAE;cACL3I,GAAG,EAAE;YACP;UACF,CAAC,CAAC,EAAEmO,SAAS,EAAE7d,GAAG,CAAC,OAAO,EAAE;YAC1B6V,QAAQ,EAAE;UACZ,CAAC,CAAC;QACJ,CAAC,CAAC,EAAE7V,GAAG,CAACkd,mBAAmB,EAAE;UAC3B7C,EAAE,EAAEA;QACN,CAAC,CAAC,EAAEzR,QAAQ,CAACkV,WAAW,KAAK,QAAQ,IAAI/d,IAAI,CAAC4Q,KAAK,EAAE;UACnD0H,KAAK,EAAE;YACLjH,MAAM,EAAE,MAAM;YACdN,KAAK,EAAE,MAAM;YACbd,MAAM,EAAE;UACV,CAAC;UACD6F,QAAQ,EAAE,CAAC7V,GAAG,CAAClB,UAAU,EAAE;YACzBuZ,KAAK,EAAE;cACL3I,GAAG,EAAE;YACP;UACF,CAAC,CAAC,EAAE,KAAK,EAAE1P,GAAG,CAAC,OAAO,EAAE;YACtB6V,QAAQ,EAAE;UACZ,CAAC,CAAC,EAAE7V,GAAG,CAAC6R,KAAK,EAAE;YACbwG,KAAK,EAAE;cACLhI,MAAM,EAAE,OAAO;cACfS,KAAK,EAAE;YACT,CAAC;YACD+E,QAAQ,EAAE;UACZ,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC,EAAE7V,GAAG,CAAC4S,aAAa,EAAE;QACrBmL,cAAc,EAAE,0BAAM;UACpBvd,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACxG,OAAO,CAAC,UAAAxB,GAAG,EAAI;YACjC,IAAMoI,IAAI,GAAGJ,MAAM,CAAChI,GAAG,CAAC;YACxBoI,IAAI,CAACE,QAAQ,CAACK,SAAS,GAAG,IAAI;UAChC,CAAC,CAAC;QACJ,CAAC;QACD+U,cAAc,EAAE,0BAAM;UACpBxd,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACxG,OAAO,CAAC,UAAAxB,GAAG,EAAI;YACjC,IAAMoI,IAAI,GAAGJ,MAAM,CAAChI,GAAG,CAAC;YACxBoI,IAAI,CAACE,QAAQ,CAACK,SAAS,GAAG,KAAK;UACjC,CAAC,CAAC;QACJ,CAAC;QACD8T,OAAO,EAAE,iBAAAjB,CAAC,EAAI;UACZA,CAAC,CAACmC,eAAe,EAAE;UACnBzd,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACxG,OAAO,CAAC,UAAAxB,GAAG,EAAI;YACjC,IAAMoI,IAAI,GAAGJ,MAAM,CAAChI,GAAG,CAAC;YACxB,IAAM4Y,MAAM,GAAG,CAACwE,WAAW;YAC3BhV,IAAI,CAAC2G,OAAO,GAAG6J,MAAM;YACrBmB,EAAE,CAAChL,OAAO,GAAG6J,MAAM;YACnByE,cAAc,CAACzE,MAAM,CAAC;UACxB,CAAC,CAAC;QACJ,CAAC;QACDrD,QAAQ,EAAE6H,WAAW,GAAG1d,GAAG,CAACjB,WAAW,EAAE,CAAC,CAAC,CAAC,GAAGiB,GAAG,CAAChB,WAAW,EAAE,CAAC,CAAC;MACpE,CAAC,CAAC;IACJ,CAAC,CAAC,EAAEe,IAAI,CAAC,KAAK,EAAE;MACdsY,KAAK,EAAE;QACL1G,SAAS,EAAEiM,aAAa,GAAG,QAAQ,GAAG,CAAC;QACvCzL,QAAQ,EAAE;MACZ,CAAC;MACD0D,QAAQ,EAAE,CAAC9V,IAAI,CAACqT,gBAAgB,EAAE;QAChCyC,QAAQ,EAAE,CAAC7V,GAAG,CAACf,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,YAAY;MAC9C,CAAC,CAAC,EAAEe,GAAG,CAACub,UAAU,EAAE;QAClBnT,OAAO,EAAEA,OAAO;QAChBQ,QAAQ,EAAEA,QAAQ;QAClB4S,YAAY,EAAEA;MAChB,CAAC,CAAC,EAAEzb,IAAI,CAACqT,gBAAgB,EAAE;QACzByC,QAAQ,EAAE,CAAC7V,GAAG,CAACd,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,cAAc;MAC9C,CAAC,CAAC,EAAEc,GAAG,CAACqT,UAAU,EAAE;QAClBwC,QAAQ,EAAEvN,MAAM,IAAI9H,MAAM,CAACQ,IAAI,CAACsH,MAAM,CAAC,CAACsU,GAAG,CAAC,UAAAtc,GAAG;UAAA,OAAIgI,MAAM,CAAChI,GAAG,CAAC,IAAIgI,MAAM,CAAChI,GAAG,CAAC,CAACqI,QAAQ,IAAI5I,IAAI,CAAC+T,aAAa,EAAE;YAC5G+B,QAAQ,EAAE,CAAC9V,IAAI,CAAC,MAAM,EAAE;cACtB8V,QAAQ,EAAE,CAACvN,MAAM,CAAChI,GAAG,CAAC,CAACqI,QAAQ,CAACF,IAAI,EAAE,IAAI;YAC5C,CAAC,CAAC,EAAEH,MAAM,CAAChI,GAAG,CAAC,CAACgK,QAAQ,IAAIhC,MAAM,CAAChI,GAAG,CAAC,CAACgK,QAAQ,CAACF,SAAS,IAAIrK,IAAI,CAAC,GAAG,EAAE;cACtE8V,QAAQ,EAAE,CAAC9V,IAAI,CAAC,KAAK,EAAE;gBACrB8V,QAAQ,EAAE,CAACvN,MAAM,CAAChI,GAAG,CAAC,CAACgK,QAAQ,CAACF,SAAS,CAACjB,KAAK,EAAEpJ,IAAI,CAAC,OAAO,EAAE;kBAC7D8V,QAAQ,EAAE,CAAC,GAAG,EAAEvN,MAAM,CAAChI,GAAG,CAAC,CAACgK,QAAQ,CAACF,SAAS,CAAC3B,IAAI,EAAE,GAAG;gBAC1D,CAAC,CAAC;cACJ,CAAC,CAAC,EAAEzI,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAED,IAAI,CAAC,KAAK,EAAE;gBAC7B8V,QAAQ,EAAE,CAACvQ,IAAI,CAACW,KAAK,CAAC9F,iBAAiB,CAACmI,MAAM,CAAChI,GAAG,CAAC,CAACqI,QAAQ,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,EAAE3I,GAAG,CAAC,OAAO,EAAE;kBACtG6V,QAAQ,EAAE;gBACZ,CAAC,CAAC;cACJ,CAAC,CAAC;YACJ,CAAC,CAAC;UACJ,CAAC,EAAEvV,GAAG,CAAC;QAAA;MACT,CAAC,CAAC,EAAEP,IAAI,CAAC6T,cAAc,EAAE;QACvBmJ,OAAO,EAAE,mBAAM;UACbE,OAAO,CAACrQ,IAAI,CAAChE,QAAQ,CAAC;QACxB,CAAC;QACDiN,QAAQ,EAAE,CAAC,eAAe,EAAEjN,QAAQ,CAACH,IAAI,EAAE,GAAG;MAChD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMyV,UAAU,GAAG,SAAbA,UAAU,GAAS;EACvBvS,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACb,qBAAqB;EAAA,EAAC;EAClD,IAAM3D,QAAQ,GAAGwD,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACxE,QAAQ;EAAA,EAAC;EACtD,OAAOnI,GAAG,CAACmT,iBAAiB,EAAE;IAC5B0C,QAAQ,EAAE1N,QAAQ,IAAIzD,KAAK,CAACiY,IAAI,CAACxU,QAAQ,CAAC6T,MAAM,EAAE,CAAC,CAACY,GAAG,CAAC,UAAAvC,EAAE,EAAI;MAC5D,IAAI,CAACA,EAAE,EAAE;QACP,OAAO,IAAI;MACb;MAEA,OAAOA,EAAE,GAAGra,GAAG,CAACyd,SAAS,EAAE;QACzBpD,EAAE,EAAEA;MACN,CAAC,EAAEA,EAAE,CAACzR,QAAQ,CAAC3E,IAAI,CAAC,GAAG,IAAI;IAC7B,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMqS,WAAW,GAAG,SAAdA,WAAW,CAAGF,UAAU,EAAI;EAChC,IAAM+H,MAAM,GAAG;IACbnY,GAAG,EAAEoQ,UAAU,GAAG,eAAe,GAAG,YAAY;IAChDjQ,GAAG,EAAEiQ,UAAU,GAAG,cAAc,GAAG,WAAW;IAC9CxQ,GAAG,EAAEwQ,UAAU,GAAG,aAAa,GAAG,YAAY;IAC9CI,MAAM,EAAEJ,UAAU,GAAG,YAAY,GAAG;EACtC,CAAC;EACD,OAAO+H,MAAM;AACf,CAAC;AAED,IAAMC,SAAS,GAAG,SAAZA,SAAS,SAKT;EAAA,IAJJnG,SAAS,UAATA,SAAS;IACT7B,UAAU,UAAVA,UAAU;IACVrK,UAAU,UAAVA,UAAU;IACVsK,OAAO,UAAPA,OAAO;EAEP,IAAMhU,EAAE,GAAGsJ,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACtK,EAAE;EAAA,EAAC;EAC1C,OAAOA,EAAE,GAAGtC,IAAI,CAAC+R,cAAc,EAAE;IAC/B+D,QAAQ,EAAE,CAAC9V,IAAI,CAAC4Q,KAAK,EAAE;MACrBkF,QAAQ,EAAE,CAAC7V,GAAG,CAACX,iBAAiB,EAAE,CAAC,CAAC,CAAC,EAAEW,GAAG,CAAC6R,KAAK,EAAE;QAChDwG,KAAK,EAAEJ,SAAS,GAAG;UACjBlI,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACxQ,GAAG,CAAC2Q,QAAQ,EAAE;QACtD,CAAC,GAAG,CAAC,CAAC;QACNV,QAAQ,EAAE;MACZ,CAAC,CAAC,EAAE7V,GAAG,CAAC0Q,UAAU,EAAE;QAClBmF,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACV,mBAAmB,EAAE,CAAC,CAAC,CAAC,EAAEU,GAAG,CAAC6R,KAAK,EAAE;QAClDwG,KAAK,EAAEJ,SAAS,GAAG;UACjBlI,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACjQ,GAAG,CAACoQ,QAAQ,EAAE;QACtD,CAAC,GAAG,CAAC,CAAC;QACNV,QAAQ,EAAE;MACZ,CAAC,CAAC,EAAE7V,GAAG,CAAC0Q,UAAU,EAAE;QAClBmF,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACT,YAAY,EAAE,CAAC,CAAC,CAAC,EAAES,GAAG,CAAC6R,KAAK,EAAE;QAC3CwG,KAAK,EAAEJ,SAAS,GAAG;UACjBlI,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACpQ,GAAG;QAC3C,CAAC,GAAG,CAAC,CAAC;QACN6P,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE,CAACQ,OAAO,IAAIhU,EAAE,IAAItC,IAAI,CAAC4Q,KAAK,EAAE;MAChCkF,QAAQ,EAAE,CAAC7V,GAAG,CAACR,oBAAoB,EAAE,CAAC,CAAC,CAAC,EAAEQ,GAAG,CAAC6R,KAAK,EAAE;QACnDgE,QAAQ,EAAExT,EAAE,CAACuK,IAAI,CAACqI,MAAM,CAACoJ,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG;MAClD,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE,CAAChI,OAAO,IAAIhU,EAAE,IAAItC,IAAI,CAAC4Q,KAAK,EAAE;MAChCkF,QAAQ,EAAE,CAAC7V,GAAG,CAACb,cAAc,EAAE,CAAC,CAAC,CAAC,EAAEa,GAAG,CAAC6R,KAAK,EAAE;QAC7CgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9J,UAAU,IAAIhM,IAAI,CAAC4Q,KAAK,EAAE;MAC5BkF,QAAQ,EAAE,CAAC7V,GAAG,CAACP,YAAY,EAAE,CAAC,CAAC,CAAC,EAAEO,GAAG,CAAC6R,KAAK,EAAE;QAC3CwG,KAAK,EAAEJ,SAAS,GAAG;UACjBlI,KAAK,gBAASuG,WAAW,CAACF,UAAU,CAAC,CAACI,MAAM;QAC9C,CAAC,GAAG,CAAC,CAAC;QACNX,QAAQ,EAAE9J,UAAU,CAACtG;MACvB,CAAC,CAAC,EAAEsG,UAAU,CAACa,IAAI,IAAI5M,GAAG,CAAC0Q,UAAU,EAAE;QACrCmF,QAAQ,EAAE9J,UAAU,CAACa;MACvB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC,GAAG,IAAI;AACX,CAAC;AAED,IAAM0R,MAAM,GAAG,SAATA,MAAM,SAQN;EAAA,IAPJrG,SAAS,UAATA,SAAS;IACT7B,UAAU,UAAVA,UAAU;IACVrJ,WAAW,UAAXA,WAAW;IACXhB,UAAU,UAAVA,UAAU;IACViB,YAAY,UAAZA,YAAY;IACZuR,aAAa,UAAbA,aAAa;IACblI,OAAO,UAAPA,OAAO;EAEP,OAAOtW,IAAI,CAACE,QAAQ,EAAE;IACpB4V,QAAQ,EAAE,CAAC7V,GAAG,CAACoe,SAAS,EAAE;MACxBnG,SAAS,EAAEA,SAAS;MACpB7B,UAAU,EAAEA,UAAU;MACtBrK,UAAU,EAAEA,UAAU;MACtBsK,OAAO,EAAEA;IACX,CAAC,CAAC,EAAE,CAACA,OAAO,IAAIrW,GAAG,CAACwe,SAAS,EAAE;MAC7BxR,YAAY,EAAEA,YAAY;MAC1BuR,aAAa,EAAEA,aAAa;MAC5BxR,WAAW,EAAEA,WAAW;MACxBkL,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMwG,MAAM,GAAG,SAATA,MAAM,SAEN;EAAA,IADJzR,YAAY,UAAZA,YAAY;EAEZ,OAAOjN,IAAI,CAAC,KAAK,EAAE;IACjB8V,QAAQ,EAAE,CAAC9V,IAAI,CAAC4Q,KAAK,EAAE;MACrBkF,QAAQ,EAAE,CAAC7V,GAAG,CAACN,UAAU,EAAE,CAAC,CAAC,CAAC,EAAEM,GAAG,CAAC6R,KAAK,EAAE;QACzCgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACnB,SAAS,EAAE,CAAC,CAAC,CAAC,EAAEmB,GAAG,CAAC6R,KAAK,EAAE;QACxCgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACZ,eAAe,EAAE,CAAC,CAAC,CAAC,EAAEY,GAAG,CAAC6R,KAAK,EAAE;QAC9CgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACL,SAAS,EAAE,CAAC,CAAC,CAAC,EAAEK,GAAG,CAAC6R,KAAK,EAAE;QACxCgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE9V,IAAI,CAAC4Q,KAAK,EAAE;MACdkF,QAAQ,EAAE,CAAC7V,GAAG,CAACJ,OAAO,EAAE,CAAC,CAAC,CAAC,EAAEI,GAAG,CAAC6R,KAAK,EAAE;QACtCgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,EAAE7I,YAAY,IAAIjN,IAAI,CAAC4Q,KAAK,EAAE;MAC9BkF,QAAQ,EAAE,CAAC7V,GAAG,CAACH,gBAAgB,EAAE,CAAC,CAAC,CAAC,EAAEG,GAAG,CAAC6R,KAAK,EAAE;QAC/CgE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAM6I,QAAQ,GAAG,SAAXA,QAAQ,SAIR;EAAA,IAHJtS,GAAG,UAAHA,GAAG;IACHuS,KAAK,UAALA,KAAK;IACL/S,GAAG,UAAHA,GAAG;EAEH,IAAMgT,QAAQ,GAAGjT,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACP,GAAG;EAAA,EAAC;EACjD,OAAOpM,GAAG,CAACyS,MAAM,EAAE;IACjBsH,SAAS,YAAK6E,QAAQ,KAAKxS,GAAG,GAAG,2BAA2B,GAAG,EAAE,CAAE;IACnE2Q,OAAO,EAAE,mBAAM;MACbnR,GAAG,CAAC,IAAI,CAAC;MACTD,YAAY,CAACW,QAAQ,CAAC;QACpBF,GAAG,EAAEA;MACP,CAAC,CAAC;IACJ,CAAC;IACDyJ,QAAQ,EAAE7V,GAAG,CAAC,MAAM,EAAE;MACpB6V,QAAQ,EAAE8I;IACZ,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMH,SAAS,GAAG,SAAZA,SAAS,SAKT;EAAA,IAJJD,aAAa,UAAbA,aAAa;IACbtG,SAAS,UAATA,SAAS;IACTlL,WAAW,UAAXA,WAAW;IACXC,YAAY,UAAZA,YAAY;EAEZ,sBAAoB1P,KAAK,CAACM,QAAQ,CAAC2gB,aAAa,CAAC;IAAA;IAA1CM,IAAI;IAAEjT,GAAG;EAChB,OAAO7L,IAAI,CAAC,MAAM,EAAE;IAClB8V,QAAQ,EAAE,CAAC7V,GAAG,CAAC8e,aAAa,EAAE;MAC5BD,IAAI,EAAEA,IAAI;MACV5G,SAAS,EAAEA,SAAS;MACpBjL,YAAY,EAAEA;IAChB,CAAC,CAAC,EAAEuR,aAAa,IAAI,CAACxR,WAAW,GAAG,IAAI,GAAGhN,IAAI,CAAC8T,eAAe,EAAE;MAC/DkG,SAAS,EAAE,eAAe;MAC1BlE,QAAQ,EAAE,CAAC9I,WAAW,IAAI/M,GAAG,CAAC0e,QAAQ,EAAE;QACtCtS,GAAG,EAAE,UAAU;QACfuS,KAAK,EAAE,UAAU;QACjB/S,GAAG,EAAEA;MACP,CAAC,CAAC,EAAEmB,WAAW,IAAI/M,GAAG,CAAC0e,QAAQ,EAAE;QAC/BtS,GAAG,EAAE,OAAO;QACZuS,KAAK,EAAE,OAAO;QACd/S,GAAG,EAAEA;MACP,CAAC,CAAC,EAAE5L,GAAG,CAACyS,MAAM,EAAE;QACdsK,OAAO,EAAE,mBAAM;UACbnR,GAAG,CAAC,CAACiT,IAAI,CAAC;QACZ,CAAC;QACDhJ,QAAQ,EAAEgJ,IAAI,GAAG9e,IAAI,CAAC,MAAM,EAAE;UAC5B8V,QAAQ,EAAE,CAAC7V,GAAG,CAACtB,gBAAgB,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW;QACnD,CAAC,CAAC,GAAGqB,IAAI,CAAC,MAAM,EAAE;UAChB8V,QAAQ,EAAE,CAAC7V,GAAG,CAACrB,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO;QAC7C,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMmgB,aAAa,GAAG,SAAhBA,aAAa,SAIb;EAAA,IAHJD,IAAI,UAAJA,IAAI;IACJ5G,SAAS,UAATA,SAAS;IACTjL,YAAY,UAAZA,YAAY;EAEZ,IAAMZ,GAAG,GAAGT,YAAY,CAAC,UAAAgB,KAAK;IAAA,OAAIA,KAAK,CAACP,GAAG;EAAA,EAAC;EAC5C,OAAOrM,IAAI,CAACE,QAAQ,EAAE;IACpB4V,QAAQ,EAAE,CAAC7V,GAAG,CAACye,MAAM,EAAE;MACrBzR,YAAY,EAAEA;IAChB,CAAC,CAAC,EAAE6R,IAAI,IAAI7e,GAAG,CAAC,KAAK,EAAE;MACrB6V,QAAQ,EAAE7V,GAAG,CAACiT,eAAe,EAAE;QAC7BoF,KAAK,EAAE;UACL3F,SAAS,EAAEuF,SAAS,GAAG,MAAM,GAAG;QAClC,CAAC;QACDpC,QAAQ,EAAEzJ,GAAG,KAAK,UAAU,IAAIpM,GAAG,CAACke,UAAU,EAAE,CAAC,CAAC;MACpD,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAMa,GAAG,GAAG,SAANA,GAAG,SAaH;EAAA,IAZJ9G,SAAS,UAATA,SAAS;IACT7B,UAAU,UAAVA,UAAU;IACVmI,aAAa,UAAbA,aAAa;IACbxE,SAAS,UAATA,SAAS;IACT1B,KAAK,UAALA,KAAK;IACLvP,QAAQ,UAARA,QAAQ;IACR/F,KAAK,UAALA,KAAK;IACLgK,WAAW,UAAXA,WAAW;IACXoL,SAAS,UAATA,SAAS;IACTpM,UAAU,UAAVA,UAAU;IACViB,YAAY,UAAZA,YAAY;IACZqJ,OAAO,UAAPA,OAAO;EAEP,IAAM2I,gBAAgB,GAAGthB,MAAM,CAAC,IAAI,CAAC;EACrC,OAAOqC,IAAI,CAACE,QAAQ,EAAE;IACpB4V,QAAQ,EAAE,CAAC7V,GAAG,CAAC6M,QAAQ,EAAE;MACvB9J,KAAK,EAAEA,KAAK;MACZgK,WAAW,EAAEA,WAAW;MACxBC,YAAY,EAAEA;IAChB,CAAC,CAAC,EAAEhN,GAAG,CAAC4Z,IAAI,EAAE;MACZpG,SAAS,EAAE,KAAK;MAChBqC,QAAQ,EAAE9V,IAAI,CAAC0P,KAAK,EAAE;QACpBsK,SAAS,EAAE,CAACA,SAAS,GAAG,GAAG,CAACkF,MAAM,CAAClF,SAAS,CAAC,GAAG,GAAG,eAAQjR,QAAQ,GAAGA,QAAQ,GAAG,EAAE,cAAIuN,OAAO,GAAG,SAAS,GAAG,EAAE,CAAE;QACjHgC,KAAK,EAAE7W,cAAc,CAAC;UACpByO,SAAS,EAAEoG,OAAO,GAAG,MAAM,GAAG4B,SAAS,GAAG,OAAO,GAAG;QACtD,CAAC,EAAEI,KAAK,CAAC;QACTtC,GAAG,EAAEiJ,gBAAgB;QACrBnJ,QAAQ,EAAE,CAAC7V,GAAG,CAACgY,OAAO,EAAE;UACtBgH,gBAAgB,EAAEA,gBAAgB;UAClC5I,UAAU,EAAEA,UAAU;UACtBrT,KAAK,EAAEA,KAAK;UACZkV,SAAS,EAAEA,SAAS;UACpBE,SAAS,EAAEA,SAAS;UACpBpM,UAAU,EAAEA,UAAU;UACtBsK,OAAO,EAAEA,OAAO;UAChBrJ,YAAY,EAAEA;QAChB,CAAC,CAAC,EAAEhN,GAAG,CAACse,MAAM,EAAE;UACdlI,UAAU,EAAEA,UAAU;UACtB6B,SAAS,EAAEA,SAAS;UACpBlL,WAAW,EAAEA,WAAW;UACxBwR,aAAa,EAAEA,aAAa;UAC5BxS,UAAU,EAAEA,UAAU;UACtBiB,YAAY,EAAEA,YAAY;UAC1BqJ,OAAO,EAAEA;QACX,CAAC,CAAC;MACJ,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAED,IAAM6I,IAAI,GAAG,SAAPA,IAAI,SAkBJ;EAAA,6BAjBJC,QAAQ;IAAEC,SAAS,gCAAG,KAAK;IAAA,2BAC3BhJ,UAAU;IAAEiJ,WAAW,kCAAG,KAAK;IAAA,0BAC/BpH,SAAS;IAAEC,UAAU,iCAAG,IAAI;IAAA,yBAC5BpL,QAAQ;IAAEwS,SAAS,gCAAG,KAAK;IAAA,4BAC3BvS,WAAW;IAAEwS,YAAY,mCAAG,KAAK;IAAA,0BACjCpH,SAAS;IAAEC,UAAU,iCAAG,IAAI;IAAA,8BAC5BmG,aAAa;IAAEiB,cAAc,qCAAG,IAAI;IACpCzT,UAAU,UAAVA,UAAU;IAAA,6BACViB,YAAY;IAAEyS,aAAa,oCAAG,KAAK;IAAA,yBACnC3W,QAAQ;IAAE4W,SAAS,gCAAG,WAAW;IAAA,sBACjC3c,KAAK;IAAE2T,MAAM,6BAAG;MACd9U,MAAM,EAAE,EAAE;MACV4E,EAAE,EAAE;IACN,CAAC;IACDuT,SAAS,UAATA,SAAS;IACT1B,KAAK,UAALA,KAAK;IAAA,wBACLhC,OAAO;IAAEsJ,QAAQ,+BAAG,KAAK;EAEzB,OAAOP,SAAS,GAAGpf,GAAG,CAAC6M,QAAQ,EAAE;IAC/B9J,KAAK,EAAE2T,MAAM;IACb3J,WAAW,EAAEwS,YAAY;IACzBvS,YAAY,EAAEyS;EAChB,CAAC,CAAC,GAAGzf,GAAG,CAAC+e,GAAG,EAAE;IACZ3I,UAAU,EAAEiJ,WAAW;IACvBpH,SAAS,EAAEC,UAAU;IACrBpL,QAAQ,EAAEwS,SAAS;IACnBf,aAAa,EAAEiB,cAAc;IAC7BzF,SAAS,EAAEA,SAAS;IACpB1B,KAAK,EAAEA,KAAK;IACZvP,QAAQ,EAAE4W,SAAS;IACnBvH,SAAS,EAAEC,UAAU;IACrBrV,KAAK,EAAE2T,MAAM;IACb3J,WAAW,EAAEwS,YAAY;IACzBlJ,OAAO,EAAEsJ,QAAQ;IACjB5T,UAAU,EAAEA,UAAU;IACtBiB,YAAY,EAAEyS;EAChB,CAAC,CAAC;AACJ,CAAC;AACD,IAAMG,OAAO,GAAGnT,WAAW;AAE3B,SAASyS,IAAI,EAAE3S,aAAa,EAAEF,aAAa,EAAEuT,OAAO"},"metadata":{},"sourceType":"module"}