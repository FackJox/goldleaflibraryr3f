{"ast":null,"code":"import _objectSpread from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/run/media/private/jack/Media/Projects/GoldenLeaf/LibraryR3F/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"containerRef\", \"style\"],\n  _excluded2 = [\"container\"];\nimport { Primitive as o } from \"@radix-ui/react-primitive\";\nimport { useLayoutEffect as t } from \"@radix-ui/react-use-layout-effect\";\nimport e from \"react-dom\";\nimport * as r from \"react\";\nimport l from \"@babel/runtime/helpers/esm/extends\";\nexport var Portal = /*#__PURE__*/r.forwardRef(function (a, i) {\n  var n, d;\n  var s = a.containerRef,\n    u = a.style,\n    c = _objectWithoutProperties(a, _excluded),\n    m = null !== (n = null == s ? void 0 : s.current) && void 0 !== n ? n : null === globalThis || void 0 === globalThis || null === (d = globalThis.document) || void 0 === d ? void 0 : d.body,\n    _r$useState = r.useState({}),\n    _r$useState2 = _slicedToArray(_r$useState, 2),\n    f = _r$useState2[1];\n  return t(function () {\n    f({});\n  }, []), m ? /*#__PURE__*/e.createPortal( /*#__PURE__*/r.createElement(o.div, l({\n    \"data-radix-portal\": \"\"\n  }, c, {\n    ref: i,\n    style: m === document.body ? _objectSpread({\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      zIndex: 2147483647\n    }, u) : void 0\n  })), m) : null;\n}); /*#__PURE__*/\nexport var UnstablePortal = /*#__PURE__*/r.forwardRef(function (t, a) {\n  var i;\n  var _t$container = t.container,\n    n = _t$container === void 0 ? null === globalThis || void 0 === globalThis || null === (i = globalThis.document) || void 0 === i ? void 0 : i.body : _t$container,\n    d = _objectWithoutProperties(t, _excluded2);\n  return n ? /*#__PURE__*/e.createPortal( /*#__PURE__*/r.createElement(o.div, l({}, d, {\n    ref: a\n  })), n) : null;\n}); /*#__PURE__*/\nexport var Root = Portal;","map":{"version":3,"sources":["packages/react/portal/src/Portal.tsx"],"names":["Portal","React","forwardRef","props","forwardedRef","containerRef","style","portalProps","hostElement","current","globalThis","document","body","forceUpdate","useState","useLayoutEffect","ReactDOM","createPortal","_react","Primitive","div","ref","position","top","left","zIndex","undefined","UnstablePortal","container","Root"],"mappings":";;;;;;;;;;OAqBA,IAAMA,MAAAA,GAAAA,aAASC,CAAAA,CAAMC,UAAAA,CAAuC,UAACC,CAAAA,EAAOC,CAAAA,EAAAA;EAAiB,IAAA,CAAA,EAAA,CAAA;EACnF,IAAQC,CAAAA,GAAwCF,CAAAA,CAA1CE,YAAAA;IAAgBC,CAAAA,GAA0BH,CAAAA,CAA1CE,KAAAA;IAA0BE,CAAAA,4BAAgBJ,CAAAA;IAC1CK,CAAAA,GAAW,IAAA,MAAA,CAAA,GAAGH,IAAAA,IAAAA,CAAAA,GAAAA,KAAH,CAAA,GAAGA,CAAAA,CAAcI,OAAAA,CAAAA,IAAAA,KAAjB,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA,IAAA,KAA4BC,UAAAA,IAAAA,KAA5B,CAAA,KAA4BA,UAAAA,IAA5B,IAAA,MAAA,CAAA,GAA4BA,UAAAA,CAAYC,QAAAA,CAAAA,IAAAA,KAAxC,CAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA4BD,CAAAA,CAAsBE,IAAAA;IAAAA,cAC3CX,CAAAA,CAAMa,QAAAA,CAAS,CAAA,CAAA,CAAA;IAAA;IAA9BD,CAAAA;EAUT,OAJAE,CAAAA,CAAgB,YAAA;IACdF,CAAAA,CAAY,CAAA,CAAA,CAAA;EAAA,CAAA,EACX,EAAA,CAAA,EAECL,CAAAA,GAAAA,aACKQ,CAAAA,CAASC,YAAAA,EAAAA,aACdC,CAAAA,CAAAA,aAAAA,CAACC,CAAAA,CAAUC,GAAAA,EAAXF,CAAAA,CAAAA;IACE,mBAAA,EAAkB;EAAA,CAAA,EACdX,CAAAA,EAFNW;IAGEG,GAAAA,EAAKjB,CAAAA;IACLE,KAAAA,EAOEE,CAAAA,KAAgBG,QAAAA,CAASC,IAAAA;MAEnBU,QAAAA,EAAU,UAAA;MACVC,GAAAA,EAAK,CAAA;MACLC,IAAAA,EAAM,CAAA;MACNC,MAAAA,EA7CI;IAAA,GA8CDnB,CAAAA,IAAAA,KAELoB;EAAAA,CAAAA,CAAAA,CAAAA,EAGRlB,CAAAA,CAAAA,GAKG,IAAA;AAAA,CAAA,CAAA,CAAA;AAAA,OAgBT,IAAMmB,cAAAA,GAAAA,aAAiB1B,CAAAA,CAAMC,UAAAA,CAC3B,UAACC,CAAAA,EAAOC,CAAAA,EAAAA;EAAiB,IAAA,CAAA;EACvB,mBAAmED,CAAAA,CAA7DyB,SAAAA;IAAEA,CAAAA,6BAAS,IAAA,KAAGlB,UAAAA,IAAAA,KAAH,CAAA,KAAGA,UAAAA,IAAH,IAAA,MAAA,CAAA,GAAGA,UAAAA,CAAYC,QAAAA,CAAAA,IAAAA,KAAf,CAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAGD,CAAAA,CAAsBE,IAAAA;IAASL,CAAAA,4BAAgBJ,CAAAA;EACnE,OAAOyB,CAAAA,GAAAA,aACHZ,CAAAA,CAASC,YAAAA,EAAAA,aAAaC,CAAAA,CAAAA,aAAAA,CAACC,CAAAA,CAAUC,GAAAA,EAAXF,CAAAA,CAAAA,CAAAA,CAAAA,EAAmBX,CAAAA,EAAnBW;IAAgCG,GAAAA,EAAKjB;EAAAA,CAAAA,CAAAA,CAAAA,EAAkBwB,CAAAA,CAAAA,GAC7E,IAAA;AAAA,CAAA,CAAA,CAAA;AAAA,OAQR,IAAMC,IAAAA,GAAO7B,MAAAA","sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\nconst MAX_Z_INDEX = 2147483647;\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  containerRef?: React.RefObject<HTMLElement>;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { containerRef, style, ...portalProps } = props;\n  const hostElement = containerRef?.current ?? globalThis?.document?.body;\n  const [, forceUpdate] = React.useState({});\n\n  /**\n   * containerRef.current won't be set on first render, so we force a re-render.\n   * Because we do this in `useLayoutEffect`, we still avoid a flash.\n   */\n  useLayoutEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  if (hostElement) {\n    return ReactDOM.createPortal(\n      <Primitive.div\n        data-radix-portal=\"\"\n        {...portalProps}\n        ref={forwardedRef}\n        style={\n          /**\n           * If the Portal is injected in `body`, we assume we want whatever is portalled\n           * to appear on top of everything. Ideally this would be handled by making sure the\n           * app root creates a new stacking context, however this is quite hard to automate.\n           * For this reason, we have opted for setting the max z-index on the portal itself.\n           */\n          hostElement === document.body\n            ? {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                zIndex: MAX_Z_INDEX,\n                ...style,\n              }\n            : undefined\n        }\n      />,\n      hostElement\n    );\n  }\n\n  // bail out of ssr\n  return null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * UnstablePortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst UNSTABLE_PORTAL_NAME = 'Portal';\n\ntype UnstablePortalElement = React.ElementRef<typeof Primitive.div>;\ninterface UnstablePortalProps extends PrimitiveDivProps {\n  container?: HTMLElement | null;\n}\n\nconst UnstablePortal = React.forwardRef<UnstablePortalElement, UnstablePortalProps>(\n  (props, forwardedRef) => {\n    const { container = globalThis?.document?.body, ...portalProps } = props;\n    return container\n      ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n      : null;\n  }\n);\n\nUnstablePortal.displayName = UNSTABLE_PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  UnstablePortal,\n  //\n  Root,\n};\nexport type { PortalProps, UnstablePortalProps };\n"]},"metadata":{},"sourceType":"module"}